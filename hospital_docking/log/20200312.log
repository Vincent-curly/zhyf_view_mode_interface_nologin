2020-03-12 03:23:52,112 django.request:WARNING:log:log_response:MainProcess:864:Not Found: /
2020-03-12 03:23:58,190 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC341080>
2020-03-12 03:23:58,190 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:58,190 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,192 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,192 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:58,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:58,193 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,194 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,194 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('lower_case_table_names', '1')
2020-03-12 03:23:58,195 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT DATABASE()
2020-03-12 03:23:58,195 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,195 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('DATABASE()',)
2020-03-12 03:23:58,195 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('zhyf_host',)
2020-03-12 03:23:58,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,197 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC341080> checked out from pool
2020-03-12 03:23:58,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `pres_consignee`
2020-03-12 03:23:58,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,198 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:58,198 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:23:58,198 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `mid _prescriptions`
2020-03-12 03:23:58,198 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,199 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:58,199 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:23:58,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `mid_prescription_details`
2020-03-12 03:23:58,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,200 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:58,200 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:23:58,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `custom_addr`
2020-03-12 03:23:58,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,201 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:58,201 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:23:58,201 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC341080> being returned to pool
2020-03-12 03:23:58,202 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC341080> rollback-on-return
2020-03-12 03:23:58,204 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3415F8>
2020-03-12 03:23:58,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:58,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,205 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,206 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:58,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:58,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,207 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,207 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('lower_case_table_names', '1')
2020-03-12 03:23:58,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT DATABASE()
2020-03-12 03:23:58,208 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,208 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('DATABASE()',)
2020-03-12 03:23:58,208 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('addr_test',)
2020-03-12 03:23:58,209 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,209 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,209 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,209 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,210 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3415F8> checked out from pool
2020-03-12 03:23:58,210 root:INFO:models:mysql_connect:MainProcess:864:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:23:58,210 root:INFO:models:mysql_connect:MainProcess:864:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:23:58,210 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3415F8> being returned to pool
2020-03-12 03:23:58,210 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3415F8> rollback-on-return
2020-03-12 03:23:58,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC377898>
2020-03-12 03:23:58,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:58,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:58,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:58,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,218 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('lower_case_table_names', '1')
2020-03-12 03:23:58,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT DATABASE()
2020-03-12 03:23:58,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('DATABASE()',)
2020-03-12 03:23:58,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('zhyf_host',)
2020-03-12 03:23:58,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC377898> checked out from pool
2020-03-12 03:23:58,222 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:864:BEGIN (implicit)
2020-03-12 03:23:58,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:23:58,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{'custom_num_1': '5550008088'}
2020-03-12 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:23:58,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC377898> being returned to pool
2020-03-12 03:23:58,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC377898> rollback-on-return, via agent
2020-03-12 03:23:58,224 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:864:ROLLBACK
2020-03-12 03:23:58,224 root:INFO:views:entry_addr:MainProcess:864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000022ACC3A7780>, <hospital_test.models.Address object at 0x0000022ACC3A77F0>, <hospital_test.models.Address object at 0x0000022ACC3A7860>, <hospital_test.models.Address object at 0x0000022ACC3A78D0>]}
2020-03-12 03:23:58,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3A7BA8>
2020-03-12 03:23:58,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:58,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,228 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:58,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:58,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:23:58,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('lower_case_table_names', '1')
2020-03-12 03:23:58,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT DATABASE()
2020-03-12 03:23:58,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:23:58,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('DATABASE()',)
2020-03-12 03:23:58,230 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('zhyf_host',)
2020-03-12 03:23:58,231 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,231 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:58,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:23:58,232 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3A7BA8> checked out from pool
2020-03-12 03:23:58,232 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:864:BEGIN (implicit)
2020-03-12 03:23:58,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:23:58,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:23:58,233 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:23:58,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:23:58,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3A7BA8> being returned to pool
2020-03-12 03:23:58,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC3A7BA8> rollback-on-return, via agent
2020-03-12 03:23:58,234 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:864:ROLLBACK
2020-03-12 03:23:58,234 root:INFO:views:entry_addr:MainProcess:864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000022ACC3A7780>, <hospital_test.models.Address object at 0x0000022ACC3A77F0>, <hospital_test.models.Address object at 0x0000022ACC3A7860>, <hospital_test.models.Address object at 0x0000022ACC3A78D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000022ACC3BA668>]}
2020-03-12 03:24:11,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC0D4A90>
2020-03-12 03:24:11,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:24:11,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,249 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:24:11,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:24:11,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:24:11,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,250 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Variable_name', 'Value')
2020-03-12 03:24:11,250 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('lower_case_table_names', '1')
2020-03-12 03:24:11,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:SELECT DATABASE()
2020-03-12 03:24:11,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,251 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('DATABASE()',)
2020-03-12 03:24:11,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('zhyf_host',)
2020-03-12 03:24:11,252 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:24:11,252 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:24:11,253 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:24:11,253 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:864:{}
2020-03-12 03:24:11,253 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC0D4A90> checked out from pool
2020-03-12 03:24:11,254 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `pres_consignee`
2020-03-12 03:24:11,254 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:24:11,255 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:24:11,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `mid _prescriptions`
2020-03-12 03:24:11,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,256 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:24:11,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:24:11,257 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `mid_prescription_details`
2020-03-12 03:24:11,257 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,257 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:24:11,257 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:24:11,257 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:DESCRIBE `custom_addr`
2020-03-12 03:24:11,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:864:{}
2020-03-12 03:24:11,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:24:11,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:864:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:24:11,258 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC0D4A90> being returned to pool
2020-03-12 03:24:11,258 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000022ACC0D4A90> rollback-on-return
2020-03-12 03:24:11,280 django.request:ERROR:log:log_response:MainProcess:864:Internal Server Error: /customAddr/entry_addr.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\utils\datastructures.py", line 76, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'pres_num'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 24, in entry_addr
    pres_num = request.GET['pres_num']
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\utils\datastructures.py", line 78, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'pres_num'
2020-03-12 03:30:12,433 asyncio:DEBUG:selector_events:__init__:MainProcess:864:Using selector: SelectSelector
2020-03-12 03:30:21,371 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:27928:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4A1898>
2020-03-12 03:30:21,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:30:21,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:30:21,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:30:21,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,375 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,375 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('lower_case_table_names', '1')
2020-03-12 03:30:21,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SELECT DATABASE()
2020-03-12 03:30:21,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('DATABASE()',)
2020-03-12 03:30:21,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('zhyf_host',)
2020-03-12 03:30:21,377 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,378 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,378 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,378 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,378 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4A1898> checked out from pool
2020-03-12 03:30:21,380 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:DESCRIBE `pres_consignee`
2020-03-12 03:30:21,380 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,380 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:30:21,380 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:30:21,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:DESCRIBE `mid _prescriptions`
2020-03-12 03:30:21,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:30:21,382 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:30:21,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:DESCRIBE `mid_prescription_details`
2020-03-12 03:30:21,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,383 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:30:21,384 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:30:21,384 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:DESCRIBE `custom_addr`
2020-03-12 03:30:21,384 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,385 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:30:21,385 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:30:21,385 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4A1898> being returned to pool
2020-03-12 03:30:21,385 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4A1898> rollback-on-return
2020-03-12 03:30:21,388 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:27928:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4F5908>
2020-03-12 03:30:21,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:30:21,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:30:21,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:30:21,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,391 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,391 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('lower_case_table_names', '1')
2020-03-12 03:30:21,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SELECT DATABASE()
2020-03-12 03:30:21,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,392 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('DATABASE()',)
2020-03-12 03:30:21,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('addr_test',)
2020-03-12 03:30:21,393 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,393 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,394 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,394 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,394 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4F5908> checked out from pool
2020-03-12 03:30:21,395 root:INFO:models:mysql_connect:MainProcess:27928:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:30:21,395 root:INFO:models:mysql_connect:MainProcess:27928:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:30:21,395 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4F5908> being returned to pool
2020-03-12 03:30:21,395 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C4F5908> rollback-on-return
2020-03-12 03:30:21,400 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:27928:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C50D828>
2020-03-12 03:30:21,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:30:21,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,402 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,403 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:30:21,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:30:21,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,404 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('lower_case_table_names', '1')
2020-03-12 03:30:21,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SELECT DATABASE()
2020-03-12 03:30:21,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,405 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('DATABASE()',)
2020-03-12 03:30:21,405 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('zhyf_host',)
2020-03-12 03:30:21,405 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,405 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,407 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C50D828> checked out from pool
2020-03-12 03:30:21,407 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:27928:BEGIN (implicit)
2020-03-12 03:30:21,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:30:21,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{'custom_num_1': '5550008088'}
2020-03-12 03:30:21,409 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:30:21,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:30:21,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:30:21,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:30:21,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:30:21,409 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C50D828> being returned to pool
2020-03-12 03:30:21,409 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C50D828> rollback-on-return, via agent
2020-03-12 03:30:21,409 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:27928:ROLLBACK
2020-03-12 03:30:21,410 root:INFO:views:entry_addr:MainProcess:27928:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B14C542C50>, <hospital_test.models.Address object at 0x000001B14C542CC0>, <hospital_test.models.Address object at 0x000001B14C542DD8>, <hospital_test.models.Address object at 0x000001B14C5427B8>]}
2020-03-12 03:30:21,411 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:27928:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C557208>
2020-03-12 03:30:21,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:30:21,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:30:21,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:30:21,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('Variable_name', 'Value')
2020-03-12 03:30:21,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('lower_case_table_names', '1')
2020-03-12 03:30:21,415 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SELECT DATABASE()
2020-03-12 03:30:21,415 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{}
2020-03-12 03:30:21,415 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('DATABASE()',)
2020-03-12 03:30:21,415 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('zhyf_host',)
2020-03-12 03:30:21,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:30:21,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:27928:{}
2020-03-12 03:30:21,417 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C557208> checked out from pool
2020-03-12 03:30:21,417 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:27928:BEGIN (implicit)
2020-03-12 03:30:21,418 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:30:21,418 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:27928:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:30:21,418 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:27928:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:30:21,418 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:27928:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:30:21,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C557208> being returned to pool
2020-03-12 03:30:21,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:27928:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B14C557208> rollback-on-return, via agent
2020-03-12 03:30:21,418 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:27928:ROLLBACK
2020-03-12 03:30:21,419 root:INFO:views:entry_addr:MainProcess:27928:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B14C542C50>, <hospital_test.models.Address object at 0x000001B14C542CC0>, <hospital_test.models.Address object at 0x000001B14C542DD8>, <hospital_test.models.Address object at 0x000001B14C5427B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B14C4CEAC8>]}
2020-03-12 03:31:09,296 django.security.csrf:WARNING:log:log_response:MainProcess:27928:Forbidden (CSRF token missing or incorrect.): /customAddr/entry_addr.do
2020-03-12 03:31:25,605 asyncio:DEBUG:selector_events:__init__:MainProcess:27928:Using selector: SelectSelector
2020-03-12 03:31:37,198 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CF3C88>
2020-03-12 03:31:37,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:31:37,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,201 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,201 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:31:37,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:31:37,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,203 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,203 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:31:37,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:31:37,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,204 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:31:37,204 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:31:37,205 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,205 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,207 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CF3C88> checked out from pool
2020-03-12 03:31:37,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:31:37,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,208 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:31:37,208 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:31:37,208 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:31:37,208 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,210 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:31:37,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:31:37,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:31:37,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:31:37,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:31:37,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:31:37,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,213 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:31:37,213 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:31:37,213 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CF3C88> being returned to pool
2020-03-12 03:31:37,213 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CF3C88> rollback-on-return
2020-03-12 03:31:37,216 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D66080>
2020-03-12 03:31:37,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:31:37,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,218 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:31:37,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:31:37,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:31:37,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:31:37,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:31:37,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:31:37,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D66080> checked out from pool
2020-03-12 03:31:37,223 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:31:37,223 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:31:37,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D66080> being returned to pool
2020-03-12 03:31:37,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D66080> rollback-on-return
2020-03-12 03:31:37,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D80A90>
2020-03-12 03:31:37,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:31:37,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,230 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:31:37,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:31:37,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:31:37,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:31:37,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:31:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:31:37,234 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,234 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,235 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,235 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D80A90> checked out from pool
2020-03-12 03:31:37,236 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:31:37,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:31:37,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:31:37,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:31:37,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:31:37,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:31:37,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:31:37,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:31:37,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D80A90> being returned to pool
2020-03-12 03:31:37,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D80A90> rollback-on-return, via agent
2020-03-12 03:31:37,239 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:31:37,239 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775DC54A8>, <hospital_test.models.Address object at 0x000001A775DC5518>, <hospital_test.models.Address object at 0x000001A775DC5A58>, <hospital_test.models.Address object at 0x000001A775DC5AC8>]}
2020-03-12 03:31:37,242 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCE320>
2020-03-12 03:31:37,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:31:37,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:31:37,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:31:37,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,245 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:31:37,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:31:37,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:31:37,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:31:37,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:31:37,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:31:37,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:31:37,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:31:37,248 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCE320> checked out from pool
2020-03-12 03:31:37,248 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:31:37,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:31:37,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:31:37,250 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:31:37,250 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:31:37,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCE320> being returned to pool
2020-03-12 03:31:37,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCE320> rollback-on-return, via agent
2020-03-12 03:31:37,251 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:31:37,251 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775DC54A8>, <hospital_test.models.Address object at 0x000001A775DC5518>, <hospital_test.models.Address object at 0x000001A775DC5A58>, <hospital_test.models.Address object at 0x000001A775DC5AC8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775DE9D30>]}
2020-03-12 03:44:11,286 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5208>
2020-03-12 03:44:11,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:11,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,289 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,289 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:11,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:11,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,290 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,290 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:11,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:11,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:11,291 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:11,292 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,292 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,293 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5208> checked out from pool
2020-03-12 03:44:11,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:44:11,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,294 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:11,294 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:44:11,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:44:11,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,296 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:11,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:44:11,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:44:11,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:11,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:44:11,297 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:44:11,297 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:11,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:44:11,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5208> being returned to pool
2020-03-12 03:44:11,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5208> rollback-on-return
2020-03-12 03:44:11,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDCDD8>
2020-03-12 03:44:11,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:11,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:11,302 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:11,302 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,303 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,303 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:11,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:11,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,304 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:11,305 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:44:11,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,306 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDCDD8> checked out from pool
2020-03-12 03:44:11,307 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:44:11,307 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:44:11,307 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDCDD8> being returned to pool
2020-03-12 03:44:11,307 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDCDD8> rollback-on-return
2020-03-12 03:44:11,310 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B02438>
2020-03-12 03:44:11,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:11,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:11,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:11,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,314 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,314 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:11,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:11,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,315 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:11,315 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:11,316 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,316 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,316 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,316 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,317 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B02438> checked out from pool
2020-03-12 03:44:11,317 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:44:11,317 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:44:11,317 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:44:11,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:44:11,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:44:11,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:44:11,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:44:11,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:44:11,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B02438> being returned to pool
2020-03-12 03:44:11,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B02438> rollback-on-return, via agent
2020-03-12 03:44:11,319 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:44:11,319 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775E3F080>, <hospital_test.models.Address object at 0x000001A775B02AC8>, <hospital_test.models.Address object at 0x000001A775B02E10>, <hospital_test.models.Address object at 0x000001A775B023C8>]}
2020-03-12 03:44:11,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5400>
2020-03-12 03:44:11,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:11,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,323 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,323 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:11,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:11,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:11,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:11,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:11,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:11,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:11,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:11,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:11,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:11,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5400> checked out from pool
2020-03-12 03:44:11,327 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:44:11,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:44:11,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:44:11,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:44:11,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:44:11,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5400> being returned to pool
2020-03-12 03:44:11,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DB5400> rollback-on-return, via agent
2020-03-12 03:44:11,329 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:44:11,329 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775E3F080>, <hospital_test.models.Address object at 0x000001A775B02AC8>, <hospital_test.models.Address object at 0x000001A775B02E10>, <hospital_test.models.Address object at 0x000001A775B023C8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775B02A58>]}
2020-03-12 03:44:12,313 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A70978>
2020-03-12 03:44:12,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:12,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,314 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,314 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:12,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:12,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,315 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,315 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:12,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:12,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,320 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:12,320 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:12,321 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,321 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,322 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,322 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,322 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A70978> checked out from pool
2020-03-12 03:44:12,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:44:12,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:12,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:44:12,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:44:12,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:12,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:44:12,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:44:12,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,327 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:12,327 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:44:12,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:44:12,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:12,328 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:44:12,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A70978> being returned to pool
2020-03-12 03:44:12,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A70978> rollback-on-return
2020-03-12 03:44:12,330 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A8B940>
2020-03-12 03:44:12,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:12,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,332 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,332 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:12,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:12,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,333 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:12,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:12,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,334 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:12,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:44:12,335 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,335 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,335 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,335 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A8B940> checked out from pool
2020-03-12 03:44:12,336 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:44:12,336 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:44:12,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A8B940> being returned to pool
2020-03-12 03:44:12,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A8B940> rollback-on-return
2020-03-12 03:44:12,339 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B94470>
2020-03-12 03:44:12,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:12,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:12,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:12,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,342 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,342 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:12,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:12,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,342 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:12,342 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:12,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B94470> checked out from pool
2020-03-12 03:44:12,344 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:44:12,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:44:12,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:44:12,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:44:12,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:44:12,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:44:12,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:44:12,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:44:12,346 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B94470> being returned to pool
2020-03-12 03:44:12,346 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B94470> rollback-on-return, via agent
2020-03-12 03:44:12,346 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:44:12,347 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775CE9F28>, <hospital_test.models.Address object at 0x000001A775A8BDA0>, <hospital_test.models.Address object at 0x000001A775E1E160>, <hospital_test.models.Address object at 0x000001A775E1E978>]}
2020-03-12 03:44:12,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E208>
2020-03-12 03:44:12,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:12,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,351 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,351 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:12,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:12,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:12,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:12,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:12,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:12,353 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:12,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:12,354 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,354 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:12,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:12,355 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E208> checked out from pool
2020-03-12 03:44:12,355 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:44:12,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:44:12,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:44:12,356 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:44:12,356 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:44:12,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E208> being returned to pool
2020-03-12 03:44:12,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E208> rollback-on-return, via agent
2020-03-12 03:44:12,356 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:44:12,357 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775CE9F28>, <hospital_test.models.Address object at 0x000001A775A8BDA0>, <hospital_test.models.Address object at 0x000001A775E1E160>, <hospital_test.models.Address object at 0x000001A775E1E978>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775B037F0>]}
2020-03-12 03:44:42,210 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E438>
2020-03-12 03:44:42,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:42,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:42,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:42,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,214 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:42,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:42,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:42,214 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:42,215 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,216 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,216 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,216 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,217 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E438> checked out from pool
2020-03-12 03:44:42,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:44:42,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,218 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:42,218 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:44:42,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:44:42,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:42,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:44:42,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:44:42,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:42,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:44:42,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:44:42,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,222 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:44:42,222 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:44:42,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E438> being returned to pool
2020-03-12 03:44:42,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1E438> rollback-on-return
2020-03-12 03:44:42,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B91F28>
2020-03-12 03:44:42,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:42,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:42,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:42,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,227 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:42,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:42,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:42,227 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:44:42,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,229 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B91F28> checked out from pool
2020-03-12 03:44:42,229 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:44:42,229 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:44:42,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B91F28> being returned to pool
2020-03-12 03:44:42,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775B91F28> rollback-on-return
2020-03-12 03:44:42,232 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D3E080>
2020-03-12 03:44:42,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:42,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,233 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,234 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:42,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:42,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,235 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,235 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:42,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:42,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:42,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:42,237 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,237 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,237 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,237 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,238 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D3E080> checked out from pool
2020-03-12 03:44:42,238 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:44:42,239 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:44:42,240 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D3E080> being returned to pool
2020-03-12 03:44:42,240 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D3E080> rollback-on-return, via agent
2020-03-12 03:44:42,240 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:44:42,240 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775B911D0>, <hospital_test.models.Address object at 0x000001A775B914A8>, <hospital_test.models.Address object at 0x000001A775B91DD8>, <hospital_test.models.Address object at 0x000001A775B912B0>]}
2020-03-12 03:44:42,243 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1EC50>
2020-03-12 03:44:42,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:44:42,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,244 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:44:42,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:44:42,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:44:42,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:44:42,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:44:42,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:44:42,247 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:44:42,247 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:44:42,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:44:42,249 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:44:42,249 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1EC50> checked out from pool
2020-03-12 03:44:42,249 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:44:42,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:44:42,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:44:42,250 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:44:42,250 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:44:42,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1EC50> being returned to pool
2020-03-12 03:44:42,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775E1EC50> rollback-on-return, via agent
2020-03-12 03:44:42,250 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:44:42,251 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775B911D0>, <hospital_test.models.Address object at 0x000001A775B914A8>, <hospital_test.models.Address object at 0x000001A775B91DD8>, <hospital_test.models.Address object at 0x000001A775B912B0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775D3E550>]}
2020-03-12 03:46:09,967 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7F6D8>
2020-03-12 03:46:09,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:09,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,968 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:09,968 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:09,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:09,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,970 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:09,970 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:09,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:09,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,972 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:09,972 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:46:09,973 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:09,973 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:09,974 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:09,974 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:09,975 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7F6D8> checked out from pool
2020-03-12 03:46:09,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:46:09,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,976 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:09,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:46:09,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:46:09,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,977 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:09,977 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:46:09,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:46:09,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,979 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:09,979 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:46:09,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:46:09,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:09,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:46:09,980 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7F6D8> being returned to pool
2020-03-12 03:46:09,980 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7F6D8> rollback-on-return
2020-03-12 03:46:09,982 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7FD30>
2020-03-12 03:46:09,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:09,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,983 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:09,984 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:09,984 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:09,984 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,985 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:09,985 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:09,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:09,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:09,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:46:09,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:09,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:09,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:09,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:09,989 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7FD30> checked out from pool
2020-03-12 03:46:09,989 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:46:09,989 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:46:09,989 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7FD30> being returned to pool
2020-03-12 03:46:09,989 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D7FD30> rollback-on-return
2020-03-12 03:46:09,992 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D59828>
2020-03-12 03:46:09,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:09,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,993 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:09,993 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:09,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:09,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,994 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:09,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:09,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:09,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:09,995 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:09,995 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:46:09,995 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:09,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:09,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:09,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:09,996 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D59828> checked out from pool
2020-03-12 03:46:09,996 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:46:09,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:46:09,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:46:09,998 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:46:09,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:46:09,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:46:09,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:46:09,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:46:09,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D59828> being returned to pool
2020-03-12 03:46:09,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D59828> rollback-on-return, via agent
2020-03-12 03:46:09,999 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:46:09,999 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775D7FC50>, <hospital_test.models.Address object at 0x000001A775D7F828>, <hospital_test.models.Address object at 0x000001A775D7F2B0>, <hospital_test.models.Address object at 0x000001A775D7FC18>]}
2020-03-12 03:46:10,001 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CACB70>
2020-03-12 03:46:10,002 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:10,002 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:10,003 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:10,003 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:10,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:10,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:10,004 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:10,004 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:10,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:10,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:10,005 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:10,005 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:46:10,006 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:10,006 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:10,007 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:10,007 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:10,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CACB70> checked out from pool
2020-03-12 03:46:10,007 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:46:10,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:46:10,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:46:10,008 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:46:10,008 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:46:10,008 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CACB70> being returned to pool
2020-03-12 03:46:10,009 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CACB70> rollback-on-return, via agent
2020-03-12 03:46:10,009 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:46:10,009 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775D7FC50>, <hospital_test.models.Address object at 0x000001A775D7F828>, <hospital_test.models.Address object at 0x000001A775D7F2B0>, <hospital_test.models.Address object at 0x000001A775D7FC18>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775D59908>]}
2020-03-12 03:46:43,902 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE2FD0>
2020-03-12 03:46:43,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:43,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,904 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:43,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:43,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,906 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,906 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:43,906 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:43,906 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,907 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:43,907 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:46:43,908 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,908 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,908 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,908 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,909 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE2FD0> checked out from pool
2020-03-12 03:46:43,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:46:43,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,909 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:46:43,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:43,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:46:43,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:46:43,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:46:43,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:46:43,913 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE2FD0> being returned to pool
2020-03-12 03:46:43,913 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE2FD0> rollback-on-return
2020-03-12 03:46:43,914 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CBCE80>
2020-03-12 03:46:43,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:43,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,916 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,916 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:43,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:43,917 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,918 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,918 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:43,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:43,919 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,919 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:43,919 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:46:43,920 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,920 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,921 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,921 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,921 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CBCE80> checked out from pool
2020-03-12 03:46:43,921 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:46:43,922 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:46:43,922 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CBCE80> being returned to pool
2020-03-12 03:46:43,922 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CBCE80> rollback-on-return
2020-03-12 03:46:43,925 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BC3DD8>
2020-03-12 03:46:43,925 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:43,925 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,927 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,927 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:43,927 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:43,927 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,928 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,928 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:43,929 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:43,929 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,929 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:43,929 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:46:43,930 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,930 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,931 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,931 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,931 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BC3DD8> checked out from pool
2020-03-12 03:46:43,931 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:46:43,932 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:46:43,932 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:46:43,933 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:46:43,933 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:46:43,933 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:46:43,933 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:46:43,933 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:46:43,933 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BC3DD8> being returned to pool
2020-03-12 03:46:43,933 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BC3DD8> rollback-on-return, via agent
2020-03-12 03:46:43,933 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:46:43,934 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775E3F048>, <hospital_test.models.Address object at 0x000001A775C86C88>, <hospital_test.models.Address object at 0x000001A775C869E8>, <hospital_test.models.Address object at 0x000001A775C868D0>]}
2020-03-12 03:46:43,936 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DAD550>
2020-03-12 03:46:43,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:46:43,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,938 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,938 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:46:43,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:46:43,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,939 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:46:43,939 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:46:43,940 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:46:43,940 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:46:43,940 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:46:43,940 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:46:43,941 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,941 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,941 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:46:43,941 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:46:43,941 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DAD550> checked out from pool
2020-03-12 03:46:43,941 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:46:43,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:46:43,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:46:43,942 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:46:43,942 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:46:43,943 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DAD550> being returned to pool
2020-03-12 03:46:43,943 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DAD550> rollback-on-return, via agent
2020-03-12 03:46:43,943 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:46:43,943 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775E3F048>, <hospital_test.models.Address object at 0x000001A775C86C88>, <hospital_test.models.Address object at 0x000001A775C869E8>, <hospital_test.models.Address object at 0x000001A775C868D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775DAD6D8>]}
2020-03-12 03:48:32,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCEA58>
2020-03-12 03:48:32,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:48:32,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,339 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,339 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:48:32,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:48:32,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:48:32,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:48:32,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,342 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:48:32,342 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:48:32,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCEA58> checked out from pool
2020-03-12 03:48:32,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:48:32,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,345 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:48:32,345 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:48:32,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:48:32,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:48:32,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:48:32,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:48:32,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:48:32,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:48:32,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:48:32,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,349 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:48:32,349 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:48:32,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCEA58> being returned to pool
2020-03-12 03:48:32,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DCEA58> rollback-on-return
2020-03-12 03:48:32,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE1358>
2020-03-12 03:48:32,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:48:32,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,353 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:48:32,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:48:32,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,355 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,355 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:48:32,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:48:32,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,356 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:48:32,356 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:48:32,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,358 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE1358> checked out from pool
2020-03-12 03:48:32,358 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:48:32,359 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:48:32,359 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE1358> being returned to pool
2020-03-12 03:48:32,359 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE1358> rollback-on-return
2020-03-12 03:48:32,363 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDC400>
2020-03-12 03:48:32,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:48:32,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,364 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,365 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:48:32,365 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:48:32,365 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,366 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,366 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:48:32,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:48:32,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,367 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:48:32,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:48:32,368 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,368 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,369 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,369 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,369 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDC400> checked out from pool
2020-03-12 03:48:32,369 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:48:32,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:48:32,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:48:32,371 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:48:32,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:48:32,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:48:32,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:48:32,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:48:32,372 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDC400> being returned to pool
2020-03-12 03:48:32,372 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BDC400> rollback-on-return, via agent
2020-03-12 03:48:32,372 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:48:32,372 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775DCEA90>, <hospital_test.models.Address object at 0x000001A775CE1390>, <hospital_test.models.Address object at 0x000001A775CE1160>, <hospital_test.models.Address object at 0x000001A775CE16D8>]}
2020-03-12 03:48:32,375 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE17F0>
2020-03-12 03:48:32,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:48:32,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:48:32,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:48:32,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,378 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:48:32,378 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:48:32,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:48:32,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:48:32,379 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:48:32,379 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:48:32,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:48:32,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:48:32,381 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE17F0> checked out from pool
2020-03-12 03:48:32,381 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:48:32,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:48:32,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:48:32,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:48:32,382 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:48:32,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE17F0> being returned to pool
2020-03-12 03:48:32,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775CE17F0> rollback-on-return, via agent
2020-03-12 03:48:32,383 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:48:32,383 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775DCEA90>, <hospital_test.models.Address object at 0x000001A775CE1390>, <hospital_test.models.Address object at 0x000001A775CE1160>, <hospital_test.models.Address object at 0x000001A775CE16D8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775B5D860>]}
2020-03-12 03:49:15,643 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D2F5F8>
2020-03-12 03:49:15,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:49:15,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,645 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,645 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:49:15,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:49:15,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,647 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,647 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:49:15,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:49:15,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,648 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:49:15,648 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:49:15,649 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,649 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,650 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,650 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,650 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D2F5F8> checked out from pool
2020-03-12 03:49:15,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `pres_consignee`
2020-03-12 03:49:15,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,651 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:49:15,652 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:49:15,652 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid _prescriptions`
2020-03-12 03:49:15,652 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,653 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:49:15,653 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:49:15,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `mid_prescription_details`
2020-03-12 03:49:15,654 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,654 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:49:15,654 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:49:15,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:DESCRIBE `custom_addr`
2020-03-12 03:49:15,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,655 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:49:15,655 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:49:15,655 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D2F5F8> being returned to pool
2020-03-12 03:49:15,655 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775D2F5F8> rollback-on-return
2020-03-12 03:49:15,658 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A1E128>
2020-03-12 03:49:15,658 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:49:15,658 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,659 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,659 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:49:15,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:49:15,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,661 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,661 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:49:15,662 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:49:15,662 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,662 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:49:15,662 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('addr_test',)
2020-03-12 03:49:15,663 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,663 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,664 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,664 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,664 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A1E128> checked out from pool
2020-03-12 03:49:15,664 root:INFO:models:mysql_connect:MainProcess:17692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:49:15,664 root:INFO:models:mysql_connect:MainProcess:17692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:49:15,665 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A1E128> being returned to pool
2020-03-12 03:49:15,665 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775A1E128> rollback-on-return
2020-03-12 03:49:15,667 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BBE128>
2020-03-12 03:49:15,668 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:49:15,668 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,669 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,669 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:49:15,669 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:49:15,669 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,670 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,670 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:49:15,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:49:15,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,671 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:49:15,671 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:49:15,672 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,672 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,672 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,673 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,673 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BBE128> checked out from pool
2020-03-12 03:49:15,673 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'custom_num_1': '5550008088'}
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:49:15,674 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:49:15,675 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BBE128> being returned to pool
2020-03-12 03:49:15,675 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775BBE128> rollback-on-return, via agent
2020-03-12 03:49:15,675 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:49:15,675 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775BAFEB8>, <hospital_test.models.Address object at 0x000001A775BAFCC0>, <hospital_test.models.Address object at 0x000001A775BAFD30>, <hospital_test.models.Address object at 0x000001A775BAFB70>]}
2020-03-12 03:49:15,677 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DC58D0>
2020-03-12 03:49:15,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:49:15,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,679 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,679 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:49:15,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:49:15,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,680 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('Variable_name', 'Value')
2020-03-12 03:49:15,681 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('lower_case_table_names', '1')
2020-03-12 03:49:15,681 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT DATABASE()
2020-03-12 03:49:15,682 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{}
2020-03-12 03:49:15,682 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('DATABASE()',)
2020-03-12 03:49:15,682 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('zhyf_host',)
2020-03-12 03:49:15,683 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,683 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,683 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:49:15,683 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17692:{}
2020-03-12 03:49:15,684 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DC58D0> checked out from pool
2020-03-12 03:49:15,684 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17692:BEGIN (implicit)
2020-03-12 03:49:15,684 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:49:15,684 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17692:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:49:15,685 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:49:15,685 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17692:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:49:15,685 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DC58D0> being returned to pool
2020-03-12 03:49:15,685 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17692:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A775DC58D0> rollback-on-return, via agent
2020-03-12 03:49:15,685 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17692:ROLLBACK
2020-03-12 03:49:15,685 root:INFO:views:entry_addr:MainProcess:17692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A775BAFEB8>, <hospital_test.models.Address object at 0x000001A775BAFCC0>, <hospital_test.models.Address object at 0x000001A775BAFD30>, <hospital_test.models.Address object at 0x000001A775BAFB70>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A775A1EC18>]}
2020-03-12 03:51:04,520 asyncio:DEBUG:selector_events:__init__:MainProcess:17692:Using selector: SelectSelector
2020-03-12 03:51:22,067 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2048>
2020-03-12 03:51:22,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:51:22,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,069 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,069 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:51:22,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:51:22,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:51:22,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:51:22,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,072 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:51:22,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:51:22,073 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,073 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,073 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,073 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,074 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2048> checked out from pool
2020-03-12 03:51:22,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:51:22,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:51:22,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:51:22,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:51:22,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:51:22,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:51:22,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:51:22,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:51:22,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:51:22,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:51:22,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:51:22,079 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:51:22,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2048> being returned to pool
2020-03-12 03:51:22,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2048> rollback-on-return
2020-03-12 03:51:22,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2DA0>
2020-03-12 03:51:22,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:51:22,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,083 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,083 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:51:22,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:51:22,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,084 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,084 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:51:22,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:51:22,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,085 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:51:22,085 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:51:22,086 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,086 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,086 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,086 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,087 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2DA0> checked out from pool
2020-03-12 03:51:22,087 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:51:22,087 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:51:22,087 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2DA0> being returned to pool
2020-03-12 03:51:22,088 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2DA0> rollback-on-return
2020-03-12 03:51:22,093 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDB748>
2020-03-12 03:51:22,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:51:22,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,096 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,096 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:51:22,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:51:22,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,097 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:51:22,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:51:22,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:51:22,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:51:22,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,100 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDB748> checked out from pool
2020-03-12 03:51:22,100 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:51:22,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:51:22,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:51:22,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:51:22,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:51:22,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:51:22,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:51:22,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:51:22,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDB748> being returned to pool
2020-03-12 03:51:22,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDB748> rollback-on-return, via agent
2020-03-12 03:51:22,102 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:51:22,102 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277E0C518>, <hospital_test.models.Address object at 0x0000020277E0C5C0>, <hospital_test.models.Address object at 0x0000020277E0C630>, <hospital_test.models.Address object at 0x0000020277E0C6A0>]}
2020-03-12 03:51:22,105 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0CB70>
2020-03-12 03:51:22,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:51:22,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,106 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:51:22,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:51:22,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:51:22,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:51:22,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:51:22,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:51:22,108 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:51:22,109 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:51:22,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,110 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:51:22,110 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:51:22,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0CB70> checked out from pool
2020-03-12 03:51:22,110 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:51:22,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:51:22,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:51:22,111 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:51:22,111 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:51:22,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0CB70> being returned to pool
2020-03-12 03:51:22,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0CB70> rollback-on-return, via agent
2020-03-12 03:51:22,111 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:51:22,112 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277E0C518>, <hospital_test.models.Address object at 0x0000020277E0C5C0>, <hospital_test.models.Address object at 0x0000020277E0C630>, <hospital_test.models.Address object at 0x0000020277E0C6A0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277E1F470>]}
2020-03-12 03:52:28,363 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277C4FBA8>
2020-03-12 03:52:28,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:28,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,364 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,365 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:28,365 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:28,365 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,366 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,366 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:28,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:28,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,367 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:28,368 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:28,368 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,369 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,369 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,369 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,370 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277C4FBA8> checked out from pool
2020-03-12 03:52:28,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:52:28,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,370 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:28,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:28,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:52:28,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,372 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:28,372 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:28,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:52:28,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:28,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:52:28,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:52:28,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,374 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:28,374 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:52:28,374 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277C4FBA8> being returned to pool
2020-03-12 03:52:28,374 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277C4FBA8> rollback-on-return
2020-03-12 03:52:28,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34CC0>
2020-03-12 03:52:28,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:28,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,378 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,378 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:28,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:28,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,380 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,380 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:28,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:28,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,381 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:28,381 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:52:28,382 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,382 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,382 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,382 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34CC0> checked out from pool
2020-03-12 03:52:28,383 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:52:28,383 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:52:28,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34CC0> being returned to pool
2020-03-12 03:52:28,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34CC0> rollback-on-return
2020-03-12 03:52:28,386 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2320>
2020-03-12 03:52:28,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:28,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:28,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:28,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,388 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,388 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:28,389 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:28,389 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:28,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:28,390 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,390 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,390 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,390 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,391 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2320> checked out from pool
2020-03-12 03:52:28,391 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:28,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:52:28,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:52:28,392 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:52:28,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:52:28,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:52:28,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:28,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:28,392 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2320> being returned to pool
2020-03-12 03:52:28,392 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2320> rollback-on-return, via agent
2020-03-12 03:52:28,392 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:28,393 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A7EA58>, <hospital_test.models.Address object at 0x0000020277A7E908>, <hospital_test.models.Address object at 0x0000020277A7E2B0>, <hospital_test.models.Address object at 0x0000020277A7E400>]}
2020-03-12 03:52:28,395 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2080>
2020-03-12 03:52:28,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:28,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,397 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,397 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:28,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:28,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:28,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:28,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:28,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:28,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:28,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:28,400 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,400 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,401 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:28,401 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:28,401 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2080> checked out from pool
2020-03-12 03:52:28,401 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:28,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:52:28,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:52:28,402 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:52:28,402 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:52:28,402 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2080> being returned to pool
2020-03-12 03:52:28,402 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DA2080> rollback-on-return, via agent
2020-03-12 03:52:28,402 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:28,402 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A7EA58>, <hospital_test.models.Address object at 0x0000020277A7E908>, <hospital_test.models.Address object at 0x0000020277A7E2B0>, <hospital_test.models.Address object at 0x0000020277A7E400>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A34A20>]}
2020-03-12 03:52:29,499 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE2B0>
2020-03-12 03:52:29,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:29,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,500 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,500 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:29,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:29,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,501 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,501 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:29,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:29,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,502 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:29,502 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:29,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,503 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,503 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE2B0> checked out from pool
2020-03-12 03:52:29,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:52:29,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,504 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:29,504 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:29,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:52:29,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:29,506 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:29,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:52:29,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:29,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:52:29,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:52:29,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:29,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:52:29,507 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE2B0> being returned to pool
2020-03-12 03:52:29,508 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE2B0> rollback-on-return
2020-03-12 03:52:29,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5AEB8>
2020-03-12 03:52:29,511 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:29,511 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,512 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,512 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:29,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:29,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,514 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:29,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:29,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,515 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:29,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:52:29,516 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,516 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,517 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,517 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5AEB8> checked out from pool
2020-03-12 03:52:29,517 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:52:29,518 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:52:29,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5AEB8> being returned to pool
2020-03-12 03:52:29,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5AEB8> rollback-on-return
2020-03-12 03:52:29,521 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A41518>
2020-03-12 03:52:29,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:29,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,523 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,523 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:29,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:29,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,524 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,524 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:29,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:29,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,525 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:29,525 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:29,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,527 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A41518> checked out from pool
2020-03-12 03:52:29,527 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:29,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:52:29,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:52:29,528 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:52:29,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:52:29,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:52:29,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:29,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:29,529 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A41518> being returned to pool
2020-03-12 03:52:29,529 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A41518> rollback-on-return, via agent
2020-03-12 03:52:29,529 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:29,529 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A41B38>, <hospital_test.models.Address object at 0x0000020277A41198>, <hospital_test.models.Address object at 0x0000020277A41208>, <hospital_test.models.Address object at 0x0000020277A41F28>]}
2020-03-12 03:52:29,531 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A160>
2020-03-12 03:52:29,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:29,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,533 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,533 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:29,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:29,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,534 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:29,534 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:29,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:29,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:29,535 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:29,535 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:29,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:29,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:29,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A160> checked out from pool
2020-03-12 03:52:29,537 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:29,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:52:29,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:52:29,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:52:29,538 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:52:29,538 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A160> being returned to pool
2020-03-12 03:52:29,538 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A160> rollback-on-return, via agent
2020-03-12 03:52:29,538 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:29,538 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A41B38>, <hospital_test.models.Address object at 0x0000020277A41198>, <hospital_test.models.Address object at 0x0000020277A41208>, <hospital_test.models.Address object at 0x0000020277A41F28>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A77940>]}
2020-03-12 03:52:30,371 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A58>
2020-03-12 03:52:30,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:30,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,372 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,372 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:30,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:30,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:30,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:30,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,374 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:30,374 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:30,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,375 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A58> checked out from pool
2020-03-12 03:52:30,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:52:30,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:30,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:30,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:52:30,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,378 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:30,378 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:30,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:52:30,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,379 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:30,379 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:52:30,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:52:30,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,380 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:30,380 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:52:30,380 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A58> being returned to pool
2020-03-12 03:52:30,380 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A58> rollback-on-return
2020-03-12 03:52:30,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB5710>
2020-03-12 03:52:30,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:30,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,384 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,384 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:30,384 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:30,384 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,385 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,385 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:30,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:30,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,386 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:30,386 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:52:30,387 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,387 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,387 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,387 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,387 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB5710> checked out from pool
2020-03-12 03:52:30,388 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:52:30,388 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:52:30,388 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB5710> being returned to pool
2020-03-12 03:52:30,388 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB5710> rollback-on-return
2020-03-12 03:52:30,391 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA2550>
2020-03-12 03:52:30,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:30,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,392 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:30,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:30,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,394 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,394 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:30,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:30,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:30,395 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:30,396 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,396 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,397 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA2550> checked out from pool
2020-03-12 03:52:30,398 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:30,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:52:30,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:52:30,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:52:30,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:52:30,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:52:30,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:30,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:30,399 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA2550> being returned to pool
2020-03-12 03:52:30,399 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA2550> rollback-on-return, via agent
2020-03-12 03:52:30,399 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:30,400 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AB5390>, <hospital_test.models.Address object at 0x0000020277AB52B0>, <hospital_test.models.Address object at 0x0000020277AB5F28>, <hospital_test.models.Address object at 0x0000020277AB5978>]}
2020-03-12 03:52:30,402 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA28D0>
2020-03-12 03:52:30,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:30,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,404 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:30,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:30,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,405 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:30,405 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:30,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:30,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:30,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:30,406 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:30,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,408 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:30,408 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:30,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA28D0> checked out from pool
2020-03-12 03:52:30,408 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:30,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:52:30,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:52:30,409 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:52:30,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:52:30,409 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA28D0> being returned to pool
2020-03-12 03:52:30,409 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AA28D0> rollback-on-return, via agent
2020-03-12 03:52:30,409 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:30,410 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AB5390>, <hospital_test.models.Address object at 0x0000020277AB52B0>, <hospital_test.models.Address object at 0x0000020277AB5F28>, <hospital_test.models.Address object at 0x0000020277AB5978>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A7E0B8>]}
2020-03-12 03:52:31,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6DA0>
2020-03-12 03:52:31,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:31,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,489 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:31,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:31,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:31,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:31,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:31,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:31,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,492 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6DA0> checked out from pool
2020-03-12 03:52:31,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:52:31,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:31,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:31,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:52:31,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:31,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:52:31,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:52:31,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:31,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:52:31,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:52:31,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,497 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:52:31,497 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:52:31,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6DA0> being returned to pool
2020-03-12 03:52:31,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6DA0> rollback-on-return
2020-03-12 03:52:31,500 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3F28>
2020-03-12 03:52:31,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:31,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,502 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,502 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:31,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:31,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,503 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,503 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:31,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:31,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,504 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:31,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:52:31,505 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,507 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3F28> checked out from pool
2020-03-12 03:52:31,507 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:52:31,507 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:52:31,507 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3F28> being returned to pool
2020-03-12 03:52:31,507 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3F28> rollback-on-return
2020-03-12 03:52:31,513 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3A58>
2020-03-12 03:52:31,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:31,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,515 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:31,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:31,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,516 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,517 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:31,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:31,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,517 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:31,518 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:31,518 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,519 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,519 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,519 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,519 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3A58> checked out from pool
2020-03-12 03:52:31,520 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:31,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:52:31,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:52:31,521 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:52:31,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:52:31,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:52:31,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:31,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:52:31,521 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3A58> being returned to pool
2020-03-12 03:52:31,521 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB3A58> rollback-on-return, via agent
2020-03-12 03:52:31,521 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:31,522 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AB3390>, <hospital_test.models.Address object at 0x0000020277AB3748>, <hospital_test.models.Address object at 0x0000020277AB3160>, <hospital_test.models.Address object at 0x0000020277AB3828>]}
2020-03-12 03:52:31,524 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F710>
2020-03-12 03:52:31,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:52:31,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,526 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,526 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:52:31,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:52:31,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,527 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:52:31,527 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:52:31,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:52:31,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:52:31,528 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:52:31,528 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:52:31,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,530 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:52:31,530 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:52:31,530 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F710> checked out from pool
2020-03-12 03:52:31,530 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:52:31,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:52:31,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:52:31,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:52:31,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:52:31,532 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F710> being returned to pool
2020-03-12 03:52:31,532 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F710> rollback-on-return, via agent
2020-03-12 03:52:31,532 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:52:31,532 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AB3390>, <hospital_test.models.Address object at 0x0000020277AB3748>, <hospital_test.models.Address object at 0x0000020277AB3160>, <hospital_test.models.Address object at 0x0000020277AB3828>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A77E48>]}
2020-03-12 03:53:25,753 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A20>
2020-03-12 03:53:25,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:25,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,754 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,754 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:25,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:25,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,756 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,756 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:25,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:25,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:25,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:25,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,759 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,759 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A20> checked out from pool
2020-03-12 03:53:25,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:53:25,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,760 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:25,760 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:53:25,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:53:25,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:25,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:53:25,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:53:25,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:25,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:53:25,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:53:25,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,764 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:25,764 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:53:25,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A20> being returned to pool
2020-03-12 03:53:25,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27A20> rollback-on-return
2020-03-12 03:53:25,767 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B70>
2020-03-12 03:53:25,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:25,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,769 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:25,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:25,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:25,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:25,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,771 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:25,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:53:25,771 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,771 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,772 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B70> checked out from pool
2020-03-12 03:53:25,772 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:53:25,773 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:53:25,773 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B70> being returned to pool
2020-03-12 03:53:25,773 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B70> rollback-on-return
2020-03-12 03:53:25,775 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34E10>
2020-03-12 03:53:25,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:25,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,777 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,777 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:25,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:25,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,778 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,778 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:25,779 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:25,779 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,779 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:25,779 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:25,780 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,780 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,780 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,780 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,781 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34E10> checked out from pool
2020-03-12 03:53:25,781 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:53:25,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:53:25,783 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34E10> being returned to pool
2020-03-12 03:53:25,783 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34E10> rollback-on-return, via agent
2020-03-12 03:53:25,783 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:53:25,783 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AF6128>, <hospital_test.models.Address object at 0x0000020277AF6A58>, <hospital_test.models.Address object at 0x0000020277AF67F0>, <hospital_test.models.Address object at 0x0000020277AF6358>]}
2020-03-12 03:53:25,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34D30>
2020-03-12 03:53:25,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:25,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:25,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:25,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,788 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:25,788 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:25,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:25,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:25,789 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:25,789 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:25,790 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,790 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,791 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:25,791 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:25,791 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34D30> checked out from pool
2020-03-12 03:53:25,791 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:53:25,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:53:25,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:53:25,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:53:25,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:53:25,792 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34D30> being returned to pool
2020-03-12 03:53:25,792 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34D30> rollback-on-return, via agent
2020-03-12 03:53:25,792 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:53:25,793 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AF6128>, <hospital_test.models.Address object at 0x0000020277AF6A58>, <hospital_test.models.Address object at 0x0000020277AF67F0>, <hospital_test.models.Address object at 0x0000020277AF6358>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A82588>]}
2020-03-12 03:53:26,736 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE048>
2020-03-12 03:53:26,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:26,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,737 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,737 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:26,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:26,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:26,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:26,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,739 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:26,739 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:26,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,741 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,741 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE048> checked out from pool
2020-03-12 03:53:26,742 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:53:26,742 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,742 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:26,743 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:53:26,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:53:26,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:26,745 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:53:26,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:53:26,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,746 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:26,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:53:26,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:53:26,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:26,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:53:26,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE048> being returned to pool
2020-03-12 03:53:26,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277BAE048> rollback-on-return
2020-03-12 03:53:26,749 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E364E0>
2020-03-12 03:53:26,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:26,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,751 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,751 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:26,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:26,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,752 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,752 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:26,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:26,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:26,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:53:26,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,755 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,755 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,755 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E364E0> checked out from pool
2020-03-12 03:53:26,755 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:53:26,755 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:53:26,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E364E0> being returned to pool
2020-03-12 03:53:26,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E364E0> rollback-on-return
2020-03-12 03:53:26,758 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60518>
2020-03-12 03:53:26,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:26,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,759 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:26,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:26,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,761 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,761 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:26,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:26,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:26,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:26,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,764 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60518> checked out from pool
2020-03-12 03:53:26,764 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:53:26,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:53:26,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:53:26,765 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:53:26,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:53:26,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:53:26,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:53:26,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:53:26,766 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60518> being returned to pool
2020-03-12 03:53:26,766 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60518> rollback-on-return, via agent
2020-03-12 03:53:26,766 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:53:26,766 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A54F28>, <hospital_test.models.Address object at 0x0000020277A54C18>, <hospital_test.models.Address object at 0x0000020277A54EB8>, <hospital_test.models.Address object at 0x0000020277A54F60>]}
2020-03-12 03:53:26,768 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E360B8>
2020-03-12 03:53:26,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:26,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:26,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:26,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,771 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:26,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:26,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:26,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:26,772 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:26,772 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:26,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:26,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:26,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E360B8> checked out from pool
2020-03-12 03:53:26,774 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:53:26,774 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:53:26,774 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:53:26,774 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:53:26,775 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:53:26,775 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E360B8> being returned to pool
2020-03-12 03:53:26,775 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E360B8> rollback-on-return, via agent
2020-03-12 03:53:26,775 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:53:26,775 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A54F28>, <hospital_test.models.Address object at 0x0000020277A54C18>, <hospital_test.models.Address object at 0x0000020277A54EB8>, <hospital_test.models.Address object at 0x0000020277A54F60>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A416D8>]}
2020-03-12 03:53:27,439 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E080>
2020-03-12 03:53:27,439 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:27,439 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,440 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:27,441 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:27,441 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,442 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,442 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:27,443 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:27,443 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,443 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:27,443 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:27,444 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,444 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,445 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,445 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,445 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E080> checked out from pool
2020-03-12 03:53:27,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:53:27,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,446 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:27,446 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:53:27,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:53:27,447 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,448 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:27,448 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:53:27,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:53:27,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:27,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:53:27,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:53:27,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:53:27,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:53:27,449 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E080> being returned to pool
2020-03-12 03:53:27,450 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E080> rollback-on-return
2020-03-12 03:53:27,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780>
2020-03-12 03:53:27,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:27,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,453 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,453 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:27,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:27,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,455 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:27,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:27,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,456 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:27,456 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:53:27,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780> checked out from pool
2020-03-12 03:53:27,458 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:53:27,458 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:53:27,458 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780> being returned to pool
2020-03-12 03:53:27,458 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780> rollback-on-return
2020-03-12 03:53:27,460 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97E80>
2020-03-12 03:53:27,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:27,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,462 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,462 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:27,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:27,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,463 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,463 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:27,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:27,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,464 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:27,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:27,465 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,465 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,465 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,466 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97E80> checked out from pool
2020-03-12 03:53:27,466 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:53:27,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:53:27,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:53:27,467 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:53:27,467 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:53:27,468 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:53:27,468 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:53:27,468 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:53:27,468 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97E80> being returned to pool
2020-03-12 03:53:27,468 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97E80> rollback-on-return, via agent
2020-03-12 03:53:27,468 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:53:27,468 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A97390>, <hospital_test.models.Address object at 0x0000020277A97518>, <hospital_test.models.Address object at 0x0000020277A97550>, <hospital_test.models.Address object at 0x0000020277A97A58>]}
2020-03-12 03:53:27,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97C50>
2020-03-12 03:53:27,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:53:27,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,472 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,472 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:53:27,472 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:53:27,472 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:53:27,473 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:53:27,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:53:27,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:53:27,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:53:27,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:53:27,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:53:27,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:53:27,476 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97C50> checked out from pool
2020-03-12 03:53:27,476 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:53:27,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:53:27,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:53:27,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:53:27,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:53:27,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97C50> being returned to pool
2020-03-12 03:53:27,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97C50> rollback-on-return, via agent
2020-03-12 03:53:27,477 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:53:27,478 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A97390>, <hospital_test.models.Address object at 0x0000020277A97518>, <hospital_test.models.Address object at 0x0000020277A97550>, <hospital_test.models.Address object at 0x0000020277A97A58>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A34FD0>]}
2020-03-12 03:54:38,021 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ABEC88>
2020-03-12 03:54:38,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:54:38,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,023 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:54:38,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:54:38,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,025 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,025 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:54:38,026 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:54:38,026 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,026 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:54:38,026 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:54:38,027 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,027 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,028 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,028 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,029 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ABEC88> checked out from pool
2020-03-12 03:54:38,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:54:38,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,030 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:54:38,030 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:54:38,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:54:38,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:54:38,032 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:54:38,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:54:38,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,033 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:54:38,033 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:54:38,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:54:38,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,035 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:54:38,035 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:54:38,035 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ABEC88> being returned to pool
2020-03-12 03:54:38,035 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ABEC88> rollback-on-return
2020-03-12 03:54:38,038 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AD9F28>
2020-03-12 03:54:38,038 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:54:38,038 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,039 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,039 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:54:38,040 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:54:38,040 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,041 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,041 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:54:38,042 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:54:38,042 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,042 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:54:38,043 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:54:38,043 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,045 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AD9F28> checked out from pool
2020-03-12 03:54:38,045 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:54:38,045 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:54:38,045 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AD9F28> being returned to pool
2020-03-12 03:54:38,045 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AD9F28> rollback-on-return
2020-03-12 03:54:38,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC5DA0>
2020-03-12 03:54:38,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:54:38,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,049 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,050 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:54:38,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:54:38,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,051 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,051 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:54:38,052 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:54:38,052 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,052 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:54:38,052 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:54:38,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,054 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC5DA0> checked out from pool
2020-03-12 03:54:38,054 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:54:38,055 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:54:38,055 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:54:38,055 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:54:38,056 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:54:38,056 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:54:38,056 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:54:38,056 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:54:38,056 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC5DA0> being returned to pool
2020-03-12 03:54:38,056 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC5DA0> rollback-on-return, via agent
2020-03-12 03:54:38,056 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:54:38,056 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AD3588>, <hospital_test.models.Address object at 0x0000020277AD32B0>, <hospital_test.models.Address object at 0x0000020277ACABE0>, <hospital_test.models.Address object at 0x0000020277AD9EF0>]}
2020-03-12 03:54:38,059 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC8358>
2020-03-12 03:54:38,060 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:54:38,060 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,062 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,062 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:54:38,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:54:38,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,063 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:54:38,063 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:54:38,064 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:54:38,064 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:54:38,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:54:38,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:54:38,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:54:38,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:54:38,067 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC8358> checked out from pool
2020-03-12 03:54:38,067 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:54:38,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:54:38,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:54:38,068 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:54:38,068 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:54:38,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC8358> being returned to pool
2020-03-12 03:54:38,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AC8358> rollback-on-return, via agent
2020-03-12 03:54:38,068 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:54:38,068 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AD3588>, <hospital_test.models.Address object at 0x0000020277AD32B0>, <hospital_test.models.Address object at 0x0000020277ACABE0>, <hospital_test.models.Address object at 0x0000020277AD9EF0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277ACECF8>]}
2020-03-12 03:55:30,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3A9B0>
2020-03-12 03:55:30,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:30,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,339 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,339 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:30,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:30,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:30,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:30,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,342 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:30,342 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:30,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3A9B0> checked out from pool
2020-03-12 03:55:30,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:30,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,345 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:30,345 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:30,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:30,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:30,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:30,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:30,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,348 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:30,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:30,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:30,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,349 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:30,349 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:30,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3A9B0> being returned to pool
2020-03-12 03:55:30,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3A9B0> rollback-on-return
2020-03-12 03:55:30,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F8D160>
2020-03-12 03:55:30,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:30,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:30,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:30,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,353 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:30,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:30,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:30,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:30,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F8D160> checked out from pool
2020-03-12 03:55:30,356 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:30,356 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:30,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F8D160> being returned to pool
2020-03-12 03:55:30,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F8D160> rollback-on-return
2020-03-12 03:55:30,359 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F72BE0>
2020-03-12 03:55:30,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:30,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,361 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,361 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:30,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:30,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:30,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:30,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,364 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:30,364 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:30,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,365 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F72BE0> checked out from pool
2020-03-12 03:55:30,366 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:30,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:30,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:30,367 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:30,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:30,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:30,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:30,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:30,367 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F72BE0> being returned to pool
2020-03-12 03:55:30,368 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F72BE0> rollback-on-return, via agent
2020-03-12 03:55:30,368 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:30,368 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277F85470>, <hospital_test.models.Address object at 0x0000020277F61EB8>, <hospital_test.models.Address object at 0x0000020277F95E48>, <hospital_test.models.Address object at 0x0000020277F72278>]}
2020-03-12 03:55:30,370 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AA90>
2020-03-12 03:55:30,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:30,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,371 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:30,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:30,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,372 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:30,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:30,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:30,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:30,374 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:30,374 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:30,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:30,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:30,375 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AA90> checked out from pool
2020-03-12 03:55:30,376 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:30,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:30,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:30,377 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:30,377 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:30,377 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AA90> being returned to pool
2020-03-12 03:55:30,377 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AA90> rollback-on-return, via agent
2020-03-12 03:55:30,377 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:30,377 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277F85470>, <hospital_test.models.Address object at 0x0000020277F61EB8>, <hospital_test.models.Address object at 0x0000020277F95E48>, <hospital_test.models.Address object at 0x0000020277F72278>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277BAE9B0>]}
2020-03-12 03:55:31,485 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F56748>
2020-03-12 03:55:31,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,486 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,486 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,489 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,489 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,489 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,489 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,490 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F56748> checked out from pool
2020-03-12 03:55:31,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:31,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,491 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,491 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:31,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:31,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,494 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,494 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:31,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:31,496 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F56748> being returned to pool
2020-03-12 03:55:31,496 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F56748> rollback-on-return
2020-03-12 03:55:31,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F31C88>
2020-03-12 03:55:31,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,499 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,500 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,500 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,501 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,501 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:31,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F31C88> checked out from pool
2020-03-12 03:55:31,503 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:31,503 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:31,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F31C88> being returned to pool
2020-03-12 03:55:31,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F31C88> rollback-on-return
2020-03-12 03:55:31,505 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46780>
2020-03-12 03:55:31,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,508 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,509 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,510 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,510 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,511 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,511 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,512 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,512 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,512 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46780> checked out from pool
2020-03-12 03:55:31,512 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:31,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:31,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:31,513 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:31,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:31,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:31,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:31,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:31,514 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46780> being returned to pool
2020-03-12 03:55:31,514 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46780> rollback-on-return, via agent
2020-03-12 03:55:31,514 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:31,514 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277F3ACF8>, <hospital_test.models.Address object at 0x0000020277F3ADA0>, <hospital_test.models.Address object at 0x0000020277F3A198>, <hospital_test.models.Address object at 0x0000020277F3AE10>]}
2020-03-12 03:55:31,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AF28>
2020-03-12 03:55:31,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,518 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,518 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,519 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,519 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,520 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,520 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,522 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AF28> checked out from pool
2020-03-12 03:55:31,522 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:31,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:31,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:31,522 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:31,523 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:31,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AF28> being returned to pool
2020-03-12 03:55:31,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F3AF28> rollback-on-return, via agent
2020-03-12 03:55:31,523 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:31,523 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277F3ACF8>, <hospital_test.models.Address object at 0x0000020277F3ADA0>, <hospital_test.models.Address object at 0x0000020277F3A198>, <hospital_test.models.Address object at 0x0000020277F3AE10>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277F3A7B8>]}
2020-03-12 03:55:31,670 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46710>
2020-03-12 03:55:31,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,672 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,672 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,672 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,672 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,673 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,673 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,674 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,674 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,674 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,674 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,675 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,675 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,675 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,676 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46710> checked out from pool
2020-03-12 03:55:31,676 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:31,676 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,677 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,677 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,677 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:31,677 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,678 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,678 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:31,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,679 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,680 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:31,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,680 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,680 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:31,681 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46710> being returned to pool
2020-03-12 03:55:31,681 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46710> rollback-on-return
2020-03-12 03:55:31,683 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97710>
2020-03-12 03:55:31,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,684 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,684 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,684 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,684 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,684 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,684 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,685 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,685 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,685 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,685 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:31,686 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,686 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,687 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,687 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,687 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97710> checked out from pool
2020-03-12 03:55:31,687 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:31,688 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:31,688 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97710> being returned to pool
2020-03-12 03:55:31,688 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97710> rollback-on-return
2020-03-12 03:55:31,690 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780>
2020-03-12 03:55:31,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,692 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,692 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,692 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,692 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,694 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,694 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,695 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,695 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,695 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,695 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,696 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780> checked out from pool
2020-03-12 03:55:31,696 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:31,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:31,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:31,698 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:31,698 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:31,698 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:31,698 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:31,698 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:31,698 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780> being returned to pool
2020-03-12 03:55:31,698 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97780> rollback-on-return, via agent
2020-03-12 03:55:31,698 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:31,698 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A467F0>, <hospital_test.models.Address object at 0x0000020277A469B0>, <hospital_test.models.Address object at 0x0000020277A97588>, <hospital_test.models.Address object at 0x0000020277A97550>]}
2020-03-12 03:55:31,701 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97668>
2020-03-12 03:55:31,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,702 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,702 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,703 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,704 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,704 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,704 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,706 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97668> checked out from pool
2020-03-12 03:55:31,706 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:31,706 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:31,706 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:31,707 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:31,707 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:31,707 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97668> being returned to pool
2020-03-12 03:55:31,707 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97668> rollback-on-return, via agent
2020-03-12 03:55:31,707 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:31,707 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A467F0>, <hospital_test.models.Address object at 0x0000020277A469B0>, <hospital_test.models.Address object at 0x0000020277A97588>, <hospital_test.models.Address object at 0x0000020277A97550>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277AF67F0>]}
2020-03-12 03:55:31,852 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE7B8>
2020-03-12 03:55:31,852 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,853 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,854 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,854 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,855 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,855 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,856 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,856 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,857 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,857 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,858 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,858 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,859 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,859 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,859 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE7B8> checked out from pool
2020-03-12 03:55:31,860 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:31,860 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,861 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,861 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,861 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:31,861 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,862 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,862 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,863 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:31,863 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,864 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,864 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:31,864 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:31,864 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,865 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:31,865 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:31,865 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE7B8> being returned to pool
2020-03-12 03:55:31,865 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE7B8> rollback-on-return
2020-03-12 03:55:31,868 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B38>
2020-03-12 03:55:31,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,870 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,870 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,870 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,870 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,871 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,871 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,872 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,872 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,872 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,872 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:31,873 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,873 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,875 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,875 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,875 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B38> checked out from pool
2020-03-12 03:55:31,875 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:31,876 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:31,876 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B38> being returned to pool
2020-03-12 03:55:31,876 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6B38> rollback-on-return
2020-03-12 03:55:31,880 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46EF0>
2020-03-12 03:55:31,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,883 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,883 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,884 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,884 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,886 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,886 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,886 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46EF0> checked out from pool
2020-03-12 03:55:31,886 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:31,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:31,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:31,888 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:31,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:31,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:31,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:31,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:31,888 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46EF0> being returned to pool
2020-03-12 03:55:31,888 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46EF0> rollback-on-return, via agent
2020-03-12 03:55:31,889 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:31,889 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277DDB630>, <hospital_test.models.Address object at 0x0000020277AF6C50>, <hospital_test.models.Address object at 0x0000020277AF6E48>, <hospital_test.models.Address object at 0x0000020277AF6128>]}
2020-03-12 03:55:31,891 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A908>
2020-03-12 03:55:31,891 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:31,892 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,893 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,893 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:31,893 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:31,893 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,894 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:31,895 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:31,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:31,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:31,896 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:31,896 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:31,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:31,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:31,898 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A908> checked out from pool
2020-03-12 03:55:31,898 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:31,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:31,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:31,899 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:31,899 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:31,899 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A908> being returned to pool
2020-03-12 03:55:31,899 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5A908> rollback-on-return, via agent
2020-03-12 03:55:31,899 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:31,900 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277DDB630>, <hospital_test.models.Address object at 0x0000020277AF6C50>, <hospital_test.models.Address object at 0x0000020277AF6E48>, <hospital_test.models.Address object at 0x0000020277AF6128>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277F82908>]}
2020-03-12 03:55:32,203 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2F400>
2020-03-12 03:55:32,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,204 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,204 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,205 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,205 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,205 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,206 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,207 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,207 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:32,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,209 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2F400> checked out from pool
2020-03-12 03:55:32,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:32,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,210 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:32,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:32,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,211 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,211 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:32,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:32,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:32,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:32,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,213 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,213 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:32,213 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2F400> being returned to pool
2020-03-12 03:55:32,213 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2F400> rollback-on-return
2020-03-12 03:55:32,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F276A0>
2020-03-12 03:55:32,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,218 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,218 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:32,220 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,220 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,220 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,221 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F276A0> checked out from pool
2020-03-12 03:55:32,221 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:32,222 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:32,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F276A0> being returned to pool
2020-03-12 03:55:32,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F276A0> rollback-on-return
2020-03-12 03:55:32,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97208>
2020-03-12 03:55:32,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,227 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,228 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:32,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,231 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97208> checked out from pool
2020-03-12 03:55:32,231 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:32,232 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97208> being returned to pool
2020-03-12 03:55:32,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97208> rollback-on-return, via agent
2020-03-12 03:55:32,233 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:32,233 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AF6EB8>, <hospital_test.models.Address object at 0x0000020277F27588>, <hospital_test.models.Address object at 0x0000020277F27AC8>, <hospital_test.models.Address object at 0x0000020277F277B8>]}
2020-03-12 03:55:32,235 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27160>
2020-03-12 03:55:32,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,238 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,238 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:32,239 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,239 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,239 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,239 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,240 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27160> checked out from pool
2020-03-12 03:55:32,240 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:32,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:32,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:32,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:32,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:32,241 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27160> being returned to pool
2020-03-12 03:55:32,241 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F27160> rollback-on-return, via agent
2020-03-12 03:55:32,241 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:32,242 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AF6EB8>, <hospital_test.models.Address object at 0x0000020277F27588>, <hospital_test.models.Address object at 0x0000020277F27AC8>, <hospital_test.models.Address object at 0x0000020277F277B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277AC94A8>]}
2020-03-12 03:55:32,736 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A49FD0>
2020-03-12 03:55:32,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,738 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,739 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,739 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,741 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,741 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:32,742 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,742 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,742 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,742 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,743 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A49FD0> checked out from pool
2020-03-12 03:55:32,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:32,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,744 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,744 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:32,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:32,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:32,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:32,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,746 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:32,747 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:32,747 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:32,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:32,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A49FD0> being returned to pool
2020-03-12 03:55:32,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A49FD0> rollback-on-return
2020-03-12 03:55:32,750 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7EA58>
2020-03-12 03:55:32,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,751 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,752 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,754 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,754 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:32,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,755 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,755 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,755 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7EA58> checked out from pool
2020-03-12 03:55:32,755 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:32,755 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:32,755 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7EA58> being returned to pool
2020-03-12 03:55:32,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7EA58> rollback-on-return
2020-03-12 03:55:32,758 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97DD8>
2020-03-12 03:55:32,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,759 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,761 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,761 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:32,762 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,763 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97DD8> checked out from pool
2020-03-12 03:55:32,763 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:32,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:32,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:32,765 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:32,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:32,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:32,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:32,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:32,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97DD8> being returned to pool
2020-03-12 03:55:32,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A97DD8> rollback-on-return, via agent
2020-03-12 03:55:32,765 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:32,765 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277B487B8>, <hospital_test.models.Address object at 0x0000020277A97780>, <hospital_test.models.Address object at 0x0000020277A97A90>, <hospital_test.models.Address object at 0x0000020277A97390>]}
2020-03-12 03:55:32,768 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E4A8>
2020-03-12 03:55:32,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:32,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,769 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:32,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:32,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:32,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:32,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:32,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:32,772 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:32,772 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:32,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:32,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:32,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E4A8> checked out from pool
2020-03-12 03:55:32,774 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:32,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:32,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:32,775 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:32,775 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:32,775 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E4A8> being returned to pool
2020-03-12 03:55:32,775 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A7E4A8> rollback-on-return, via agent
2020-03-12 03:55:32,775 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:32,776 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277B487B8>, <hospital_test.models.Address object at 0x0000020277A97780>, <hospital_test.models.Address object at 0x0000020277A97A90>, <hospital_test.models.Address object at 0x0000020277A97390>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277AB54E0>]}
2020-03-12 03:55:33,719 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F47898>
2020-03-12 03:55:33,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:33,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,721 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,721 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:33,721 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:33,721 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,722 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,722 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:33,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:33,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,725 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:33,725 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:33,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,728 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F47898> checked out from pool
2020-03-12 03:55:33,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:55:33,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,729 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:33,729 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:33,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:55:33,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,731 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:33,731 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:55:33,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:55:33,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,732 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:33,732 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:55:33,732 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:55:33,732 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,733 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:55:33,733 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:55:33,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F47898> being returned to pool
2020-03-12 03:55:33,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277F47898> rollback-on-return
2020-03-12 03:55:33,736 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277FA6978>
2020-03-12 03:55:33,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:33,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,737 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,737 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:33,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:33,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:33,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:33,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,739 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:33,739 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:55:33,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277FA6978> checked out from pool
2020-03-12 03:55:33,741 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:55:33,741 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:55:33,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277FA6978> being returned to pool
2020-03-12 03:55:33,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277FA6978> rollback-on-return
2020-03-12 03:55:33,744 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46828>
2020-03-12 03:55:33,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:33,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,746 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:33,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:33,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:33,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:33,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,748 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:33,748 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:33,749 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,749 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,749 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,749 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,750 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46828> checked out from pool
2020-03-12 03:55:33,750 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:33,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:55:33,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:55:33,751 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:55:33,751 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:55:33,751 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:55:33,751 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:33,751 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:55:33,751 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46828> being returned to pool
2020-03-12 03:55:33,751 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A46828> rollback-on-return, via agent
2020-03-12 03:55:33,751 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:33,752 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277ACE2E8>, <hospital_test.models.Address object at 0x0000020277ACE7B8>, <hospital_test.models.Address object at 0x0000020277ACEE80>, <hospital_test.models.Address object at 0x0000020277ACE8D0>]}
2020-03-12 03:55:33,754 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080>
2020-03-12 03:55:33,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:55:33,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,755 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:55:33,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:55:33,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:55:33,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:55:33,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:55:33,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:55:33,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:55:33,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:55:33,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,759 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:55:33,759 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:55:33,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080> checked out from pool
2020-03-12 03:55:33,760 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:55:33,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:55:33,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:55:33,761 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:55:33,761 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:55:33,761 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080> being returned to pool
2020-03-12 03:55:33,761 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080> rollback-on-return, via agent
2020-03-12 03:55:33,761 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:55:33,761 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277ACE2E8>, <hospital_test.models.Address object at 0x0000020277ACE7B8>, <hospital_test.models.Address object at 0x0000020277ACEE80>, <hospital_test.models.Address object at 0x0000020277ACE8D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277ACE978>]}
2020-03-12 03:57:14,070 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4BA20>
2020-03-12 03:57:14,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:57:14,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,072 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:57:14,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:57:14,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,074 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,074 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:57:14,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:57:14,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:57:14,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:57:14,076 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,076 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,077 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4BA20> checked out from pool
2020-03-12 03:57:14,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:57:14,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:57:14,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:57:14,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:57:14,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,080 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:57:14,080 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:57:14,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:57:14,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:57:14,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:57:14,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:57:14,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,082 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:57:14,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:57:14,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4BA20> being returned to pool
2020-03-12 03:57:14,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4BA20> rollback-on-return
2020-03-12 03:57:14,085 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60EB8>
2020-03-12 03:57:14,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:57:14,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,087 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:57:14,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:57:14,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:57:14,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:57:14,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:57:14,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:57:14,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60EB8> checked out from pool
2020-03-12 03:57:14,092 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:57:14,092 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:57:14,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60EB8> being returned to pool
2020-03-12 03:57:14,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A60EB8> rollback-on-return
2020-03-12 03:57:14,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A85F28>
2020-03-12 03:57:14,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:57:14,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,096 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,096 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:57:14,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:57:14,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,097 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,097 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:57:14,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:57:14,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:57:14,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:57:14,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,100 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A85F28> checked out from pool
2020-03-12 03:57:14,100 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:57:14,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:57:14,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:57:14,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:57:14,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:57:14,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:57:14,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:57:14,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:57:14,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A85F28> being returned to pool
2020-03-12 03:57:14,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A85F28> rollback-on-return, via agent
2020-03-12 03:57:14,102 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:57:14,102 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AB5AC8>, <hospital_test.models.Address object at 0x0000020277AB5A90>, <hospital_test.models.Address object at 0x0000020277AB56D8>, <hospital_test.models.Address object at 0x0000020277AB5710>]}
2020-03-12 03:57:14,106 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB59B0>
2020-03-12 03:57:14,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:57:14,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:57:14,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:57:14,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,109 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:57:14,109 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:57:14,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:57:14,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:57:14,110 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:57:14,110 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:57:14,110 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,110 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,111 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:57:14,111 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:57:14,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB59B0> checked out from pool
2020-03-12 03:57:14,111 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:57:14,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:57:14,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:57:14,112 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:57:14,112 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:57:14,112 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB59B0> being returned to pool
2020-03-12 03:57:14,112 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AB59B0> rollback-on-return, via agent
2020-03-12 03:57:14,113 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:57:14,113 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277AB5AC8>, <hospital_test.models.Address object at 0x0000020277AB5A90>, <hospital_test.models.Address object at 0x0000020277AB56D8>, <hospital_test.models.Address object at 0x0000020277AB5710>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A852B0>]}
2020-03-12 03:59:55,577 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0C4A8>
2020-03-12 03:59:55,577 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:55,577 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,578 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,578 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:55,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:55,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,579 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:55,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:55,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:55,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:55,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,583 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0C4A8> checked out from pool
2020-03-12 03:59:55,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:59:55,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,584 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:55,584 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:55,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:59:55,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,586 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:55,586 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:55,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:59:55,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:55,588 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:59:55,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:59:55,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:55,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:59:55,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0C4A8> being returned to pool
2020-03-12 03:59:55,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E0C4A8> rollback-on-return
2020-03-12 03:59:55,591 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E3C5F8>
2020-03-12 03:59:55,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:55,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,593 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:55,593 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:55,593 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,594 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:55,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:55,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,596 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:55,596 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:59:55,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,598 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E3C5F8> checked out from pool
2020-03-12 03:59:55,598 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:59:55,598 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:59:55,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E3C5F8> being returned to pool
2020-03-12 03:59:55,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E3C5F8> rollback-on-return
2020-03-12 03:59:55,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6EF0>
2020-03-12 03:59:55,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:55,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,603 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:55,603 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:55,603 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,605 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:55,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:55,606 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,606 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:55,606 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:55,607 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,607 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,607 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,607 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,608 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6EF0> checked out from pool
2020-03-12 03:59:55,608 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:55,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:59:55,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:59:55,610 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:59:55,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:59:55,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:59:55,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:55,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:55,610 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6EF0> being returned to pool
2020-03-12 03:59:55,610 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6EF0> rollback-on-return, via agent
2020-03-12 03:59:55,610 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:55,610 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A34C18>, <hospital_test.models.Address object at 0x0000020277A34B38>, <hospital_test.models.Address object at 0x0000020277A34DD8>, <hospital_test.models.Address object at 0x0000020277A34F60>]}
2020-03-12 03:59:55,613 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6358>
2020-03-12 03:59:55,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:55,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,614 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,614 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:55,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:55,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,616 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:55,616 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:55,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:55,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:55,617 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:55,617 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:55,619 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6358> checked out from pool
2020-03-12 03:59:55,619 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:55,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:59:55,620 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:59:55,620 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:59:55,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:59:55,620 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6358> being returned to pool
2020-03-12 03:59:55,620 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF6358> rollback-on-return, via agent
2020-03-12 03:59:55,620 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:55,621 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A34C18>, <hospital_test.models.Address object at 0x0000020277A34B38>, <hospital_test.models.Address object at 0x0000020277A34DD8>, <hospital_test.models.Address object at 0x0000020277A34F60>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277AF6550>]}
2020-03-12 03:59:56,813 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A99AC8>
2020-03-12 03:59:56,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:56,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,814 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,814 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:56,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:56,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,816 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,816 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:56,816 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:56,816 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,817 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:56,817 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:56,818 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,818 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,818 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,818 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,819 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A99AC8> checked out from pool
2020-03-12 03:59:56,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:59:56,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,820 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:56,820 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:56,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:59:56,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,822 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:56,822 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:56,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:59:56,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:56,823 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:59:56,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:59:56,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:56,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:59:56,824 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A99AC8> being returned to pool
2020-03-12 03:59:56,824 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A99AC8> rollback-on-return
2020-03-12 03:59:56,826 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2C048>
2020-03-12 03:59:56,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:56,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,827 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,827 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:56,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:56,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,829 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:56,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:56,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,829 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:56,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:59:56,830 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,830 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,830 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,831 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2C048> checked out from pool
2020-03-12 03:59:56,831 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:59:56,831 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:59:56,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2C048> being returned to pool
2020-03-12 03:59:56,832 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277E2C048> rollback-on-return
2020-03-12 03:59:56,834 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D400>
2020-03-12 03:59:56,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:56,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,836 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,836 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:56,836 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:56,836 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,837 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,837 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:56,837 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:56,838 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,838 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:56,838 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:56,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D400> checked out from pool
2020-03-12 03:59:56,840 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:56,841 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:56,842 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D400> being returned to pool
2020-03-12 03:59:56,842 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D400> rollback-on-return, via agent
2020-03-12 03:59:56,842 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:56,842 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A99CC0>, <hospital_test.models.Address object at 0x0000020277A99320>, <hospital_test.models.Address object at 0x0000020277A99B70>, <hospital_test.models.Address object at 0x0000020277A99C50>]}
2020-03-12 03:59:56,844 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D390>
2020-03-12 03:59:56,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:56,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,846 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,846 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:56,846 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:56,846 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,847 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:56,847 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:56,848 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:56,848 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:56,848 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:56,848 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:56,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,850 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:56,850 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:56,850 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D390> checked out from pool
2020-03-12 03:59:56,850 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:56,851 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:59:56,851 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:59:56,851 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:59:56,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:59:56,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D390> being returned to pool
2020-03-12 03:59:56,852 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A5D390> rollback-on-return, via agent
2020-03-12 03:59:56,852 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:56,852 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A99CC0>, <hospital_test.models.Address object at 0x0000020277A99320>, <hospital_test.models.Address object at 0x0000020277A99B70>, <hospital_test.models.Address object at 0x0000020277A99C50>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277AC10B8>]}
2020-03-12 03:59:57,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE240>
2020-03-12 03:59:57,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:57,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,538 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:57,539 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:57,539 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,540 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,540 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:57,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:57,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:57,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:57,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,543 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,543 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE240> checked out from pool
2020-03-12 03:59:57,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:59:57,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:57,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:57,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:59:57,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,545 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:57,545 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:57,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:59:57,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,546 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:57,546 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:59:57,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:59:57,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:57,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:59:57,547 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE240> being returned to pool
2020-03-12 03:59:57,547 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE240> rollback-on-return
2020-03-12 03:59:57,549 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B860>
2020-03-12 03:59:57,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:57,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,551 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:57,551 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:57,551 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,553 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:57,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:57,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,554 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:57,554 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:59:57,555 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,555 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,556 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,556 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,556 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B860> checked out from pool
2020-03-12 03:59:57,556 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:59:57,557 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:59:57,557 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B860> being returned to pool
2020-03-12 03:59:57,557 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B860> rollback-on-return
2020-03-12 03:59:57,559 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F320>
2020-03-12 03:59:57,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:57,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:57,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:57,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,562 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,562 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:57,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:57,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:57,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:57,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F320> checked out from pool
2020-03-12 03:59:57,565 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:57,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:57,566 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F320> being returned to pool
2020-03-12 03:59:57,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A9F320> rollback-on-return, via agent
2020-03-12 03:59:57,567 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:57,567 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277ACEDA0>, <hospital_test.models.Address object at 0x0000020277A9FA90>, <hospital_test.models.Address object at 0x0000020277A9FEB8>, <hospital_test.models.Address object at 0x0000020277A9F9B0>]}
2020-03-12 03:59:57,569 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B6A0>
2020-03-12 03:59:57,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:57,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:57,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:57,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:57,572 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:57,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:57,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:57,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:57,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:57,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:57,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:57,574 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B6A0> checked out from pool
2020-03-12 03:59:57,574 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:57,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:59:57,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:59:57,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:59:57,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:59:57,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B6A0> being returned to pool
2020-03-12 03:59:57,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A4B6A0> rollback-on-return, via agent
2020-03-12 03:59:57,576 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:57,576 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277ACEDA0>, <hospital_test.models.Address object at 0x0000020277A9FA90>, <hospital_test.models.Address object at 0x0000020277A9FEB8>, <hospital_test.models.Address object at 0x0000020277A9F9B0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A4E8D0>]}
2020-03-12 03:59:58,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF9470>
2020-03-12 03:59:58,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:58,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,216 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,216 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:58,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:58,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:58,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:58,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,218 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:58,218 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:58,219 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,219 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,219 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,220 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,220 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF9470> checked out from pool
2020-03-12 03:59:58,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 03:59:58,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,221 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:58,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:58,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 03:59:58,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:59:58,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 03:59:58,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,224 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:58,224 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:59:58,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 03:59:58,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:59:58,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:59:58,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF9470> being returned to pool
2020-03-12 03:59:58,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AF9470> rollback-on-return
2020-03-12 03:59:58,228 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34BE0>
2020-03-12 03:59:58,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:58,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:58,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:58,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,231 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:58,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:58,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:58,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 03:59:58,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34BE0> checked out from pool
2020-03-12 03:59:58,234 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:59:58,234 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:59:58,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34BE0> being returned to pool
2020-03-12 03:59:58,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A34BE0> rollback-on-return
2020-03-12 03:59:58,237 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A44AC8>
2020-03-12 03:59:58,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:58,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:58,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:58,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,240 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,240 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:58,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:58,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:58,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:58,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,243 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A44AC8> checked out from pool
2020-03-12 03:59:58,243 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:58,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:59:58,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 03:59:58,244 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:59:58,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:59:58,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:59:58,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:58,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:59:58,245 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A44AC8> being returned to pool
2020-03-12 03:59:58,245 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A44AC8> rollback-on-return, via agent
2020-03-12 03:59:58,245 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:58,245 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A34C50>, <hospital_test.models.Address object at 0x0000020277A34BE0>, <hospital_test.models.Address object at 0x0000020277A349E8>, <hospital_test.models.Address object at 0x0000020277A34CF8>]}
2020-03-12 03:59:58,248 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A440F0>
2020-03-12 03:59:58,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:59:58,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,250 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,250 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:59:58,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:59:58,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 03:59:58,252 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 03:59:58,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 03:59:58,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 03:59:58,253 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 03:59:58,253 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 03:59:58,254 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,254 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,255 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:59:58,255 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 03:59:58,255 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A440F0> checked out from pool
2020-03-12 03:59:58,255 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 03:59:58,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:59:58,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:59:58,256 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:59:58,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:59:58,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A440F0> being returned to pool
2020-03-12 03:59:58,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277A440F0> rollback-on-return, via agent
2020-03-12 03:59:58,257 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 03:59:58,257 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277A34C50>, <hospital_test.models.Address object at 0x0000020277A34BE0>, <hospital_test.models.Address object at 0x0000020277A349E8>, <hospital_test.models.Address object at 0x0000020277A34CF8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A4E240>]}
2020-03-12 04:00:40,757 root:INFO:models:save_pres_addr:MainProcess:15004:开始连接数据库关联处方和地址
2020-03-12 04:00:40,808 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDBCF8>
2020-03-12 04:00:40,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 04:00:40,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:40,810 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:40,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 04:00:40,811 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 04:00:40,811 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:40,812 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:40,812 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 04:00:40,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 04:00:40,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:40,814 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 04:00:40,814 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 04:00:40,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:40,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:40,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:40,816 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:40,816 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDBCF8> checked out from pool
2020-03-12 04:00:40,816 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 04:00:40,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-12 04:00:40,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num': 'MZ_201912203096', 'addr_id': '8', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-12 04:00:40,822 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 04:00:40,823 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDBCF8> being returned to pool
2020-03-12 04:00:40,823 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277DDBCF8> rollback-on-return
2020-03-12 04:00:40,824 root:INFO:models:save_pres_addr:MainProcess:15004:处方关联失败！
2020-03-12 04:00:40,824 root:INFO:models:save_pres_addr:MainProcess:15004:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '8', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-12 04:00:42,815 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AAC438>
2020-03-12 04:00:42,816 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 04:00:42,816 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,818 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,818 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 04:00:42,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 04:00:42,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,819 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,820 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 04:00:42,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 04:00:42,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,821 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 04:00:42,821 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 04:00:42,821 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,821 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,822 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AAC438> checked out from pool
2020-03-12 04:00:42,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `pres_consignee`
2020-03-12 04:00:42,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 04:00:42,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 04:00:42,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid _prescriptions`
2020-03-12 04:00:42,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,826 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 04:00:42,826 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 04:00:42,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `mid_prescription_details`
2020-03-12 04:00:42,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,827 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 04:00:42,827 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 04:00:42,827 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:DESCRIBE `custom_addr`
2020-03-12 04:00:42,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,828 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 04:00:42,828 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 04:00:42,828 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AAC438> being returned to pool
2020-03-12 04:00:42,828 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AAC438> rollback-on-return
2020-03-12 04:00:42,830 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080>
2020-03-12 04:00:42,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 04:00:42,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,832 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,832 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 04:00:42,833 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 04:00:42,833 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,834 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,834 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 04:00:42,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 04:00:42,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,835 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 04:00:42,835 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('addr_test',)
2020-03-12 04:00:42,836 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,836 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,837 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,837 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,837 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080> checked out from pool
2020-03-12 04:00:42,838 root:INFO:models:mysql_connect:MainProcess:15004:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 04:00:42,838 root:INFO:models:mysql_connect:MainProcess:15004:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 04:00:42,838 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080> being returned to pool
2020-03-12 04:00:42,838 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277ACE080> rollback-on-return
2020-03-12 04:00:42,842 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD5F8>
2020-03-12 04:00:42,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 04:00:42,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,844 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,844 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 04:00:42,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 04:00:42,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,846 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,846 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 04:00:42,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 04:00:42,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,847 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 04:00:42,847 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 04:00:42,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,849 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD5F8> checked out from pool
2020-03-12 04:00:42,849 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 04:00:42,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 04:00:42,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'custom_num_1': '5550008088'}
2020-03-12 04:00:42,850 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 04:00:42,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 04:00:42,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 04:00:42,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 04:00:42,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 04:00:42,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD5F8> being returned to pool
2020-03-12 04:00:42,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD5F8> rollback-on-return, via agent
2020-03-12 04:00:42,851 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 04:00:42,851 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277ACE358>, <hospital_test.models.Address object at 0x0000020277ACECC0>, <hospital_test.models.Address object at 0x0000020277ACEB38>, <hospital_test.models.Address object at 0x0000020277ACEA58>]}
2020-03-12 04:00:42,854 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:15004:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD630>
2020-03-12 04:00:42,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 04:00:42,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,856 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,856 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 04:00:42,856 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 04:00:42,856 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,858 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('Variable_name', 'Value')
2020-03-12 04:00:42,858 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('lower_case_table_names', '1')
2020-03-12 04:00:42,859 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT DATABASE()
2020-03-12 04:00:42,859 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{}
2020-03-12 04:00:42,859 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('DATABASE()',)
2020-03-12 04:00:42,859 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('zhyf_host',)
2020-03-12 04:00:42,860 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,861 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,861 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 04:00:42,861 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:15004:{}
2020-03-12 04:00:42,861 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD630> checked out from pool
2020-03-12 04:00:42,861 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:15004:BEGIN (implicit)
2020-03-12 04:00:42,861 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 04:00:42,861 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:15004:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 04:00:42,862 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:15004:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 04:00:42,862 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:15004:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 04:00:42,862 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD630> being returned to pool
2020-03-12 04:00:42,862 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:15004:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020277AFD630> rollback-on-return, via agent
2020-03-12 04:00:42,862 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:15004:ROLLBACK
2020-03-12 04:00:42,862 root:INFO:views:entry_addr:MainProcess:15004:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020277ACE358>, <hospital_test.models.Address object at 0x0000020277ACECC0>, <hospital_test.models.Address object at 0x0000020277ACEB38>, <hospital_test.models.Address object at 0x0000020277ACEA58>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020277A775C0>]}
2020-03-12 04:11:09,729 asyncio:DEBUG:selector_events:__init__:MainProcess:15004:Using selector: SelectSelector
2020-03-12 16:53:42,205 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BC4CFD0>
2020-03-12 16:53:42,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:53:42,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:53:42,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:53:42,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,221 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:53:42,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:53:42,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:53:42,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:53:42,226 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,226 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,228 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BC4CFD0> checked out from pool
2020-03-12 16:53:42,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `pres_consignee`
2020-03-12 16:53:42,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:53:42,242 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 16:53:42,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `mid _prescriptions`
2020-03-12 16:53:42,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,249 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:53:42,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 16:53:42,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `mid_prescription_details`
2020-03-12 16:53:42,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,256 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:53:42,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 16:53:42,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `custom_addr`
2020-03-12 16:53:42,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,264 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:53:42,264 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 16:53:42,264 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BC4CFD0> being returned to pool
2020-03-12 16:53:42,264 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BC4CFD0> rollback-on-return
2020-03-12 16:53:42,267 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BA51278>
2020-03-12 16:53:42,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:53:42,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,270 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,270 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:53:42,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:53:42,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,271 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,271 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:53:42,272 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:53:42,272 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,272 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:53:42,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('addr_test',)
2020-03-12 16:53:42,273 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,273 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,273 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,273 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,273 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BA51278> checked out from pool
2020-03-12 16:53:42,274 root:INFO:models:mysql_connect:MainProcess:5860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905316950'and p.treat_card ='0565050';
2020-03-12 16:53:42,283 root:INFO:models:mysql_connect:MainProcess:5860:==> Parameters:[["0565050", "周飞成", "15819496733"]]
2020-03-12 16:53:42,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BA51278> being returned to pool
2020-03-12 16:53:42,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BA51278> rollback-on-return
2020-03-12 16:53:42,289 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAF3160>
2020-03-12 16:53:42,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:53:42,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,291 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:53:42,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:53:42,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,293 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,293 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:53:42,293 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:53:42,293 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,294 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:53:42,294 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:53:42,294 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,294 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,295 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,295 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,295 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAF3160> checked out from pool
2020-03-12 16:53:42,295 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5860:BEGIN (implicit)
2020-03-12 16:53:42,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 16:53:42,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{'custom_num_1': '0565050'}
2020-03-12 16:53:42,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 16:53:42,297 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAF3160> being returned to pool
2020-03-12 16:53:42,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAF3160> rollback-on-return, via agent
2020-03-12 16:53:42,298 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5860:ROLLBACK
2020-03-12 16:53:42,298 root:INFO:views:entry_addr:MainProcess:5860:{'treat_card': '0565050', 'username': '周飞成', 'tel': '15819496733', 'pres_num': 'MZ_201905316950', 'custom_num': '0565050', 'addr_lists': []}
2020-03-12 16:53:42,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAD11D0>
2020-03-12 16:53:42,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:53:42,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:53:42,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:53:42,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,304 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:53:42,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:53:42,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:53:42,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:53:42,305 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:53:42,305 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:53:42,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:53:42,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:53:42,307 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAD11D0> checked out from pool
2020-03-12 16:53:42,307 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5860:BEGIN (implicit)
2020-03-12 16:53:42,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 16:53:42,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{'pres_num_1': 'MZ_201905316950'}
2020-03-12 16:53:42,309 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 16:53:42,309 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAD11D0> being returned to pool
2020-03-12 16:53:42,309 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12BAD11D0> rollback-on-return, via agent
2020-03-12 16:53:42,309 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5860:ROLLBACK
2020-03-12 16:53:42,309 root:INFO:views:entry_addr:MainProcess:5860:{'treat_card': '0565050', 'username': '周飞成', 'tel': '15819496733', 'pres_num': 'MZ_201905316950', 'custom_num': '0565050', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 16:55:35,897 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AF240>
2020-03-12 16:55:35,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:35,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,900 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,900 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:35,900 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:35,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,902 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,902 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:35,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:35,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,904 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:35,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:55:35,905 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,905 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,906 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AF240> checked out from pool
2020-03-12 16:55:35,907 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `pres_consignee`
2020-03-12 16:55:35,907 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,908 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:35,908 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 16:55:35,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `mid _prescriptions`
2020-03-12 16:55:35,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,910 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:35,910 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 16:55:35,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `mid_prescription_details`
2020-03-12 16:55:35,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,912 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:35,912 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 16:55:35,913 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `custom_addr`
2020-03-12 16:55:35,913 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,914 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:35,914 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 16:55:35,914 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AF240> being returned to pool
2020-03-12 16:55:35,914 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AF240> rollback-on-return
2020-03-12 16:55:35,916 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B892DA0>
2020-03-12 16:55:35,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:35,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,918 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,918 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:35,919 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:35,919 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,920 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,920 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:35,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:35,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,921 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:35,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('addr_test',)
2020-03-12 16:55:35,922 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,922 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,923 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,923 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,923 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B892DA0> checked out from pool
2020-03-12 16:55:35,923 root:INFO:models:mysql_connect:MainProcess:5860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905203324'and p.treat_card ='0565188';
2020-03-12 16:55:35,924 root:INFO:models:mysql_connect:MainProcess:5860:==> Parameters:[["0565188", "张丽仙", "15887841947"]]
2020-03-12 16:55:35,925 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B892DA0> being returned to pool
2020-03-12 16:55:35,925 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B892DA0> rollback-on-return
2020-03-12 16:55:35,928 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE048>
2020-03-12 16:55:35,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:35,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,930 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,930 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:35,930 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:35,930 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,932 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,932 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:35,932 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:35,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,933 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:35,933 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:55:35,934 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,934 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,934 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,934 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,935 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE048> checked out from pool
2020-03-12 16:55:35,935 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5860:BEGIN (implicit)
2020-03-12 16:55:35,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 16:55:35,936 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{'custom_num_1': '0565188'}
2020-03-12 16:55:35,937 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 16:55:35,937 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE048> being returned to pool
2020-03-12 16:55:35,937 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE048> rollback-on-return, via agent
2020-03-12 16:55:35,937 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5860:ROLLBACK
2020-03-12 16:55:35,938 root:INFO:views:entry_addr:MainProcess:5860:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': []}
2020-03-12 16:55:35,941 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE320>
2020-03-12 16:55:35,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:35,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,943 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,943 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:35,943 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:35,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,945 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:35,945 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:35,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:35,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:35,946 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:35,946 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:55:35,947 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,947 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,948 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:35,948 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:35,948 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE320> checked out from pool
2020-03-12 16:55:35,948 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5860:BEGIN (implicit)
2020-03-12 16:55:35,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 16:55:35,949 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{'pres_num_1': 'MZ_201905203324'}
2020-03-12 16:55:35,949 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 16:55:35,950 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE320> being returned to pool
2020-03-12 16:55:35,950 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8AE320> rollback-on-return, via agent
2020-03-12 16:55:35,950 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5860:ROLLBACK
2020-03-12 16:55:35,950 root:INFO:views:entry_addr:MainProcess:5860:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 16:55:45,206 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B87B668>
2020-03-12 16:55:45,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:45,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,209 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,209 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:45,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:45,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,211 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,211 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:45,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:45,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:45,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:55:45,213 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,213 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,214 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,214 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B87B668> checked out from pool
2020-03-12 16:55:45,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `pres_consignee`
2020-03-12 16:55:45,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,216 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:45,216 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 16:55:45,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `mid _prescriptions`
2020-03-12 16:55:45,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:45,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 16:55:45,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `mid_prescription_details`
2020-03-12 16:55:45,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,221 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:45,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 16:55:45,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:DESCRIBE `custom_addr`
2020-03-12 16:55:45,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,224 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 16:55:45,224 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 16:55:45,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B87B668> being returned to pool
2020-03-12 16:55:45,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B87B668> rollback-on-return
2020-03-12 16:55:45,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8E7668>
2020-03-12 16:55:45,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:45,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,228 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:45,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:45,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,230 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:45,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:45,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:45,230 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('addr_test',)
2020-03-12 16:55:45,231 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,231 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,232 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8E7668> checked out from pool
2020-03-12 16:55:45,232 root:INFO:models:mysql_connect:MainProcess:5860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 16:55:45,233 root:INFO:models:mysql_connect:MainProcess:5860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 16:55:45,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8E7668> being returned to pool
2020-03-12 16:55:45,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8E7668> rollback-on-return
2020-03-12 16:55:45,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8F0A58>
2020-03-12 16:55:45,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:45,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:45,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:45,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:45,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:45,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:45,242 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:55:45,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,244 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,244 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8F0A58> checked out from pool
2020-03-12 16:55:45,244 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5860:BEGIN (implicit)
2020-03-12 16:55:45,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 16:55:45,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{'custom_num_1': '5550008088'}
2020-03-12 16:55:45,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 16:55:45,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 16:55:45,247 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 16:55:45,247 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 16:55:45,247 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 16:55:45,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8F0A58> being returned to pool
2020-03-12 16:55:45,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B8F0A58> rollback-on-return, via agent
2020-03-12 16:55:45,247 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5860:ROLLBACK
2020-03-12 16:55:45,247 root:INFO:views:entry_addr:MainProcess:5860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002D12B91D860>, <hospital_test.models.Address object at 0x000002D12B91D898>, <hospital_test.models.Address object at 0x000002D12B91D908>, <hospital_test.models.Address object at 0x000002D12B91D978>]}
2020-03-12 16:55:45,249 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B91DF28>
2020-03-12 16:55:45,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 16:55:45,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,251 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 16:55:45,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 16:55:45,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,253 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('Variable_name', 'Value')
2020-03-12 16:55:45,253 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('lower_case_table_names', '1')
2020-03-12 16:55:45,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT DATABASE()
2020-03-12 16:55:45,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{}
2020-03-12 16:55:45,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('DATABASE()',)
2020-03-12 16:55:45,255 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('zhyf_host',)
2020-03-12 16:55:45,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 16:55:45,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5860:{}
2020-03-12 16:55:45,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B91DF28> checked out from pool
2020-03-12 16:55:45,257 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5860:BEGIN (implicit)
2020-03-12 16:55:45,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 16:55:45,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5860:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 16:55:45,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 16:55:45,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5860:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 16:55:45,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B91DF28> being returned to pool
2020-03-12 16:55:45,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002D12B91DF28> rollback-on-return, via agent
2020-03-12 16:55:45,259 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5860:ROLLBACK
2020-03-12 16:55:45,259 root:INFO:views:entry_addr:MainProcess:5860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002D12B91D860>, <hospital_test.models.Address object at 0x000002D12B91D898>, <hospital_test.models.Address object at 0x000002D12B91D908>, <hospital_test.models.Address object at 0x000002D12B91D978>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002D12B91A3C8>]}
2020-03-12 16:56:02,479 root:INFO:views:get_hos_properties:MainProcess:5860:is_hos_addr:1
2020-03-12 16:56:02,500 root:INFO:views:get_hos_properties:MainProcess:5860:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 16:56:13,406 root:INFO:views:get_hos_properties:MainProcess:5860:is_hos_addr:2
2020-03-12 16:56:13,406 root:INFO:views:get_hos_properties:MainProcess:5860:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 16:56:15,149 root:INFO:views:get_hos_properties:MainProcess:5860:is_hos_addr:1
2020-03-12 16:56:15,150 root:INFO:views:get_hos_properties:MainProcess:5860:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 16:56:24,640 root:INFO:views:get_hos_properties:MainProcess:5860:is_hos_addr:2
2020-03-12 16:56:24,641 root:INFO:views:get_hos_properties:MainProcess:5860:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 16:56:28,480 root:INFO:views:get_hos_properties:MainProcess:5860:is_hos_addr:2
2020-03-12 16:56:28,481 root:INFO:views:get_hos_properties:MainProcess:5860:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 16:56:29,293 root:INFO:views:get_hos_properties:MainProcess:5860:is_hos_addr:2
2020-03-12 16:56:29,294 root:INFO:views:get_hos_properties:MainProcess:5860:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 17:04:53,884 asyncio:DEBUG:selector_events:__init__:MainProcess:5860:Using selector: SelectSelector
2020-03-12 17:05:01,136 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBE48>
2020-03-12 17:05:01,137 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:05:01,137 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,138 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:05:01,139 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:05:01,139 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,140 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:05:01,141 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:05:01,141 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,141 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:05:01,141 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:05:01,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,143 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBE48> checked out from pool
2020-03-12 17:05:01,143 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 17:05:01,143 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,145 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:05:01,145 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 17:05:01,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 17:05:01,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,147 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:05:01,147 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 17:05:01,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 17:05:01,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,148 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:05:01,148 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 17:05:01,149 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 17:05:01,149 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,150 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:05:01,150 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 17:05:01,150 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBE48> being returned to pool
2020-03-12 17:05:01,150 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBE48> rollback-on-return
2020-03-12 17:05:01,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14A90>
2020-03-12 17:05:01,153 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:05:01,153 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,165 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,166 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:05:01,166 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:05:01,166 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,168 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,168 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:05:01,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:05:01,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,169 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:05:01,169 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 17:05:01,170 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,170 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,170 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,170 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,171 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14A90> checked out from pool
2020-03-12 17:05:01,171 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 17:05:01,172 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 17:05:01,172 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14A90> being returned to pool
2020-03-12 17:05:01,172 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14A90> rollback-on-return
2020-03-12 17:05:01,177 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D470>
2020-03-12 17:05:01,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:05:01,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,179 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,179 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:05:01,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:05:01,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,181 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,181 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:05:01,181 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:05:01,182 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,182 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:05:01,182 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:05:01,183 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,183 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,184 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,184 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,185 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D470> checked out from pool
2020-03-12 17:05:01,185 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 17:05:01,185 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 17:05:01,185 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 17:05:01,187 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 17:05:01,187 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 17:05:01,187 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 17:05:01,187 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 17:05:01,187 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 17:05:01,187 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D470> being returned to pool
2020-03-12 17:05:01,187 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D470> rollback-on-return, via agent
2020-03-12 17:05:01,187 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 17:05:01,188 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4F7A2E8>, <hospital_test.models.Address object at 0x000001B6D4F7A390>, <hospital_test.models.Address object at 0x000001B6D4F7A400>, <hospital_test.models.Address object at 0x000001B6D4F7A470>]}
2020-03-12 17:05:01,190 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F7A940>
2020-03-12 17:05:01,190 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:05:01,190 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,192 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,192 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:05:01,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:05:01,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,193 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:05:01,193 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:05:01,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:05:01,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:05:01,194 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:05:01,194 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:05:01,195 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,195 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:05:01,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:05:01,196 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F7A940> checked out from pool
2020-03-12 17:05:01,197 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 17:05:01,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 17:05:01,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 17:05:01,198 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 17:05:01,198 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 17:05:01,198 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F7A940> being returned to pool
2020-03-12 17:05:01,199 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F7A940> rollback-on-return, via agent
2020-03-12 17:05:01,199 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 17:05:01,199 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4F7A2E8>, <hospital_test.models.Address object at 0x000001B6D4F7A390>, <hospital_test.models.Address object at 0x000001B6D4F7A400>, <hospital_test.models.Address object at 0x000001B6D4F7A470>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4F92240>]}
2020-03-12 17:07:51,724 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D6A0>
2020-03-12 17:07:51,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:51,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,727 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,727 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:51,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:51,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,729 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,729 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:51,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:51,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:51,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:07:51,731 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,731 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,732 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,732 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D6A0> checked out from pool
2020-03-12 17:07:51,733 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 17:07:51,733 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,734 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:51,734 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 17:07:51,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 17:07:51,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,736 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:51,736 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 17:07:51,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 17:07:51,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,737 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:51,737 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 17:07:51,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 17:07:51,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:51,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 17:07:51,738 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D6A0> being returned to pool
2020-03-12 17:07:51,738 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F4D6A0> rollback-on-return
2020-03-12 17:07:51,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98>
2020-03-12 17:07:51,741 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:51,741 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,742 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,742 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:51,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:51,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,744 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,744 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:51,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:51,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:51,745 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 17:07:51,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,747 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,747 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98> checked out from pool
2020-03-12 17:07:51,748 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 17:07:51,748 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 17:07:51,748 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98> being returned to pool
2020-03-12 17:07:51,748 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98> rollback-on-return
2020-03-12 17:07:51,751 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDEB8>
2020-03-12 17:07:51,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:51,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:51,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:51,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,754 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:51,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:51,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,755 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:51,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:07:51,756 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,756 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,757 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,757 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,757 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDEB8> checked out from pool
2020-03-12 17:07:51,757 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 17:07:51,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 17:07:51,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 17:07:51,758 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 17:07:51,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 17:07:51,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 17:07:51,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 17:07:51,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 17:07:51,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDEB8> being returned to pool
2020-03-12 17:07:51,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDEB8> rollback-on-return, via agent
2020-03-12 17:07:51,759 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 17:07:51,759 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D509B780>, <hospital_test.models.Address object at 0x000001B6D509BEF0>, <hospital_test.models.Address object at 0x000001B6D509BB00>, <hospital_test.models.Address object at 0x000001B6D509B7F0>]}
2020-03-12 17:07:51,761 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D509BC88>
2020-03-12 17:07:51,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:51,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:51,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:51,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,765 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:51,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:51,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:51,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:51,766 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:51,766 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:07:51,767 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,767 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,768 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:51,768 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:51,768 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D509BC88> checked out from pool
2020-03-12 17:07:51,768 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 17:07:51,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 17:07:51,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 17:07:51,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 17:07:51,769 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 17:07:51,769 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D509BC88> being returned to pool
2020-03-12 17:07:51,769 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D509BC88> rollback-on-return, via agent
2020-03-12 17:07:51,769 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 17:07:51,769 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D509B780>, <hospital_test.models.Address object at 0x000001B6D509BEF0>, <hospital_test.models.Address object at 0x000001B6D509BB00>, <hospital_test.models.Address object at 0x000001B6D509B7F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4C0B828>]}
2020-03-12 17:07:55,022 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C28550>
2020-03-12 17:07:55,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:55,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,024 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,024 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:55,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:55,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,026 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,026 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:55,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:55,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,027 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:55,027 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:07:55,028 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,028 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,029 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,029 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,030 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C28550> checked out from pool
2020-03-12 17:07:55,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 17:07:55,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,031 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:55,031 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 17:07:55,031 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 17:07:55,031 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,033 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:55,033 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 17:07:55,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 17:07:55,034 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,034 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:55,034 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 17:07:55,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 17:07:55,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,036 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 17:07:55,036 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 17:07:55,036 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C28550> being returned to pool
2020-03-12 17:07:55,036 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C28550> rollback-on-return
2020-03-12 17:07:55,038 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BBBFD0>
2020-03-12 17:07:55,038 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:55,038 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,040 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,040 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:55,040 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:55,040 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,042 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,042 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:55,043 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:55,043 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,043 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:55,043 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 17:07:55,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,044 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,045 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BBBFD0> checked out from pool
2020-03-12 17:07:55,045 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 17:07:55,045 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 17:07:55,046 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BBBFD0> being returned to pool
2020-03-12 17:07:55,046 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BBBFD0> rollback-on-return
2020-03-12 17:07:55,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F9C2E8>
2020-03-12 17:07:55,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:55,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,051 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,051 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:55,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:55,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,054 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,054 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:55,054 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:55,054 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,054 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:55,055 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:07:55,055 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,056 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,056 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,056 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,056 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F9C2E8> checked out from pool
2020-03-12 17:07:55,057 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 17:07:55,057 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 17:07:55,057 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 17:07:55,058 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 17:07:55,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 17:07:55,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 17:07:55,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 17:07:55,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 17:07:55,058 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F9C2E8> being returned to pool
2020-03-12 17:07:55,058 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F9C2E8> rollback-on-return, via agent
2020-03-12 17:07:55,058 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 17:07:55,059 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BBBE48>, <hospital_test.models.Address object at 0x000001B6D4C08F28>, <hospital_test.models.Address object at 0x000001B6D4C08080>, <hospital_test.models.Address object at 0x000001B6D4C08C18>]}
2020-03-12 17:07:55,061 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C084E0>
2020-03-12 17:07:55,061 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 17:07:55,061 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,063 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,063 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 17:07:55,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 17:07:55,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 17:07:55,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 17:07:55,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 17:07:55,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 17:07:55,066 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 17:07:55,066 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 17:07:55,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,068 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 17:07:55,068 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 17:07:55,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C084E0> checked out from pool
2020-03-12 17:07:55,068 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 17:07:55,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 17:07:55,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 17:07:55,069 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 17:07:55,069 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 17:07:55,069 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C084E0> being returned to pool
2020-03-12 17:07:55,070 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C084E0> rollback-on-return, via agent
2020-03-12 17:07:55,070 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 17:07:55,070 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BBBE48>, <hospital_test.models.Address object at 0x000001B6D4C08F28>, <hospital_test.models.Address object at 0x000001B6D4C08080>, <hospital_test.models.Address object at 0x000001B6D4C08C18>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4C08048>]}
2020-03-12 18:04:55,608 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCF908>
2020-03-12 18:04:55,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:04:55,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,613 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,613 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:04:55,614 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:04:55,614 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,615 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,615 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:04:55,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:04:55,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,617 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:04:55,617 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:04:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,619 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCF908> checked out from pool
2020-03-12 18:04:55,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:04:55,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,620 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:04:55,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:04:55,621 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:04:55,621 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,622 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:04:55,622 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:04:55,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:04:55,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,623 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:04:55,624 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:04:55,624 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:04:55,624 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,626 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:04:55,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:04:55,626 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCF908> being returned to pool
2020-03-12 18:04:55,626 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCF908> rollback-on-return
2020-03-12 18:04:55,629 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C258D0>
2020-03-12 18:04:55,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:04:55,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,631 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,631 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:04:55,631 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:04:55,631 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,633 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,633 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:04:55,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:04:55,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,635 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:04:55,635 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:04:55,636 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,636 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,636 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,637 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,637 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C258D0> checked out from pool
2020-03-12 18:04:55,637 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:04:55,638 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:04:55,638 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C258D0> being returned to pool
2020-03-12 18:04:55,638 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C258D0> rollback-on-return
2020-03-12 18:04:55,641 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C254E0>
2020-03-12 18:04:55,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:04:55,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,644 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,644 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:04:55,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:04:55,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,646 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,646 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:04:55,647 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:04:55,647 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,647 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:04:55,647 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:04:55,648 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,648 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,648 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,648 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,649 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C254E0> checked out from pool
2020-03-12 18:04:55,649 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:04:55,650 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:04:55,650 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:04:55,651 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:04:55,651 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:04:55,651 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:04:55,651 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:04:55,651 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:04:55,651 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C254E0> being returned to pool
2020-03-12 18:04:55,651 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C254E0> rollback-on-return, via agent
2020-03-12 18:04:55,651 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:04:55,652 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BF5AC8>, <hospital_test.models.Address object at 0x000001B6D4BF5940>, <hospital_test.models.Address object at 0x000001B6D4BF5208>, <hospital_test.models.Address object at 0x000001B6D4BF57F0>]}
2020-03-12 18:04:55,655 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF55C0>
2020-03-12 18:04:55,656 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:04:55,656 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,658 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,658 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:04:55,658 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:04:55,658 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,660 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:04:55,660 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:04:55,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:04:55,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:04:55,661 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:04:55,662 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:04:55,662 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,663 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,663 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:04:55,663 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:04:55,664 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF55C0> checked out from pool
2020-03-12 18:04:55,664 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:04:55,664 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:04:55,664 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:04:55,665 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:04:55,665 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:04:55,665 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF55C0> being returned to pool
2020-03-12 18:04:55,665 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF55C0> rollback-on-return, via agent
2020-03-12 18:04:55,665 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:04:55,665 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BF5AC8>, <hospital_test.models.Address object at 0x000001B6D4BF5940>, <hospital_test.models.Address object at 0x000001B6D4BF5208>, <hospital_test.models.Address object at 0x000001B6D4BF57F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4BF5978>]}
2020-03-12 18:06:19,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C083C8>
2020-03-12 18:06:19,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:06:19,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,565 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:06:19,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:06:19,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:06:19,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:06:19,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,568 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:06:19,568 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:06:19,569 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,569 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,569 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,569 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,570 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C083C8> checked out from pool
2020-03-12 18:06:19,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:06:19,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:06:19,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:06:19,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:06:19,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:06:19,574 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:06:19,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:06:19,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:06:19,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:06:19,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:06:19,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,576 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:06:19,576 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:06:19,576 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C083C8> being returned to pool
2020-03-12 18:06:19,576 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C083C8> rollback-on-return
2020-03-12 18:06:19,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8908>
2020-03-12 18:06:19,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:06:19,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:06:19,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:06:19,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,583 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,583 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:06:19,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:06:19,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,584 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:06:19,584 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:06:19,585 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,585 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,585 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,586 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8908> checked out from pool
2020-03-12 18:06:19,586 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:06:19,586 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:06:19,587 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8908> being returned to pool
2020-03-12 18:06:19,587 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8908> rollback-on-return
2020-03-12 18:06:19,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C14240>
2020-03-12 18:06:19,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:06:19,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,592 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,592 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:06:19,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:06:19,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,594 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,594 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:06:19,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:06:19,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,595 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:06:19,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:06:19,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,597 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C14240> checked out from pool
2020-03-12 18:06:19,597 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:06:19,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:06:19,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C14240> being returned to pool
2020-03-12 18:06:19,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C14240> rollback-on-return, via agent
2020-03-12 18:06:19,599 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:06:19,599 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4C14E48>, <hospital_test.models.Address object at 0x000001B6D4C144E0>, <hospital_test.models.Address object at 0x000001B6D4C14C18>, <hospital_test.models.Address object at 0x000001B6D4C146A0>]}
2020-03-12 18:06:19,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8C18>
2020-03-12 18:06:19,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:06:19,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,604 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:06:19,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:06:19,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,606 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:06:19,606 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:06:19,606 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:06:19,606 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:06:19,607 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:06:19,607 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:06:19,608 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,608 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,609 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:06:19,609 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:06:19,609 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8C18> checked out from pool
2020-03-12 18:06:19,609 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:06:19,610 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:06:19,610 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:06:19,610 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:06:19,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:06:19,611 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8C18> being returned to pool
2020-03-12 18:06:19,611 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8C18> rollback-on-return, via agent
2020-03-12 18:06:19,611 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:06:19,611 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4C14E48>, <hospital_test.models.Address object at 0x000001B6D4C144E0>, <hospital_test.models.Address object at 0x000001B6D4C14C18>, <hospital_test.models.Address object at 0x000001B6D4C146A0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4C12EF0>]}
2020-03-12 18:12:56,276 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8A58>
2020-03-12 18:12:56,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:12:56,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,278 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,278 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:12:56,278 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:12:56,278 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,280 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,280 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:12:56,281 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:12:56,281 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,282 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:12:56,282 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:12:56,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,284 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8A58> checked out from pool
2020-03-12 18:12:56,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:12:56,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,285 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:12:56,285 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:12:56,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:12:56,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,287 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:12:56,287 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:12:56,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:12:56,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,288 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:12:56,288 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:12:56,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:12:56,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,289 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:12:56,289 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:12:56,289 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8A58> being returned to pool
2020-03-12 18:12:56,289 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8A58> rollback-on-return
2020-03-12 18:12:56,291 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C940>
2020-03-12 18:12:56,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:12:56,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,293 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,293 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:12:56,293 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:12:56,293 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:12:56,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:12:56,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:12:56,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:12:56,298 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C940> checked out from pool
2020-03-12 18:12:56,300 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:12:56,301 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:12:56,301 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C940> being returned to pool
2020-03-12 18:12:56,301 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C940> rollback-on-return
2020-03-12 18:12:56,303 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C7B8>
2020-03-12 18:12:56,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:12:56,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,305 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,305 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:12:56,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:12:56,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:12:56,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:12:56,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:12:56,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:12:56,308 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,309 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C7B8> checked out from pool
2020-03-12 18:12:56,309 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:12:56,310 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:12:56,310 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:12:56,310 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:12:56,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:12:56,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:12:56,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:12:56,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:12:56,311 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C7B8> being returned to pool
2020-03-12 18:12:56,311 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C6C7B8> rollback-on-return, via agent
2020-03-12 18:12:56,311 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:12:56,311 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BC16A0>, <hospital_test.models.Address object at 0x000001B6D4BC1B00>, <hospital_test.models.Address object at 0x000001B6D4BC12E8>, <hospital_test.models.Address object at 0x000001B6D4BC17F0>]}
2020-03-12 18:12:56,314 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8AC8>
2020-03-12 18:12:56,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:12:56,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,316 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,316 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:12:56,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:12:56,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:12:56,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:12:56,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:12:56,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:12:56,319 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:12:56,319 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:12:56,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,321 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:12:56,321 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:12:56,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8AC8> checked out from pool
2020-03-12 18:12:56,321 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:12:56,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:12:56,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:12:56,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:12:56,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:12:56,322 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8AC8> being returned to pool
2020-03-12 18:12:56,323 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB8AC8> rollback-on-return, via agent
2020-03-12 18:12:56,323 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:12:56,323 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BC16A0>, <hospital_test.models.Address object at 0x000001B6D4BC1B00>, <hospital_test.models.Address object at 0x000001B6D4BC12E8>, <hospital_test.models.Address object at 0x000001B6D4BC17F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4C6C160>]}
2020-03-12 18:25:21,963 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDA90>
2020-03-12 18:25:21,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:25:21,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,966 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:21,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:25:21,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:25:21,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,968 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:21,968 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:25:21,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:25:21,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,970 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:25:21,970 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:25:21,971 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:21,971 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:21,972 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:21,972 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:21,973 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDA90> checked out from pool
2020-03-12 18:25:21,973 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:25:21,973 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,974 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:25:21,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:25:21,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:25:21,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,976 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:25:21,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:25:21,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:25:21,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,977 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:25:21,977 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:25:21,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:25:21,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,978 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:25:21,979 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:25:21,979 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDA90> being returned to pool
2020-03-12 18:25:21,979 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDA90> rollback-on-return
2020-03-12 18:25:21,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBBA8>
2020-03-12 18:25:21,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:25:21,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,983 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:21,983 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:25:21,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:25:21,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,986 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:21,986 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:25:21,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:25:21,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:25:21,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:25:21,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:21,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:21,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:21,990 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:21,990 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBBA8> checked out from pool
2020-03-12 18:25:21,990 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:25:21,991 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:25:21,991 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBBA8> being returned to pool
2020-03-12 18:25:21,991 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4EFBBA8> rollback-on-return
2020-03-12 18:25:21,993 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8B38>
2020-03-12 18:25:21,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:25:21,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,996 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:21,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:25:21,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:25:21,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,997 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:21,997 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:25:21,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:25:21,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:21,998 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:25:21,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:25:21,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:21,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:21,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:21,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:22,000 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8B38> checked out from pool
2020-03-12 18:25:22,000 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:25:22,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:25:22,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:25:22,001 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:25:22,001 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:25:22,001 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:25:22,001 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:25:22,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:25:22,002 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8B38> being returned to pool
2020-03-12 18:25:22,002 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8B38> rollback-on-return, via agent
2020-03-12 18:25:22,002 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:25:22,002 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D509BCF8>, <hospital_test.models.Address object at 0x000001B6D509BB00>, <hospital_test.models.Address object at 0x000001B6D509BD30>, <hospital_test.models.Address object at 0x000001B6D509B898>]}
2020-03-12 18:25:22,004 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8A90>
2020-03-12 18:25:22,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:25:22,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:22,007 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:22,007 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:25:22,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:25:22,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:22,009 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:25:22,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:25:22,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:25:22,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:25:22,010 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:25:22,010 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:25:22,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:22,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:22,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:25:22,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:25:22,011 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8A90> checked out from pool
2020-03-12 18:25:22,011 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:25:22,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:25:22,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:25:22,012 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:25:22,012 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:25:22,012 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8A90> being returned to pool
2020-03-12 18:25:22,013 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8A90> rollback-on-return, via agent
2020-03-12 18:25:22,013 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:25:22,013 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D509BCF8>, <hospital_test.models.Address object at 0x000001B6D509BB00>, <hospital_test.models.Address object at 0x000001B6D509BD30>, <hospital_test.models.Address object at 0x000001B6D509B898>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4BBB518>]}
2020-03-12 18:26:27,394 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68C18>
2020-03-12 18:26:27,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:26:27,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,396 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,396 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:26:27,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:26:27,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:26:27,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:26:27,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:26:27,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:26:27,400 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,400 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,401 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,401 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,402 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68C18> checked out from pool
2020-03-12 18:26:27,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:26:27,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,403 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:26:27,403 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:26:27,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:26:27,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,405 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:26:27,405 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:26:27,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:26:27,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:26:27,406 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:26:27,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:26:27,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,408 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:26:27,408 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:26:27,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68C18> being returned to pool
2020-03-12 18:26:27,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68C18> rollback-on-return
2020-03-12 18:26:27,410 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68CF8>
2020-03-12 18:26:27,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:26:27,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,412 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,412 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:26:27,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:26:27,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:26:27,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:26:27,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,415 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:26:27,415 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:26:27,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,417 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68CF8> checked out from pool
2020-03-12 18:26:27,417 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:26:27,417 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:26:27,417 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68CF8> being returned to pool
2020-03-12 18:26:27,417 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C68CF8> rollback-on-return
2020-03-12 18:26:27,420 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDC18>
2020-03-12 18:26:27,420 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:26:27,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,423 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,423 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:26:27,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:26:27,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,425 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,425 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:26:27,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:26:27,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,426 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:26:27,426 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:26:27,427 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,427 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,428 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDC18> checked out from pool
2020-03-12 18:26:27,428 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:26:27,429 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:26:27,429 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:26:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:26:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:26:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:26:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:26:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:26:27,430 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDC18> being returned to pool
2020-03-12 18:26:27,430 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BCDC18> rollback-on-return, via agent
2020-03-12 18:26:27,430 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:26:27,430 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BB7208>, <hospital_test.models.Address object at 0x000001B6D4BB7048>, <hospital_test.models.Address object at 0x000001B6D4BB77F0>, <hospital_test.models.Address object at 0x000001B6D4BB32E8>]}
2020-03-12 18:26:27,433 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB3D30>
2020-03-12 18:26:27,433 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:26:27,433 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,435 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,435 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:26:27,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:26:27,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,437 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:26:27,437 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:26:27,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:26:27,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:26:27,438 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:26:27,438 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:26:27,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:26:27,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:26:27,440 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB3D30> checked out from pool
2020-03-12 18:26:27,440 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:26:27,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:26:27,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:26:27,440 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:26:27,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:26:27,441 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB3D30> being returned to pool
2020-03-12 18:26:27,441 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BB3D30> rollback-on-return, via agent
2020-03-12 18:26:27,441 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:26:27,441 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BB7208>, <hospital_test.models.Address object at 0x000001B6D4BB7048>, <hospital_test.models.Address object at 0x000001B6D4BB77F0>, <hospital_test.models.Address object at 0x000001B6D4BB32E8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4BCDA90>]}
2020-03-12 18:27:17,781 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF0438>
2020-03-12 18:27:17,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:17,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,783 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,783 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:17,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:17,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,785 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,785 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:17,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:17,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:17,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:27:17,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,789 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,789 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF0438> checked out from pool
2020-03-12 18:27:17,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:27:17,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,790 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:17,790 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:27:17,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:27:17,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:17,793 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:27:17,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:27:17,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:17,794 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:27:17,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:27:17,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:17,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:27:17,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF0438> being returned to pool
2020-03-12 18:27:17,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BF0438> rollback-on-return
2020-03-12 18:27:17,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB128>
2020-03-12 18:27:17,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:17,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,800 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,800 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:17,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:17,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,802 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,802 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:17,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:17,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:17,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:27:17,804 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,804 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,805 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,805 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB128> checked out from pool
2020-03-12 18:27:17,806 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:27:17,806 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:27:17,806 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB128> being returned to pool
2020-03-12 18:27:17,806 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB128> rollback-on-return
2020-03-12 18:27:17,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB860>
2020-03-12 18:27:17,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:17,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,811 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,812 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:17,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:17,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,813 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,813 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:17,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:17,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,814 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:17,814 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:27:17,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,816 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,816 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,816 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB860> checked out from pool
2020-03-12 18:27:17,816 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:27:17,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:27:17,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:27:17,818 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:27:17,818 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:27:17,818 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:27:17,818 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:27:17,818 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:27:17,818 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB860> being returned to pool
2020-03-12 18:27:17,818 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB860> rollback-on-return, via agent
2020-03-12 18:27:17,818 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:27:17,819 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BEBCC0>, <hospital_test.models.Address object at 0x000001B6D4BEB550>, <hospital_test.models.Address object at 0x000001B6D4BEB128>, <hospital_test.models.Address object at 0x000001B6D4BEB5F8>]}
2020-03-12 18:27:17,821 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB6A0>
2020-03-12 18:27:17,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:17,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:17,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:17,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,826 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:17,826 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:17,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:17,827 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:17,827 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:17,827 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:27:17,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:17,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:17,829 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB6A0> checked out from pool
2020-03-12 18:27:17,829 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:27:17,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:27:17,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:27:17,830 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:27:17,830 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:27:17,830 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB6A0> being returned to pool
2020-03-12 18:27:17,830 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BEB6A0> rollback-on-return, via agent
2020-03-12 18:27:17,830 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:27:17,830 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BEBCC0>, <hospital_test.models.Address object at 0x000001B6D4BEB550>, <hospital_test.models.Address object at 0x000001B6D4BEB128>, <hospital_test.models.Address object at 0x000001B6D4BEB5F8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4F4DDA0>]}
2020-03-12 18:27:51,071 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14470>
2020-03-12 18:27:51,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:51,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,073 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,073 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:51,073 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:51,073 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:51,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:51,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:51,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:27:51,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,078 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14470> checked out from pool
2020-03-12 18:27:51,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `pres_consignee`
2020-03-12 18:27:51,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,079 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:51,079 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:27:51,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid _prescriptions`
2020-03-12 18:27:51,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:51,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:27:51,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `mid_prescription_details`
2020-03-12 18:27:51,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,082 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:51,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:27:51,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:DESCRIBE `custom_addr`
2020-03-12 18:27:51,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,083 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:27:51,084 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:27:51,084 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14470> being returned to pool
2020-03-12 18:27:51,084 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4F14470> rollback-on-return
2020-03-12 18:27:51,087 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8DD8>
2020-03-12 18:27:51,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:51,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:51,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:51,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:51,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:51,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('addr_test',)
2020-03-12 18:27:51,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8DD8> checked out from pool
2020-03-12 18:27:51,094 root:INFO:models:mysql_connect:MainProcess:4676:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:27:51,094 root:INFO:models:mysql_connect:MainProcess:4676:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:27:51,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8DD8> being returned to pool
2020-03-12 18:27:51,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8DD8> rollback-on-return
2020-03-12 18:27:51,097 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C08C18>
2020-03-12 18:27:51,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:51,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,099 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,099 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:51,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:51,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:51,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:51,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,103 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:51,103 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:27:51,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,105 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C08C18> checked out from pool
2020-03-12 18:27:51,105 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:27:51,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:27:51,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'custom_num_1': '5550008088'}
2020-03-12 18:27:51,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:27:51,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:27:51,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:27:51,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:27:51,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:27:51,107 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C08C18> being returned to pool
2020-03-12 18:27:51,107 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4C08C18> rollback-on-return, via agent
2020-03-12 18:27:51,108 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:27:51,108 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BCDC18>, <hospital_test.models.Address object at 0x000001B6D4BCD0B8>, <hospital_test.models.Address object at 0x000001B6D4BA8EB8>, <hospital_test.models.Address object at 0x000001B6D4BA8B70>]}
2020-03-12 18:27:51,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4676:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98>
2020-03-12 18:27:51,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:27:51,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,112 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,112 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:27:51,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:27:51,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('Variable_name', 'Value')
2020-03-12 18:27:51,113 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('lower_case_table_names', '1')
2020-03-12 18:27:51,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT DATABASE()
2020-03-12 18:27:51,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{}
2020-03-12 18:27:51,114 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('DATABASE()',)
2020-03-12 18:27:51,114 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('zhyf_host',)
2020-03-12 18:27:51,114 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,114 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:27:51,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4676:{}
2020-03-12 18:27:51,115 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98> checked out from pool
2020-03-12 18:27:51,115 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4676:BEGIN (implicit)
2020-03-12 18:27:51,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:27:51,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4676:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:27:51,116 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4676:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:27:51,116 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4676:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:27:51,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98> being returned to pool
2020-03-12 18:27:51,118 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4676:Connection <mysql.connector.connection.MySQLConnection object at 0x000001B6D4BA8F98> rollback-on-return, via agent
2020-03-12 18:27:51,118 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4676:ROLLBACK
2020-03-12 18:27:51,118 root:INFO:views:entry_addr:MainProcess:4676:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001B6D4BCDC18>, <hospital_test.models.Address object at 0x000001B6D4BCD0B8>, <hospital_test.models.Address object at 0x000001B6D4BA8EB8>, <hospital_test.models.Address object at 0x000001B6D4BA8B70>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001B6D4C08F28>]}
2020-03-12 18:31:36,219 asyncio:DEBUG:selector_events:__init__:MainProcess:4676:Using selector: SelectSelector
2020-03-12 18:31:52,147 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CE48>
2020-03-12 18:31:52,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:52,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,150 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,150 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:52,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:52,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,152 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,152 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:52,153 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:52,153 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,153 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:52,153 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:31:52,154 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,154 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,155 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,155 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,155 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CE48> checked out from pool
2020-03-12 18:31:52,156 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:31:52,156 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,156 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:52,156 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:31:52,157 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:31:52,157 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,158 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:52,158 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:31:52,159 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:31:52,159 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,160 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:52,160 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:31:52,161 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:31:52,161 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,162 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:52,162 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:31:52,163 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CE48> being returned to pool
2020-03-12 18:31:52,163 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CE48> rollback-on-return
2020-03-12 18:31:52,166 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33EB8>
2020-03-12 18:31:52,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:52,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,173 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:52,174 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:52,174 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,176 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,176 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:52,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:52,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,177 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:52,177 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:31:52,178 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,178 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,179 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,179 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,180 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33EB8> checked out from pool
2020-03-12 18:31:52,180 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:31:52,181 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:31:52,181 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33EB8> being returned to pool
2020-03-12 18:31:52,181 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33EB8> rollback-on-return
2020-03-12 18:31:52,195 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F6C4E0>
2020-03-12 18:31:52,196 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:52,196 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,199 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,199 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:52,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:52,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,203 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,203 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:52,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:52,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,205 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:52,205 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:31:52,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,207 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,207 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,208 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F6C4E0> checked out from pool
2020-03-12 18:31:52,208 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:31:52,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:31:52,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:31:52,210 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:31:52,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:31:52,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:31:52,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:31:52,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:31:52,211 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F6C4E0> being returned to pool
2020-03-12 18:31:52,211 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F6C4E0> rollback-on-return, via agent
2020-03-12 18:31:52,211 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:31:52,211 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438F9B320>, <hospital_test.models.Address object at 0x0000024438F9B3C8>, <hospital_test.models.Address object at 0x0000024438F9B438>, <hospital_test.models.Address object at 0x0000024438F9B4A8>]}
2020-03-12 18:31:52,214 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B940>
2020-03-12 18:31:52,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:52,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:52,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:52,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:52,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:52,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:52,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:52,222 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:52,222 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:31:52,223 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,223 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,223 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:52,223 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:52,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B940> checked out from pool
2020-03-12 18:31:52,224 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:31:52,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:31:52,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:31:52,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:31:52,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:31:52,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B940> being returned to pool
2020-03-12 18:31:52,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B940> rollback-on-return, via agent
2020-03-12 18:31:52,225 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:31:52,226 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438F9B320>, <hospital_test.models.Address object at 0x0000024438F9B3C8>, <hospital_test.models.Address object at 0x0000024438F9B438>, <hospital_test.models.Address object at 0x0000024438F9B4A8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438FB0240>]}
2020-03-12 18:31:59,819 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF240>
2020-03-12 18:31:59,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:59,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,821 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,821 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:59,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:59,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,823 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:59,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:59,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:59,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:31:59,825 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,825 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,825 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,826 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF240> checked out from pool
2020-03-12 18:31:59,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:31:59,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,827 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:59,827 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:31:59,827 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:31:59,827 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,828 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:59,828 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:31:59,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:31:59,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,829 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:59,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:31:59,830 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:31:59,830 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,830 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:31:59,830 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:31:59,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF240> being returned to pool
2020-03-12 18:31:59,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF240> rollback-on-return
2020-03-12 18:31:59,833 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D470>
2020-03-12 18:31:59,833 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:59,833 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,835 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,835 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:59,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:59,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,837 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,837 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:59,837 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:59,837 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,837 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:59,838 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:31:59,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,839 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D470> checked out from pool
2020-03-12 18:31:59,840 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:31:59,840 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:31:59,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D470> being returned to pool
2020-03-12 18:31:59,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D470> rollback-on-return
2020-03-12 18:31:59,843 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8>
2020-03-12 18:31:59,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:59,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,844 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,845 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:59,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:59,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,846 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,846 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:59,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:59,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,847 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:59,847 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:31:59,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,850 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8> checked out from pool
2020-03-12 18:31:59,850 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:31:59,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:31:59,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:31:59,851 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:31:59,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:31:59,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:31:59,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:31:59,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:31:59,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8> being returned to pool
2020-03-12 18:31:59,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8> rollback-on-return, via agent
2020-03-12 18:31:59,852 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:31:59,852 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BD8E48>, <hospital_test.models.Address object at 0x0000024438BD8EF0>, <hospital_test.models.Address object at 0x0000024438C8D898>, <hospital_test.models.Address object at 0x0000024438C8DFD0>]}
2020-03-12 18:31:59,854 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D518>
2020-03-12 18:31:59,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:31:59,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,856 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,856 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:31:59,857 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:31:59,857 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,858 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:31:59,858 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:31:59,859 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:31:59,859 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:31:59,859 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:31:59,859 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:31:59,860 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,860 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,861 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:31:59,861 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:31:59,861 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D518> checked out from pool
2020-03-12 18:31:59,861 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:31:59,861 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:31:59,861 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:31:59,862 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:31:59,862 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:31:59,862 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D518> being returned to pool
2020-03-12 18:31:59,862 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8D518> rollback-on-return, via agent
2020-03-12 18:31:59,862 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:31:59,862 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BD8E48>, <hospital_test.models.Address object at 0x0000024438BD8EF0>, <hospital_test.models.Address object at 0x0000024438C8D898>, <hospital_test.models.Address object at 0x0000024438C8DFD0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C29BE0>]}
2020-03-12 18:33:09,147 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49128>
2020-03-12 18:33:09,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:33:09,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,149 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,149 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:33:09,149 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:33:09,149 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,151 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,151 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:33:09,152 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:33:09,152 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,152 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:33:09,152 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:33:09,153 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,153 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,153 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,153 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,154 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49128> checked out from pool
2020-03-12 18:33:09,154 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:33:09,154 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,155 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:33:09,156 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:33:09,156 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:33:09,156 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,158 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:33:09,158 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:33:09,158 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:33:09,158 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,159 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:33:09,159 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:33:09,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:33:09,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,160 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:33:09,161 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:33:09,161 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49128> being returned to pool
2020-03-12 18:33:09,161 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49128> rollback-on-return
2020-03-12 18:33:09,163 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36F98>
2020-03-12 18:33:09,163 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:33:09,163 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,165 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,165 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:33:09,165 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:33:09,165 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,167 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,167 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:33:09,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:33:09,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,168 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:33:09,168 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:33:09,169 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,169 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,169 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,169 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,170 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36F98> checked out from pool
2020-03-12 18:33:09,170 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:33:09,170 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:33:09,170 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36F98> being returned to pool
2020-03-12 18:33:09,170 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36F98> rollback-on-return
2020-03-12 18:33:09,173 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36898>
2020-03-12 18:33:09,174 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:33:09,175 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,176 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,177 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:33:09,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:33:09,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,178 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,179 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:33:09,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:33:09,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,180 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:33:09,180 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:33:09,181 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,181 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,181 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,181 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,182 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36898> checked out from pool
2020-03-12 18:33:09,182 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:33:09,182 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:33:09,182 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:33:09,183 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:33:09,183 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:33:09,183 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:33:09,183 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:33:09,183 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:33:09,183 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36898> being returned to pool
2020-03-12 18:33:09,183 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36898> rollback-on-return, via agent
2020-03-12 18:33:09,184 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:33:09,184 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C34390>, <hospital_test.models.Address object at 0x0000024438C34550>, <hospital_test.models.Address object at 0x0000024438C347B8>, <hospital_test.models.Address object at 0x0000024438C340B8>]}
2020-03-12 18:33:09,186 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C340F0>
2020-03-12 18:33:09,187 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:33:09,187 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,189 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,189 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:33:09,189 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:33:09,189 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,190 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:33:09,190 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:33:09,191 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:33:09,191 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:33:09,191 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:33:09,191 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:33:09,192 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,192 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,193 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:33:09,193 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:33:09,193 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C340F0> checked out from pool
2020-03-12 18:33:09,193 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:33:09,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:33:09,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:33:09,194 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:33:09,194 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:33:09,194 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C340F0> being returned to pool
2020-03-12 18:33:09,195 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C340F0> rollback-on-return, via agent
2020-03-12 18:33:09,195 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:33:09,195 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C34390>, <hospital_test.models.Address object at 0x0000024438C34550>, <hospital_test.models.Address object at 0x0000024438C347B8>, <hospital_test.models.Address object at 0x0000024438C340B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C36860>]}
2020-03-12 18:35:05,605 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50>
2020-03-12 18:35:05,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:35:05,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,607 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,607 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:35:05,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:35:05,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,610 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:35:05,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:35:05,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,611 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:35:05,611 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:35:05,612 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,612 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,613 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50> checked out from pool
2020-03-12 18:35:05,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:35:05,614 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,614 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:35:05,614 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:35:05,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:35:05,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,616 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:35:05,616 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:35:05,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:35:05,617 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,618 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:35:05,618 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:35:05,618 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:35:05,618 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,619 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:35:05,619 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:35:05,619 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50> being returned to pool
2020-03-12 18:35:05,620 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50> rollback-on-return
2020-03-12 18:35:05,622 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDC6A0>
2020-03-12 18:35:05,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:35:05,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,623 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,624 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:35:05,624 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:35:05,624 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,626 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:35:05,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:35:05,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:35:05,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:35:05,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,629 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,629 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,629 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDC6A0> checked out from pool
2020-03-12 18:35:05,629 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:35:05,630 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:35:05,630 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDC6A0> being returned to pool
2020-03-12 18:35:05,630 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDC6A0> rollback-on-return
2020-03-12 18:35:05,634 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34320>
2020-03-12 18:35:05,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:35:05,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,636 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,636 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:35:05,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:35:05,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,638 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,638 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:35:05,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:35:05,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,639 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:35:05,639 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:35:05,640 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,640 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,641 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34320> checked out from pool
2020-03-12 18:35:05,641 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:35:05,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:35:05,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:35:05,643 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:35:05,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:35:05,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:35:05,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:35:05,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:35:05,643 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34320> being returned to pool
2020-03-12 18:35:05,643 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34320> rollback-on-return, via agent
2020-03-12 18:35:05,643 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:35:05,643 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF2F60>, <hospital_test.models.Address object at 0x0000024438BF25C0>, <hospital_test.models.Address object at 0x0000024438BF21D0>, <hospital_test.models.Address object at 0x0000024438BF2550>]}
2020-03-12 18:35:05,646 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC278>
2020-03-12 18:35:05,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:35:05,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,648 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,648 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:35:05,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:35:05,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,650 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:35:05,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:35:05,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:35:05,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:35:05,651 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:35:05,651 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:35:05,652 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,652 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,653 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:35:05,653 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:35:05,653 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC278> checked out from pool
2020-03-12 18:35:05,653 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:35:05,654 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:35:05,654 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:35:05,654 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:35:05,654 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:35:05,654 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC278> being returned to pool
2020-03-12 18:35:05,654 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC278> rollback-on-return, via agent
2020-03-12 18:35:05,654 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:35:05,655 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF2F60>, <hospital_test.models.Address object at 0x0000024438BF25C0>, <hospital_test.models.Address object at 0x0000024438BF21D0>, <hospital_test.models.Address object at 0x0000024438BF2550>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C366A0>]}
2020-03-12 18:36:01,137 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358>
2020-03-12 18:36:01,137 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:36:01,137 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,139 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:36:01,139 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:36:01,139 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,141 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,141 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:36:01,142 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:36:01,142 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,142 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:36:01,142 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:36:01,143 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,143 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,144 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,144 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,144 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358> checked out from pool
2020-03-12 18:36:01,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:36:01,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,146 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:36:01,146 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:36:01,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:36:01,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,148 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:36:01,148 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:36:01,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:36:01,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,149 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:36:01,149 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:36:01,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:36:01,151 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,152 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:36:01,152 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:36:01,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358> being returned to pool
2020-03-12 18:36:01,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358> rollback-on-return
2020-03-12 18:36:01,154 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF278>
2020-03-12 18:36:01,154 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:36:01,154 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,156 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,156 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:36:01,157 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:36:01,157 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,158 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,158 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:36:01,159 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:36:01,159 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,159 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:36:01,159 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:36:01,160 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,160 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,160 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,160 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,161 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF278> checked out from pool
2020-03-12 18:36:01,161 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:36:01,161 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:36:01,161 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF278> being returned to pool
2020-03-12 18:36:01,161 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF278> rollback-on-return
2020-03-12 18:36:01,164 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C901D0>
2020-03-12 18:36:01,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:36:01,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,167 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,167 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:36:01,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:36:01,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,169 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,169 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:36:01,169 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:36:01,169 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,170 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:36:01,170 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:36:01,171 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,171 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,171 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,171 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,172 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C901D0> checked out from pool
2020-03-12 18:36:01,172 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:36:01,172 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:36:01,172 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:36:01,173 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:36:01,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:36:01,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:36:01,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:36:01,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:36:01,173 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C901D0> being returned to pool
2020-03-12 18:36:01,173 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C901D0> rollback-on-return, via agent
2020-03-12 18:36:01,174 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:36:01,174 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C909B0>, <hospital_test.models.Address object at 0x0000024438C90FD0>, <hospital_test.models.Address object at 0x0000024438C90860>, <hospital_test.models.Address object at 0x0000024438BEF588>]}
2020-03-12 18:36:01,176 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF860>
2020-03-12 18:36:01,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:36:01,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,178 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,178 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:36:01,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:36:01,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,180 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:36:01,181 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:36:01,181 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:36:01,181 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:36:01,182 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:36:01,182 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:36:01,183 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,183 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,183 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:36:01,183 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:36:01,184 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF860> checked out from pool
2020-03-12 18:36:01,184 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:36:01,184 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:36:01,184 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:36:01,185 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:36:01,185 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:36:01,185 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF860> being returned to pool
2020-03-12 18:36:01,185 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEF860> rollback-on-return, via agent
2020-03-12 18:36:01,185 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:36:01,185 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C909B0>, <hospital_test.models.Address object at 0x0000024438C90FD0>, <hospital_test.models.Address object at 0x0000024438C90860>, <hospital_test.models.Address object at 0x0000024438BEF588>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BECC50>]}
2020-03-12 18:37:13,549 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8>
2020-03-12 18:37:13,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:37:13,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,551 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:37:13,551 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:37:13,551 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,553 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:37:13,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:37:13,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,554 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:37:13,554 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:37:13,555 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,555 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,555 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,555 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,556 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8> checked out from pool
2020-03-12 18:37:13,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:37:13,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,557 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:37:13,557 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:37:13,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:37:13,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,558 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:37:13,558 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:37:13,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:37:13,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,560 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:37:13,560 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:37:13,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:37:13,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:37:13,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:37:13,561 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8> being returned to pool
2020-03-12 18:37:13,561 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD89E8> rollback-on-return
2020-03-12 18:37:13,564 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF70F0>
2020-03-12 18:37:13,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:37:13,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:37:13,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:37:13,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,568 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,568 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:37:13,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:37:13,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,569 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:37:13,569 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:37:13,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,571 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,571 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,571 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF70F0> checked out from pool
2020-03-12 18:37:13,572 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:37:13,572 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:37:13,572 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF70F0> being returned to pool
2020-03-12 18:37:13,572 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF70F0> rollback-on-return
2020-03-12 18:37:13,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6B38>
2020-03-12 18:37:13,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:37:13,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,577 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,577 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:37:13,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:37:13,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:37:13,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:37:13,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:37:13,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:37:13,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,583 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6B38> checked out from pool
2020-03-12 18:37:13,583 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:37:13,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:37:13,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:37:13,585 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:37:13,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:37:13,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:37:13,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:37:13,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:37:13,585 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6B38> being returned to pool
2020-03-12 18:37:13,585 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6B38> rollback-on-return, via agent
2020-03-12 18:37:13,585 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:37:13,585 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF77B8>, <hospital_test.models.Address object at 0x0000024438BF76D8>, <hospital_test.models.Address object at 0x0000024438BF7080>, <hospital_test.models.Address object at 0x0000024438BF7FD0>]}
2020-03-12 18:37:13,588 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6358>
2020-03-12 18:37:13,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:37:13,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,590 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,590 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:37:13,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:37:13,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,592 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:37:13,592 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:37:13,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:37:13,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:37:13,593 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:37:13,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:37:13,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:37:13,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:37:13,595 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6358> checked out from pool
2020-03-12 18:37:13,595 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:37:13,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:37:13,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:37:13,596 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:37:13,596 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:37:13,596 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6358> being returned to pool
2020-03-12 18:37:13,596 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD6358> rollback-on-return, via agent
2020-03-12 18:37:13,596 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:37:13,596 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF77B8>, <hospital_test.models.Address object at 0x0000024438BF76D8>, <hospital_test.models.Address object at 0x0000024438BF7080>, <hospital_test.models.Address object at 0x0000024438BF7FD0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BD6BE0>]}
2020-03-12 18:57:00,085 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C6A0>
2020-03-12 18:57:00,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:00,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,087 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:00,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:00,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:00,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:00,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:00,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:57:00,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,093 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C6A0> checked out from pool
2020-03-12 18:57:00,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:57:00,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,095 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:00,095 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:57:00,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:57:00,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,097 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:00,097 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:57:00,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:57:00,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:00,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:57:00,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:57:00,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:00,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:57:00,100 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C6A0> being returned to pool
2020-03-12 18:57:00,100 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C6A0> rollback-on-return
2020-03-12 18:57:00,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49D30>
2020-03-12 18:57:00,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:00,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,105 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,105 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:00,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:00,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:00,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:00,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,108 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:00,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:57:00,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49D30> checked out from pool
2020-03-12 18:57:00,110 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:57:00,110 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:57:00,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49D30> being returned to pool
2020-03-12 18:57:00,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49D30> rollback-on-return
2020-03-12 18:57:00,113 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C496A0>
2020-03-12 18:57:00,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:00,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,115 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,115 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:00,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:00,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,117 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:00,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:00,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,118 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:00,118 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:57:00,119 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,119 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,119 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,119 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,119 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C496A0> checked out from pool
2020-03-12 18:57:00,119 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:57:00,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:57:00,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:57:00,121 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:57:00,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:57:00,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:57:00,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:57:00,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:57:00,121 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C496A0> being returned to pool
2020-03-12 18:57:00,121 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C496A0> rollback-on-return, via agent
2020-03-12 18:57:00,121 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:57:00,121 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF7CF8>, <hospital_test.models.Address object at 0x0000024438BF7828>, <hospital_test.models.Address object at 0x0000024438BF7B38>, <hospital_test.models.Address object at 0x0000024438BF7A58>]}
2020-03-12 18:57:00,124 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA8908>
2020-03-12 18:57:00,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:00,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,126 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,126 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:00,127 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:00,127 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,128 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:00,128 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:00,129 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:00,129 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:00,129 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:00,129 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:57:00,130 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,131 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,131 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:00,131 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:00,132 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA8908> checked out from pool
2020-03-12 18:57:00,132 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:57:00,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:57:00,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:57:00,133 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:57:00,133 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:57:00,133 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA8908> being returned to pool
2020-03-12 18:57:00,133 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA8908> rollback-on-return, via agent
2020-03-12 18:57:00,133 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:57:00,133 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF7CF8>, <hospital_test.models.Address object at 0x0000024438BF7828>, <hospital_test.models.Address object at 0x0000024438BF7B38>, <hospital_test.models.Address object at 0x0000024438BF7A58>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C49390>]}
2020-03-12 18:57:04,073 django.request:WARNING:log:log_response:MainProcess:6932:Not Found: /customAddr/edit_addr.html
2020-03-12 18:57:31,933 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CB38>
2020-03-12 18:57:31,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:31,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,935 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:31,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:31,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,937 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,937 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:31,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:31,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,938 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:31,938 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:57:31,939 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,939 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,940 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,940 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CB38> checked out from pool
2020-03-12 18:57:31,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 18:57:31,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,942 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:31,942 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:57:31,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 18:57:31,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,944 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:31,944 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 18:57:31,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 18:57:31,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,946 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:31,946 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 18:57:31,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 18:57:31,947 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,947 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 18:57:31,947 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 18:57:31,948 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CB38> being returned to pool
2020-03-12 18:57:31,948 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CB38> rollback-on-return
2020-03-12 18:57:31,950 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7FD0>
2020-03-12 18:57:31,950 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:31,950 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,952 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:31,952 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:31,952 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,954 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,954 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:31,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:31,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,955 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:31,955 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 18:57:31,956 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,956 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,958 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,958 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,958 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7FD0> checked out from pool
2020-03-12 18:57:31,958 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 18:57:31,958 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 18:57:31,958 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7FD0> being returned to pool
2020-03-12 18:57:31,958 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7FD0> rollback-on-return
2020-03-12 18:57:31,961 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA160>
2020-03-12 18:57:31,961 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:31,961 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,964 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,964 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:31,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:31,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,966 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:31,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:31,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:31,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:57:31,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,969 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA160> checked out from pool
2020-03-12 18:57:31,969 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:57:31,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 18:57:31,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 18:57:31,971 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 18:57:31,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 18:57:31,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 18:57:31,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:57:31,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 18:57:31,971 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA160> being returned to pool
2020-03-12 18:57:31,971 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA160> rollback-on-return, via agent
2020-03-12 18:57:31,971 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:57:31,971 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BC7E10>, <hospital_test.models.Address object at 0x0000024438BC7A90>, <hospital_test.models.Address object at 0x0000024438BC7F28>, <hospital_test.models.Address object at 0x0000024438BC7F60>]}
2020-03-12 18:57:31,974 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA278>
2020-03-12 18:57:31,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 18:57:31,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,976 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 18:57:31,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 18:57:31,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,978 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 18:57:31,978 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 18:57:31,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 18:57:31,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 18:57:31,979 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 18:57:31,979 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 18:57:31,980 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,980 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,980 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 18:57:31,981 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 18:57:31,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA278> checked out from pool
2020-03-12 18:57:31,981 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 18:57:31,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 18:57:31,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 18:57:31,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 18:57:31,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 18:57:31,982 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA278> being returned to pool
2020-03-12 18:57:31,982 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BFA278> rollback-on-return, via agent
2020-03-12 18:57:31,982 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 18:57:31,982 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BC7E10>, <hospital_test.models.Address object at 0x0000024438BC7A90>, <hospital_test.models.Address object at 0x0000024438BC7F28>, <hospital_test.models.Address object at 0x0000024438BC7F60>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438DA89B0>]}
2020-03-12 19:55:09,212 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE6A0>
2020-03-12 19:55:09,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:09,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:09,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:09,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:09,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:09,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:09,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 19:55:09,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE6A0> checked out from pool
2020-03-12 19:55:09,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 19:55:09,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,223 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:09,224 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 19:55:09,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 19:55:09,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:09,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 19:55:09,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 19:55:09,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,226 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:09,226 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 19:55:09,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 19:55:09,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:09,227 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 19:55:09,227 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE6A0> being returned to pool
2020-03-12 19:55:09,227 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE6A0> rollback-on-return
2020-03-12 19:55:09,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2CC88>
2020-03-12 19:55:09,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:09,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,233 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:09,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:09,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,235 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,235 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:09,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:09,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:09,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 19:55:09,237 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,237 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,238 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,238 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,238 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2CC88> checked out from pool
2020-03-12 19:55:09,239 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 19:55:09,239 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 19:55:09,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2CC88> being returned to pool
2020-03-12 19:55:09,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2CC88> rollback-on-return
2020-03-12 19:55:09,241 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C5F8>
2020-03-12 19:55:09,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:09,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:09,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:09,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:09,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:09,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,247 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:09,247 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 19:55:09,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,249 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,249 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,249 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C5F8> checked out from pool
2020-03-12 19:55:09,250 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 19:55:09,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 19:55:09,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 19:55:09,251 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 19:55:09,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 19:55:09,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 19:55:09,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 19:55:09,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 19:55:09,251 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C5F8> being returned to pool
2020-03-12 19:55:09,251 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C5F8> rollback-on-return, via agent
2020-03-12 19:55:09,251 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 19:55:09,251 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C36668>, <hospital_test.models.Address object at 0x0000024438C36828>, <hospital_test.models.Address object at 0x0000024438C36630>, <hospital_test.models.Address object at 0x0000024438C36F98>]}
2020-03-12 19:55:09,254 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F98>
2020-03-12 19:55:09,254 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:09,254 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,256 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:09,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:09,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:09,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:09,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:09,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:09,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:09,260 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 19:55:09,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:09,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:09,261 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F98> checked out from pool
2020-03-12 19:55:09,261 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 19:55:09,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 19:55:09,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 19:55:09,262 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 19:55:09,262 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 19:55:09,263 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F98> being returned to pool
2020-03-12 19:55:09,263 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F98> rollback-on-return, via agent
2020-03-12 19:55:09,263 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 19:55:09,263 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C36668>, <hospital_test.models.Address object at 0x0000024438C36828>, <hospital_test.models.Address object at 0x0000024438C36630>, <hospital_test.models.Address object at 0x0000024438C36F98>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C2CB70>]}
2020-03-12 19:55:28,039 root:INFO:views:get_hos_properties:MainProcess:6932:is_hos_addr:1
2020-03-12 19:55:28,047 root:INFO:views:get_hos_properties:MainProcess:6932:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 19:55:29,742 root:INFO:views:get_hos_properties:MainProcess:6932:is_hos_addr:2
2020-03-12 19:55:29,743 root:INFO:views:get_hos_properties:MainProcess:6932:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 19:55:59,957 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087400>
2020-03-12 19:55:59,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:59,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,959 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,960 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:59,960 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:59,960 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,962 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,962 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:59,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:59,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,963 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:59,963 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 19:55:59,964 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:59,964 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:59,965 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:59,965 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:59,965 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087400> checked out from pool
2020-03-12 19:55:59,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 19:55:59,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:59,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 19:55:59,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 19:55:59,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,969 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:59,969 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 19:55:59,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 19:55:59,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,970 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:59,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 19:55:59,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 19:55:59,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,971 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 19:55:59,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 19:55:59,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087400> being returned to pool
2020-03-12 19:55:59,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087400> rollback-on-return
2020-03-12 19:55:59,974 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6978>
2020-03-12 19:55:59,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:59,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,976 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:59,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:59,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,978 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,978 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:59,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:59,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,979 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:59,979 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 19:55:59,980 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:59,980 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:59,980 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:59,981 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:59,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6978> checked out from pool
2020-03-12 19:55:59,981 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 19:55:59,981 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 19:55:59,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6978> being returned to pool
2020-03-12 19:55:59,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6978> rollback-on-return
2020-03-12 19:55:59,984 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B9E8>
2020-03-12 19:55:59,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:59,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:59,988 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:59,988 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,989 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,989 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:55:59,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:55:59,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,990 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:55:59,990 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 19:55:59,991 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:59,991 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:59,992 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:55:59,992 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:55:59,992 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B9E8> checked out from pool
2020-03-12 19:55:59,992 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 19:55:59,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 19:55:59,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 19:55:59,994 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 19:55:59,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 19:55:59,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 19:55:59,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 19:55:59,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 19:55:59,994 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B9E8> being returned to pool
2020-03-12 19:55:59,994 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F9B9E8> rollback-on-return, via agent
2020-03-12 19:55:59,994 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 19:55:59,995 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438FF6978>, <hospital_test.models.Address object at 0x0000024438FF6EF0>, <hospital_test.models.Address object at 0x0000024438FF6CF8>, <hospital_test.models.Address object at 0x0000024438FF6080>]}
2020-03-12 19:55:59,997 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6198>
2020-03-12 19:55:59,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 19:55:59,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:55:59,999 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:55:59,999 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 19:55:59,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 19:55:59,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:56:00,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 19:56:00,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 19:56:00,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 19:56:00,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 19:56:00,003 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 19:56:00,003 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 19:56:00,004 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 19:56:00,004 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:56:00,005 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 19:56:00,005 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 19:56:00,005 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6198> checked out from pool
2020-03-12 19:56:00,005 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 19:56:00,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 19:56:00,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 19:56:00,006 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 19:56:00,006 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 19:56:00,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6198> being returned to pool
2020-03-12 19:56:00,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FF6198> rollback-on-return, via agent
2020-03-12 19:56:00,007 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 19:56:00,007 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438FF6978>, <hospital_test.models.Address object at 0x0000024438FF6EF0>, <hospital_test.models.Address object at 0x0000024438FF6CF8>, <hospital_test.models.Address object at 0x0000024438FF6080>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024439042A90>]}
2020-03-12 19:56:04,679 django.security.csrf:WARNING:log:log_response:MainProcess:6932:Forbidden (CSRF token missing or incorrect.): /customAddr/entry_addr.do
2020-03-12 20:00:32,189 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002443912EBE0>
2020-03-12 20:00:32,189 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:32,189 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,191 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,191 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:32,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:32,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,194 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,194 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:32,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:32,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,195 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:32,195 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:00:32,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,196 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,197 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x000002443912EBE0> checked out from pool
2020-03-12 20:00:32,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:00:32,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,198 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:32,198 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:00:32,198 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:00:32,198 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,199 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:32,199 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:00:32,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:00:32,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,200 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:32,200 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:00:32,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:00:32,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,201 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:32,201 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:00:32,201 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x000002443912EBE0> being returned to pool
2020-03-12 20:00:32,201 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x000002443912EBE0> rollback-on-return
2020-03-12 20:00:32,203 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113BA8>
2020-03-12 20:00:32,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:32,204 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,206 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,206 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:32,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:32,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,209 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,209 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:32,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:32,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,210 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:32,211 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:00:32,211 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,211 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,212 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,212 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,212 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113BA8> checked out from pool
2020-03-12 20:00:32,212 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905203324'and p.treat_card ='0565188';
2020-03-12 20:00:32,213 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["0565188", "张丽仙", "15887841947"]]
2020-03-12 20:00:32,213 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113BA8> being returned to pool
2020-03-12 20:00:32,213 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113BA8> rollback-on-return
2020-03-12 20:00:32,216 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439109278>
2020-03-12 20:00:32,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:32,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,218 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,218 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:32,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:32,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:32,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:32,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,221 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:32,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:00:32,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439109278> checked out from pool
2020-03-12 20:00:32,223 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:00:32,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:00:32,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '0565188'}
2020-03-12 20:00:32,224 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:00:32,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439109278> being returned to pool
2020-03-12 20:00:32,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439109278> rollback-on-return, via agent
2020-03-12 20:00:32,224 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:00:32,224 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': []}
2020-03-12 20:00:32,227 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087CF8>
2020-03-12 20:00:32,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:32,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:32,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:32,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,231 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:32,231 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:32,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:32,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:32,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:00:32,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:32,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:32,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087CF8> checked out from pool
2020-03-12 20:00:32,234 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:00:32,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:00:32,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201905203324'}
2020-03-12 20:00:32,235 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:00:32,235 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087CF8> being returned to pool
2020-03-12 20:00:32,235 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439087CF8> rollback-on-return, via agent
2020-03-12 20:00:32,235 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:00:32,235 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 20:00:40,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113470>
2020-03-12 20:00:40,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:40,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:40,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:40,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:40,796 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:40,796 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,797 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:40,797 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:00:40,798 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,798 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,799 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,799 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,799 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113470> checked out from pool
2020-03-12 20:00:40,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:00:40,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,800 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:40,801 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:00:40,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:00:40,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,802 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:40,802 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:00:40,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:00:40,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:40,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:00:40,804 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:00:40,804 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:00:40,805 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:00:40,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113470> being returned to pool
2020-03-12 20:00:40,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113470> rollback-on-return
2020-03-12 20:00:40,807 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34630>
2020-03-12 20:00:40,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:40,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,810 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:40,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:40,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,812 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,812 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:40,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:40,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,813 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:40,814 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:00:40,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,815 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,816 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,816 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34630> checked out from pool
2020-03-12 20:00:40,816 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:00:40,817 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:00:40,817 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34630> being returned to pool
2020-03-12 20:00:40,817 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34630> rollback-on-return
2020-03-12 20:00:40,819 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000244391139B0>
2020-03-12 20:00:40,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:40,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,821 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,821 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:40,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:40,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,823 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:40,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:40,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,825 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:40,825 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:00:40,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,827 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391139B0> checked out from pool
2020-03-12 20:00:40,827 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:00:40,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:00:40,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:00:40,828 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:00:40,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:00:40,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:00:40,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:00:40,829 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:00:40,829 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391139B0> being returned to pool
2020-03-12 20:00:40,829 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391139B0> rollback-on-return, via agent
2020-03-12 20:00:40,829 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:00:40,829 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C34208>, <hospital_test.models.Address object at 0x0000024438C34BA8>, <hospital_test.models.Address object at 0x0000024438C347B8>, <hospital_test.models.Address object at 0x0000024438C34400>]}
2020-03-12 20:00:40,832 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113160>
2020-03-12 20:00:40,832 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:00:40,832 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,834 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,834 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:00:40,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:00:40,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,836 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:00:40,836 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:00:40,837 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:00:40,837 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:00:40,837 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:00:40,837 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:00:40,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:00:40,839 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:00:40,839 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113160> checked out from pool
2020-03-12 20:00:40,839 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:00:40,840 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:00:40,840 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:00:40,840 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:00:40,840 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:00:40,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113160> being returned to pool
2020-03-12 20:00:40,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439113160> rollback-on-return, via agent
2020-03-12 20:00:40,840 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:00:40,841 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C34208>, <hospital_test.models.Address object at 0x0000024438C34BA8>, <hospital_test.models.Address object at 0x0000024438C347B8>, <hospital_test.models.Address object at 0x0000024438C34400>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002443912E1D0>]}
2020-03-12 20:02:24,461 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29710>
2020-03-12 20:02:24,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:02:24,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,464 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:02:24,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:02:24,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,466 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:02:24,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:02:24,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,468 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:02:24,468 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:02:24,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,470 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29710> checked out from pool
2020-03-12 20:02:24,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:02:24,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,471 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:02:24,471 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:02:24,472 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:02:24,472 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:02:24,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:02:24,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:02:24,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,475 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:02:24,475 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:02:24,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:02:24,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:02:24,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:02:24,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29710> being returned to pool
2020-03-12 20:02:24,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29710> rollback-on-return
2020-03-12 20:02:24,479 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588>
2020-03-12 20:02:24,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:02:24,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:02:24,482 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:02:24,482 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,483 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,483 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:02:24,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:02:24,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,484 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:02:24,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:02:24,485 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,485 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,486 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,486 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588> checked out from pool
2020-03-12 20:02:24,487 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:02:24,487 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:02:24,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588> being returned to pool
2020-03-12 20:02:24,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588> rollback-on-return
2020-03-12 20:02:24,491 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98>
2020-03-12 20:02:24,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:02:24,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:02:24,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:02:24,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:02:24,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:02:24,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:02:24,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:02:24,497 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,497 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,497 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,497 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98> checked out from pool
2020-03-12 20:02:24,498 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:02:24,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:02:24,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:02:24,499 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:02:24,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:02:24,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:02:24,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:02:24,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:02:24,499 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98> being returned to pool
2020-03-12 20:02:24,500 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98> rollback-on-return, via agent
2020-03-12 20:02:24,500 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:02:24,500 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C297B8>, <hospital_test.models.Address object at 0x0000024438C29198>, <hospital_test.models.Address object at 0x0000024438C296D8>, <hospital_test.models.Address object at 0x0000024438C29048>]}
2020-03-12 20:02:24,502 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C290F0>
2020-03-12 20:02:24,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:02:24,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,505 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:02:24,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:02:24,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:02:24,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:02:24,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:02:24,508 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:02:24,508 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:02:24,508 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:02:24,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:02:24,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:02:24,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C290F0> checked out from pool
2020-03-12 20:02:24,510 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:02:24,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:02:24,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:02:24,511 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:02:24,512 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:02:24,512 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C290F0> being returned to pool
2020-03-12 20:02:24,512 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C290F0> rollback-on-return, via agent
2020-03-12 20:02:24,512 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:02:24,512 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C297B8>, <hospital_test.models.Address object at 0x0000024438C29198>, <hospital_test.models.Address object at 0x0000024438C296D8>, <hospital_test.models.Address object at 0x0000024438C29048>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C46AC8>]}
2020-03-12 20:09:11,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7D30>
2020-03-12 20:09:11,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:09:11,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:09:11,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:09:11,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,355 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:09:11,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:09:11,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,356 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:09:11,356 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:09:11,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,358 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,358 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,358 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,359 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7D30> checked out from pool
2020-03-12 20:09:11,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:09:11,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,360 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:09:11,360 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:09:11,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:09:11,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,362 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:09:11,362 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:09:11,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:09:11,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:09:11,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:09:11,364 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:09:11,364 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,364 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:09:11,364 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:09:11,364 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7D30> being returned to pool
2020-03-12 20:09:11,364 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7D30> rollback-on-return
2020-03-12 20:09:11,366 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002443915ABE0>
2020-03-12 20:09:11,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:09:11,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,369 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,369 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:09:11,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:09:11,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,371 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:09:11,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:09:11,372 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:09:11,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:09:11,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,375 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x000002443915ABE0> checked out from pool
2020-03-12 20:09:11,375 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:09:11,376 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:09:11,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x000002443915ABE0> being returned to pool
2020-03-12 20:09:11,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x000002443915ABE0> rollback-on-return
2020-03-12 20:09:11,378 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3CF8>
2020-03-12 20:09:11,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:09:11,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,380 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,380 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:09:11,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:09:11,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,382 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:09:11,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:09:11,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,383 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:09:11,383 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:09:11,384 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,384 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,385 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,385 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,386 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3CF8> checked out from pool
2020-03-12 20:09:11,386 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:09:11,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:09:11,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:09:11,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:09:11,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:09:11,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:09:11,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:09:11,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:09:11,388 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3CF8> being returned to pool
2020-03-12 20:09:11,388 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3CF8> rollback-on-return, via agent
2020-03-12 20:09:11,388 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:09:11,388 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C55390>, <hospital_test.models.Address object at 0x0000024438C55438>, <hospital_test.models.Address object at 0x0000024438C55EF0>, <hospital_test.models.Address object at 0x0000024438C559B0>]}
2020-03-12 20:09:11,390 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F60>
2020-03-12 20:09:11,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:09:11,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,392 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,393 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:09:11,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:09:11,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:09:11,395 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:09:11,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:09:11,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:09:11,396 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:09:11,396 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:09:11,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:09:11,398 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:09:11,398 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F60> checked out from pool
2020-03-12 20:09:11,398 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:09:11,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:09:11,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:09:11,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:09:11,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:09:11,399 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F60> being returned to pool
2020-03-12 20:09:11,399 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F60> rollback-on-return, via agent
2020-03-12 20:09:11,399 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:09:11,399 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C55390>, <hospital_test.models.Address object at 0x0000024438C55438>, <hospital_test.models.Address object at 0x0000024438C55EF0>, <hospital_test.models.Address object at 0x0000024438C559B0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BD3898>]}
2020-03-12 20:11:11,369 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000244390B6048>
2020-03-12 20:11:11,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:11:11,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,371 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:11:11,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:11:11,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,374 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,374 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:11:11,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:11:11,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,375 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:11:11,375 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:11:11,376 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,376 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,377 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,377 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,377 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244390B6048> checked out from pool
2020-03-12 20:11:11,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:11:11,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,379 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:11:11,379 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:11:11,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:11:11,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,381 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:11:11,381 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:11:11,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:11:11,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:11:11,382 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:11:11,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:11:11,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,383 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:11:11,384 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:11:11,384 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244390B6048> being returned to pool
2020-03-12 20:11:11,384 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244390B6048> rollback-on-return
2020-03-12 20:11:11,386 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE860>
2020-03-12 20:11:11,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:11:11,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,388 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,388 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:11:11,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:11:11,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:11:11,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:11:11,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,390 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:11:11,390 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:11:11,391 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,392 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,392 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,392 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE860> checked out from pool
2020-03-12 20:11:11,393 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:11:11,393 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:11:11,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE860> being returned to pool
2020-03-12 20:11:11,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE860> rollback-on-return
2020-03-12 20:11:11,397 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16F98>
2020-03-12 20:11:11,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:11:11,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:11:11,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:11:11,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,400 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,400 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:11:11,400 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:11:11,400 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,401 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:11:11,401 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:11:11,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,403 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16F98> checked out from pool
2020-03-12 20:11:11,403 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:11:11,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:11:11,405 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16F98> being returned to pool
2020-03-12 20:11:11,405 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16F98> rollback-on-return, via agent
2020-03-12 20:11:11,405 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:11:11,405 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF2550>, <hospital_test.models.Address object at 0x0000024438BDE780>, <hospital_test.models.Address object at 0x0000024438BDE128>, <hospital_test.models.Address object at 0x0000024438BDE860>]}
2020-03-12 20:11:11,407 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16BE0>
2020-03-12 20:11:11,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:11:11,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,409 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:11:11,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:11:11,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,410 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:11:11,411 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:11:11,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:11:11,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:11:11,412 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:11:11,412 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:11:11,413 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,413 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,413 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:11:11,413 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:11:11,414 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16BE0> checked out from pool
2020-03-12 20:11:11,414 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:11:11,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:11:11,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:11:11,415 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:11:11,415 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:11:11,415 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16BE0> being returned to pool
2020-03-12 20:11:11,415 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C16BE0> rollback-on-return, via agent
2020-03-12 20:11:11,415 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:11:11,415 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BF2550>, <hospital_test.models.Address object at 0x0000024438BDE780>, <hospital_test.models.Address object at 0x0000024438BDE128>, <hospital_test.models.Address object at 0x0000024438BDE860>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BDCF28>]}
2020-03-12 20:13:34,524 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF75F8>
2020-03-12 20:13:34,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:13:34,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,527 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,527 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:13:34,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:13:34,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,530 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,530 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:13:34,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:13:34,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,531 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:13:34,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:13:34,532 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,533 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,533 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,533 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,534 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF75F8> checked out from pool
2020-03-12 20:13:34,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:13:34,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,536 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:13:34,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:13:34,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:13:34,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,540 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:13:34,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:13:34,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:13:34,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,542 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:13:34,543 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:13:34,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:13:34,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:13:34,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:13:34,544 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF75F8> being returned to pool
2020-03-12 20:13:34,544 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF75F8> rollback-on-return
2020-03-12 20:13:34,547 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36C18>
2020-03-12 20:13:34,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:13:34,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,549 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,549 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:13:34,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:13:34,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,553 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:13:34,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:13:34,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,555 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:13:34,555 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:13:34,556 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,556 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,556 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,557 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,557 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36C18> checked out from pool
2020-03-12 20:13:34,557 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:13:34,558 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:13:34,558 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36C18> being returned to pool
2020-03-12 20:13:34,558 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36C18> rollback-on-return
2020-03-12 20:13:34,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7A58>
2020-03-12 20:13:34,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:13:34,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,565 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:13:34,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:13:34,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,567 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:13:34,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:13:34,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,568 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:13:34,568 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:13:34,569 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,569 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,571 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7A58> checked out from pool
2020-03-12 20:13:34,571 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:13:34,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:13:34,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:13:34,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:13:34,572 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:13:34,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:13:34,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:13:34,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:13:34,573 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7A58> being returned to pool
2020-03-12 20:13:34,573 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BC7A58> rollback-on-return, via agent
2020-03-12 20:13:34,573 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:13:34,573 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C363C8>, <hospital_test.models.Address object at 0x0000024438C367B8>, <hospital_test.models.Address object at 0x0000024438C36518>, <hospital_test.models.Address object at 0x0000024438C36A90>]}
2020-03-12 20:13:34,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36390>
2020-03-12 20:13:34,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:13:34,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,577 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,577 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:13:34,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:13:34,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,579 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:13:34,579 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:13:34,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:13:34,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:13:34,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:13:34,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:13:34,581 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,581 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:13:34,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:13:34,582 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36390> checked out from pool
2020-03-12 20:13:34,582 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:13:34,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:13:34,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:13:34,583 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:13:34,583 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:13:34,584 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36390> being returned to pool
2020-03-12 20:13:34,584 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36390> rollback-on-return, via agent
2020-03-12 20:13:34,584 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:13:34,584 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C363C8>, <hospital_test.models.Address object at 0x0000024438C367B8>, <hospital_test.models.Address object at 0x0000024438C36518>, <hospital_test.models.Address object at 0x0000024438C36A90>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BEC0B8>]}
2020-03-12 20:17:33,069 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F336A0>
2020-03-12 20:17:33,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:17:33,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:17:33,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:17:33,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,073 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,073 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:17:33,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:17:33,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,074 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:17:33,074 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:17:33,075 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,075 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,076 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,076 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,076 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F336A0> checked out from pool
2020-03-12 20:17:33,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:17:33,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:17:33,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:17:33,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:17:33,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:17:33,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:17:33,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:17:33,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,083 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:17:33,083 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:17:33,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:17:33,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,084 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:17:33,084 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:17:33,084 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F336A0> being returned to pool
2020-03-12 20:17:33,084 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F336A0> rollback-on-return
2020-03-12 20:17:33,086 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18E10>
2020-03-12 20:17:33,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:17:33,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:17:33,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:17:33,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:17:33,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:17:33,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,091 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:17:33,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:17:33,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,093 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,093 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18E10> checked out from pool
2020-03-12 20:17:33,093 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:17:33,094 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:17:33,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18E10> being returned to pool
2020-03-12 20:17:33,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18E10> rollback-on-return
2020-03-12 20:17:33,097 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18400>
2020-03-12 20:17:33,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:17:33,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:17:33,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:17:33,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,101 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:17:33,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:17:33,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,103 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:17:33,103 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:17:33,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,104 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,105 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18400> checked out from pool
2020-03-12 20:17:33,105 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:17:33,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:17:33,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:17:33,106 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:17:33,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:17:33,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:17:33,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:17:33,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:17:33,106 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18400> being returned to pool
2020-03-12 20:17:33,106 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C18400> rollback-on-return, via agent
2020-03-12 20:17:33,106 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:17:33,107 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439135A58>, <hospital_test.models.Address object at 0x0000024439135B38>, <hospital_test.models.Address object at 0x00000244391353C8>, <hospital_test.models.Address object at 0x0000024439135668>]}
2020-03-12 20:17:33,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000244391354E0>
2020-03-12 20:17:33,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:17:33,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,112 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,112 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:17:33,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:17:33,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:17:33,113 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:17:33,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:17:33,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:17:33,114 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:17:33,115 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:17:33,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,116 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:17:33,116 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:17:33,116 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391354E0> checked out from pool
2020-03-12 20:17:33,116 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:17:33,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:17:33,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:17:33,117 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:17:33,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:17:33,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391354E0> being returned to pool
2020-03-12 20:17:33,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391354E0> rollback-on-return, via agent
2020-03-12 20:17:33,117 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:17:33,118 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439135A58>, <hospital_test.models.Address object at 0x0000024439135B38>, <hospital_test.models.Address object at 0x00000244391353C8>, <hospital_test.models.Address object at 0x0000024439135668>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024439135550>]}
2020-03-12 20:20:27,490 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439042358>
2020-03-12 20:20:27,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:20:27,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,494 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:20:27,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:20:27,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:20:27,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:20:27,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,498 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:20:27,498 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:20:27,499 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,499 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,500 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,500 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,500 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439042358> checked out from pool
2020-03-12 20:20:27,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:20:27,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,503 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:20:27,503 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:20:27,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:20:27,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,505 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:20:27,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:20:27,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:20:27,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:20:27,506 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:20:27,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:20:27,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:20:27,508 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:20:27,508 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439042358> being returned to pool
2020-03-12 20:20:27,508 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439042358> rollback-on-return
2020-03-12 20:20:27,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50>
2020-03-12 20:20:27,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:20:27,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,512 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,512 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:20:27,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:20:27,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,514 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:20:27,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:20:27,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,516 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:20:27,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:20:27,517 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,517 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,517 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,518 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50> checked out from pool
2020-03-12 20:20:27,518 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:20:27,519 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:20:27,519 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50> being returned to pool
2020-03-12 20:20:27,519 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6C50> rollback-on-return
2020-03-12 20:20:27,522 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE940>
2020-03-12 20:20:27,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:20:27,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,523 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,524 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:20:27,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:20:27,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,525 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,525 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:20:27,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:20:27,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,526 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:20:27,526 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:20:27,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,528 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE940> checked out from pool
2020-03-12 20:20:27,528 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:20:27,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:20:27,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:20:27,529 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:20:27,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:20:27,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:20:27,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:20:27,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:20:27,529 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE940> being returned to pool
2020-03-12 20:20:27,529 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE940> rollback-on-return, via agent
2020-03-12 20:20:27,530 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:20:27,530 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C2CCF8>, <hospital_test.models.Address object at 0x0000024438C2C9E8>, <hospital_test.models.Address object at 0x0000024438C2C080>, <hospital_test.models.Address object at 0x0000024438C2CE48>]}
2020-03-12 20:20:27,532 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC2E8>
2020-03-12 20:20:27,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:20:27,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,535 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,535 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:20:27,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:20:27,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,537 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:20:27,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:20:27,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:20:27,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:20:27,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:20:27,538 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:20:27,539 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,539 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,540 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:20:27,540 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:20:27,540 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC2E8> checked out from pool
2020-03-12 20:20:27,540 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:20:27,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:20:27,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:20:27,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:20:27,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:20:27,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC2E8> being returned to pool
2020-03-12 20:20:27,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FBC2E8> rollback-on-return, via agent
2020-03-12 20:20:27,541 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:20:27,542 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C2CCF8>, <hospital_test.models.Address object at 0x0000024438C2C9E8>, <hospital_test.models.Address object at 0x0000024438C2C080>, <hospital_test.models.Address object at 0x0000024438C2CE48>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438D39DD8>]}
2020-03-12 20:22:17,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE1438>
2020-03-12 20:22:17,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:22:17,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,337 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:22:17,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:22:17,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,340 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:22:17,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:22:17,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:22:17,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:22:17,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE1438> checked out from pool
2020-03-12 20:22:17,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:22:17,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:22:17,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:22:17,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:22:17,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,349 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:22:17,349 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:22:17,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:22:17,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,351 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:22:17,351 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:22:17,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:22:17,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:22:17,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:22:17,352 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE1438> being returned to pool
2020-03-12 20:22:17,352 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE1438> rollback-on-return
2020-03-12 20:22:17,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12240>
2020-03-12 20:22:17,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:22:17,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,356 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,356 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:22:17,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:22:17,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:22:17,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:22:17,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,359 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:22:17,360 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:22:17,360 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,360 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,362 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12240> checked out from pool
2020-03-12 20:22:17,362 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:22:17,363 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:22:17,363 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12240> being returned to pool
2020-03-12 20:22:17,363 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12240> rollback-on-return
2020-03-12 20:22:17,365 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C558D0>
2020-03-12 20:22:17,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:22:17,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,368 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,368 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:22:17,368 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:22:17,368 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,370 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:22:17,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:22:17,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,371 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:22:17,372 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:22:17,373 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,373 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,373 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,374 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C558D0> checked out from pool
2020-03-12 20:22:17,374 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:22:17,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:22:17,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:22:17,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:22:17,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:22:17,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:22:17,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:22:17,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:22:17,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C558D0> being returned to pool
2020-03-12 20:22:17,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C558D0> rollback-on-return, via agent
2020-03-12 20:22:17,376 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:22:17,377 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C554A8>, <hospital_test.models.Address object at 0x0000024438C55AC8>, <hospital_test.models.Address object at 0x0000024438C553C8>, <hospital_test.models.Address object at 0x0000024438C55A58>]}
2020-03-12 20:22:17,379 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12160>
2020-03-12 20:22:17,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:22:17,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,381 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,381 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:22:17,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:22:17,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:22:17,383 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:22:17,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:22:17,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:22:17,384 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:22:17,384 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:22:17,385 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,385 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,385 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:22:17,385 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:22:17,386 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12160> checked out from pool
2020-03-12 20:22:17,386 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:22:17,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:22:17,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:22:17,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:22:17,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:22:17,387 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12160> being returned to pool
2020-03-12 20:22:17,387 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12160> rollback-on-return, via agent
2020-03-12 20:22:17,387 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:22:17,387 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C554A8>, <hospital_test.models.Address object at 0x0000024438C55AC8>, <hospital_test.models.Address object at 0x0000024438C553C8>, <hospital_test.models.Address object at 0x0000024438C55A58>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BDE7B8>]}
2020-03-12 20:27:18,214 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C51D68>
2020-03-12 20:27:18,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:27:18,215 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:27:18,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:27:18,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:27:18,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:27:18,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,222 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:27:18,222 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:27:18,223 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,223 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,224 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,224 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C51D68> checked out from pool
2020-03-12 20:27:18,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:27:18,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,226 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:27:18,226 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:27:18,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:27:18,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:27:18,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:27:18,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:27:18,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:27:18,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:27:18,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:27:18,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:27:18,230 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:27:18,230 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C51D68> being returned to pool
2020-03-12 20:27:18,230 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C51D68> rollback-on-return
2020-03-12 20:27:18,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF28>
2020-03-12 20:27:18,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:27:18,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:27:18,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:27:18,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,240 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,240 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:27:18,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:27:18,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:27:18,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:27:18,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,243 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF28> checked out from pool
2020-03-12 20:27:18,243 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:27:18,244 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:27:18,244 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF28> being returned to pool
2020-03-12 20:27:18,244 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF28> rollback-on-return
2020-03-12 20:27:18,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C88>
2020-03-12 20:27:18,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:27:18,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,248 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,248 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:27:18,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:27:18,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,250 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,250 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:27:18,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:27:18,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,250 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:27:18,250 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:27:18,251 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,251 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,252 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,252 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,252 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C88> checked out from pool
2020-03-12 20:27:18,252 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:27:18,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:27:18,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:27:18,253 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:27:18,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:27:18,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:27:18,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:27:18,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:27:18,254 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C88> being returned to pool
2020-03-12 20:27:18,254 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C88> rollback-on-return, via agent
2020-03-12 20:27:18,254 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:27:18,254 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439153F60>, <hospital_test.models.Address object at 0x00000244391532E8>, <hospital_test.models.Address object at 0x0000024439153E80>, <hospital_test.models.Address object at 0x0000024439153278>]}
2020-03-12 20:27:18,256 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438D39400>
2020-03-12 20:27:18,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:27:18,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:27:18,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:27:18,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,261 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:27:18,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:27:18,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:27:18,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:27:18,262 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:27:18,262 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:27:18,263 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,263 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,263 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:27:18,263 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:27:18,263 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438D39400> checked out from pool
2020-03-12 20:27:18,264 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:27:18,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:27:18,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:27:18,264 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:27:18,265 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:27:18,265 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438D39400> being returned to pool
2020-03-12 20:27:18,265 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438D39400> rollback-on-return, via agent
2020-03-12 20:27:18,265 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:27:18,265 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439153F60>, <hospital_test.models.Address object at 0x00000244391532E8>, <hospital_test.models.Address object at 0x0000024439153E80>, <hospital_test.models.Address object at 0x0000024439153278>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BD3208>]}
2020-03-12 20:28:26,029 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438B31518>
2020-03-12 20:28:26,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:28:26,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,032 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:28:26,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:28:26,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,034 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,035 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:28:26,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:28:26,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,035 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:28:26,035 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:28:26,036 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,036 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,038 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,038 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,038 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438B31518> checked out from pool
2020-03-12 20:28:26,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:28:26,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,040 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:28:26,040 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:28:26,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:28:26,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,043 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:28:26,043 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:28:26,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:28:26,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,045 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:28:26,045 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:28:26,045 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:28:26,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,047 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:28:26,047 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:28:26,047 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438B31518> being returned to pool
2020-03-12 20:28:26,047 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438B31518> rollback-on-return
2020-03-12 20:28:26,049 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD66D8>
2020-03-12 20:28:26,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:28:26,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,051 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,051 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:28:26,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:28:26,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,053 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,053 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:28:26,054 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:28:26,054 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,054 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:28:26,054 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:28:26,055 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,055 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,056 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,056 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,056 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD66D8> checked out from pool
2020-03-12 20:28:26,057 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:28:26,057 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:28:26,057 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD66D8> being returned to pool
2020-03-12 20:28:26,057 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD66D8> rollback-on-return
2020-03-12 20:28:26,060 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD63C8>
2020-03-12 20:28:26,061 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:28:26,061 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,062 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,062 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:28:26,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:28:26,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,064 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:28:26,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:28:26,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:28:26,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:28:26,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD63C8> checked out from pool
2020-03-12 20:28:26,068 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:28:26,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:28:26,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:28:26,069 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:28:26,069 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:28:26,070 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:28:26,070 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:28:26,070 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:28:26,070 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD63C8> being returned to pool
2020-03-12 20:28:26,070 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD63C8> rollback-on-return, via agent
2020-03-12 20:28:26,070 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:28:26,070 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BD6E10>, <hospital_test.models.Address object at 0x0000024438BD6C18>, <hospital_test.models.Address object at 0x0000024438BD68D0>, <hospital_test.models.Address object at 0x0000024438BD60B8>]}
2020-03-12 20:28:26,073 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD69B0>
2020-03-12 20:28:26,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:28:26,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:28:26,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:28:26,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:28:26,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:28:26,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:28:26,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:28:26,079 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:28:26,079 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:28:26,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:28:26,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:28:26,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD69B0> checked out from pool
2020-03-12 20:28:26,081 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:28:26,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:28:26,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:28:26,082 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:28:26,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:28:26,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD69B0> being returned to pool
2020-03-12 20:28:26,083 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD69B0> rollback-on-return, via agent
2020-03-12 20:28:26,083 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:28:26,083 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BD6E10>, <hospital_test.models.Address object at 0x0000024438BD6C18>, <hospital_test.models.Address object at 0x0000024438BD68D0>, <hospital_test.models.Address object at 0x0000024438BD60B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C51BA8>]}
2020-03-12 20:29:47,080 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8DDA0>
2020-03-12 20:29:47,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:29:47,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,082 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:29:47,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:29:47,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,084 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,084 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:29:47,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:29:47,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,085 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:29:47,085 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:29:47,085 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,085 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,086 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,086 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,086 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8DDA0> checked out from pool
2020-03-12 20:29:47,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:29:47,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:29:47,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:29:47,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:29:47,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:29:47,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:29:47,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:29:47,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:29:47,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:29:47,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:29:47,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,092 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:29:47,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:29:47,093 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8DDA0> being returned to pool
2020-03-12 20:29:47,093 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C8DDA0> rollback-on-return
2020-03-12 20:29:47,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358>
2020-03-12 20:29:47,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:29:47,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:29:47,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:29:47,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:29:47,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:29:47,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:29:47,101 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:29:47,102 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,102 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,103 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,103 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,104 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358> checked out from pool
2020-03-12 20:29:47,104 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:29:47,104 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:29:47,104 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358> being returned to pool
2020-03-12 20:29:47,104 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90358> rollback-on-return
2020-03-12 20:29:47,107 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA86D8>
2020-03-12 20:29:47,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:29:47,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,110 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,110 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:29:47,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:29:47,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,112 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,112 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:29:47,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:29:47,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:29:47,113 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:29:47,114 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,114 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,115 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA86D8> checked out from pool
2020-03-12 20:29:47,115 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:29:47,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:29:47,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:29:47,117 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:29:47,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:29:47,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:29:47,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:29:47,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:29:47,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA86D8> being returned to pool
2020-03-12 20:29:47,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438DA86D8> rollback-on-return, via agent
2020-03-12 20:29:47,117 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:29:47,118 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C90A20>, <hospital_test.models.Address object at 0x0000024438C907F0>, <hospital_test.models.Address object at 0x0000024438C905C0>, <hospital_test.models.Address object at 0x0000024438C90B00>]}
2020-03-12 20:29:47,120 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90940>
2020-03-12 20:29:47,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:29:47,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,121 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:29:47,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:29:47,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,124 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:29:47,124 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:29:47,125 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:29:47,125 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:29:47,125 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:29:47,125 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:29:47,126 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,126 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,127 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:29:47,127 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:29:47,127 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90940> checked out from pool
2020-03-12 20:29:47,127 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:29:47,128 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:29:47,128 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:29:47,128 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:29:47,128 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:29:47,128 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90940> being returned to pool
2020-03-12 20:29:47,128 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C90940> rollback-on-return, via agent
2020-03-12 20:29:47,128 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:29:47,129 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C90A20>, <hospital_test.models.Address object at 0x0000024438C907F0>, <hospital_test.models.Address object at 0x0000024438C905C0>, <hospital_test.models.Address object at 0x0000024438C90B00>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C36358>]}
2020-03-12 20:38:08,750 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12048>
2020-03-12 20:38:08,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:38:08,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:38:08,753 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:38:08,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,755 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:38:08,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:38:08,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:38:08,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:38:08,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,758 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,759 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12048> checked out from pool
2020-03-12 20:38:08,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 20:38:08,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,761 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:38:08,761 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:38:08,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 20:38:08,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:38:08,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 20:38:08,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 20:38:08,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:38:08,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 20:38:08,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 20:38:08,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,765 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 20:38:08,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 20:38:08,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12048> being returned to pool
2020-03-12 20:38:08,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C12048> rollback-on-return
2020-03-12 20:38:08,767 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98>
2020-03-12 20:38:08,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:38:08,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,769 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:38:08,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:38:08,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:38:08,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:38:08,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,772 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:38:08,772 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 20:38:08,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98> checked out from pool
2020-03-12 20:38:08,774 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 20:38:08,774 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 20:38:08,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98> being returned to pool
2020-03-12 20:38:08,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98> rollback-on-return
2020-03-12 20:38:08,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49FD0>
2020-03-12 20:38:08,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:38:08,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,780 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:38:08,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:38:08,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,781 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,781 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:38:08,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:38:08,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,783 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:38:08,783 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:38:08,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49FD0> checked out from pool
2020-03-12 20:38:08,785 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:38:08,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 20:38:08,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 20:38:08,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 20:38:08,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 20:38:08,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 20:38:08,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:38:08,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 20:38:08,787 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49FD0> being returned to pool
2020-03-12 20:38:08,787 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C49FD0> rollback-on-return, via agent
2020-03-12 20:38:08,787 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:38:08,787 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439153F98>, <hospital_test.models.Address object at 0x0000024439153BE0>, <hospital_test.models.Address object at 0x0000024438BD6BA8>, <hospital_test.models.Address object at 0x0000024438BD62E8>]}
2020-03-12 20:38:08,790 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439153CF8>
2020-03-12 20:38:08,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 20:38:08,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 20:38:08,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 20:38:08,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 20:38:08,794 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 20:38:08,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 20:38:08,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 20:38:08,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 20:38:08,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 20:38:08,796 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,796 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,797 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 20:38:08,797 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 20:38:08,797 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439153CF8> checked out from pool
2020-03-12 20:38:08,797 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 20:38:08,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 20:38:08,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 20:38:08,798 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 20:38:08,798 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 20:38:08,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439153CF8> being returned to pool
2020-03-12 20:38:08,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439153CF8> rollback-on-return, via agent
2020-03-12 20:38:08,798 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 20:38:08,799 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439153F98>, <hospital_test.models.Address object at 0x0000024439153BE0>, <hospital_test.models.Address object at 0x0000024438BD6BA8>, <hospital_test.models.Address object at 0x0000024438BD62E8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C49080>]}
2020-03-12 21:02:45,755 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33748>
2020-03-12 21:02:45,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:02:45,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:02:45,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:02:45,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,759 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:02:45,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:02:45,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,760 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:02:45,760 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:02:45,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,762 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,762 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,763 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33748> checked out from pool
2020-03-12 21:02:45,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:02:45,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,767 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:02:45,767 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:02:45,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:02:45,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:02:45,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:02:45,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:02:45,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,772 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:02:45,772 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:02:45,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:02:45,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,774 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:02:45,774 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:02:45,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33748> being returned to pool
2020-03-12 21:02:45,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33748> rollback-on-return
2020-03-12 21:02:45,776 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BECCF8>
2020-03-12 21:02:45,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:02:45,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,779 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,779 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:02:45,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:02:45,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:02:45,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:02:45,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,784 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:02:45,784 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:02:45,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,786 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BECCF8> checked out from pool
2020-03-12 21:02:45,786 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:02:45,787 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:02:45,787 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BECCF8> being returned to pool
2020-03-12 21:02:45,787 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BECCF8> rollback-on-return
2020-03-12 21:02:45,790 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8C50>
2020-03-12 21:02:45,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:02:45,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:02:45,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:02:45,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,794 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:02:45,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:02:45,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:02:45,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:02:45,796 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,796 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,797 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,797 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,797 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8C50> checked out from pool
2020-03-12 21:02:45,797 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:02:45,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:02:45,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:02:45,799 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:02:45,800 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:02:45,800 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:02:45,800 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:02:45,800 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:02:45,800 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8C50> being returned to pool
2020-03-12 21:02:45,800 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8C50> rollback-on-return, via agent
2020-03-12 21:02:45,800 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:02:45,800 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BE9FD0>, <hospital_test.models.Address object at 0x0000024438BE9940>, <hospital_test.models.Address object at 0x0000024438BE9198>, <hospital_test.models.Address object at 0x0000024438BE9A58>]}
2020-03-12 21:02:45,802 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F28>
2020-03-12 21:02:45,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:02:45,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,804 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,804 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:02:45,804 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:02:45,804 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:02:45,805 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:02:45,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:02:45,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:02:45,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:02:45,806 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:02:45,806 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,806 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:02:45,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:02:45,807 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F28> checked out from pool
2020-03-12 21:02:45,807 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:02:45,808 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:02:45,808 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:02:45,808 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:02:45,808 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:02:45,808 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F28> being returned to pool
2020-03-12 21:02:45,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8F28> rollback-on-return, via agent
2020-03-12 21:02:45,809 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:02:45,809 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BE9FD0>, <hospital_test.models.Address object at 0x0000024438BE9940>, <hospital_test.models.Address object at 0x0000024438BE9198>, <hospital_test.models.Address object at 0x0000024438BE9A58>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BECDD8>]}
2020-03-12 21:03:38,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33630>
2020-03-12 21:03:38,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:03:38,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,459 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,459 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:03:38,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:03:38,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,460 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,461 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:03:38,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:03:38,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,461 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:03:38,461 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:03:38,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,462 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33630> checked out from pool
2020-03-12 21:03:38,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:03:38,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,464 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:03:38,465 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:03:38,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:03:38,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,467 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:03:38,467 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:03:38,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:03:38,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,471 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:03:38,471 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:03:38,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:03:38,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:03:38,473 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:03:38,473 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33630> being returned to pool
2020-03-12 21:03:38,473 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F33630> rollback-on-return
2020-03-12 21:03:38,475 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135EF0>
2020-03-12 21:03:38,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:03:38,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,478 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,478 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:03:38,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:03:38,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,479 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,480 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:03:38,480 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:03:38,480 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:03:38,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:03:38,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135EF0> checked out from pool
2020-03-12 21:03:38,483 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:03:38,484 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:03:38,484 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135EF0> being returned to pool
2020-03-12 21:03:38,484 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135EF0> rollback-on-return
2020-03-12 21:03:38,488 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36550>
2020-03-12 21:03:38,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:03:38,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:03:38,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:03:38,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,492 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,492 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:03:38,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:03:38,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:03:38,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:03:38,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36550> checked out from pool
2020-03-12 21:03:38,495 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:03:38,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:03:38,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:03:38,497 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:03:38,497 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:03:38,498 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:03:38,498 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:03:38,498 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:03:38,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36550> being returned to pool
2020-03-12 21:03:38,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36550> rollback-on-return, via agent
2020-03-12 21:03:38,498 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:03:38,498 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439135C50>, <hospital_test.models.Address object at 0x0000024439135EF0>, <hospital_test.models.Address object at 0x0000024439135FD0>, <hospital_test.models.Address object at 0x0000024439135EB8>]}
2020-03-12 21:03:38,501 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135B00>
2020-03-12 21:03:38,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:03:38,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,503 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,503 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:03:38,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:03:38,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,504 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:03:38,504 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:03:38,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:03:38,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:03:38,505 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:03:38,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:03:38,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,507 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:03:38,507 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:03:38,507 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135B00> checked out from pool
2020-03-12 21:03:38,507 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:03:38,508 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:03:38,508 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:03:38,508 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:03:38,508 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:03:38,509 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135B00> being returned to pool
2020-03-12 21:03:38,509 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135B00> rollback-on-return, via agent
2020-03-12 21:03:38,509 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:03:38,509 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024439135C50>, <hospital_test.models.Address object at 0x0000024439135EF0>, <hospital_test.models.Address object at 0x0000024439135FD0>, <hospital_test.models.Address object at 0x0000024439135EB8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C36828>]}
2020-03-12 21:49:17,833 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98>
2020-03-12 21:49:17,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:17,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,840 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,840 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:17,841 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:17,841 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,843 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,843 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:17,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:17,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,845 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:17,845 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:49:17,846 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,846 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,847 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,847 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,848 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98> checked out from pool
2020-03-12 21:49:17,848 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:49:17,848 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,851 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:17,852 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:49:17,852 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:49:17,852 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,856 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:17,856 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:49:17,856 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:49:17,856 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,858 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:17,858 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:49:17,858 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:49:17,858 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,861 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:17,861 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:49:17,861 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98> being returned to pool
2020-03-12 21:49:17,862 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCF98> rollback-on-return
2020-03-12 21:49:17,863 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE14A8>
2020-03-12 21:49:17,865 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:17,865 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,867 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,868 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:17,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:17,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,869 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,870 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:17,870 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:17,870 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,871 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:17,871 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:49:17,872 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,872 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,872 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,872 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,873 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE14A8> checked out from pool
2020-03-12 21:49:17,873 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:49:17,874 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:49:17,874 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE14A8> being returned to pool
2020-03-12 21:49:17,875 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE14A8> rollback-on-return
2020-03-12 21:49:17,878 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CF98>
2020-03-12 21:49:17,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:17,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,880 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,881 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:17,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:17,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,883 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,883 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:17,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:17,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,884 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:17,884 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:49:17,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,886 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,886 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,886 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CF98> checked out from pool
2020-03-12 21:49:17,886 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:49:17,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:49:17,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:49:17,890 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:49:17,890 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:49:17,890 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:49:17,890 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:49:17,890 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:49:17,890 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CF98> being returned to pool
2020-03-12 21:49:17,890 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438F1CF98> rollback-on-return, via agent
2020-03-12 21:49:17,890 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:49:17,891 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BE1438>, <hospital_test.models.Address object at 0x0000024438BE1320>, <hospital_test.models.Address object at 0x0000024438BE1470>, <hospital_test.models.Address object at 0x0000024438C342E8>]}
2020-03-12 21:49:17,893 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C343C8>
2020-03-12 21:49:17,894 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:17,894 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,896 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,896 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:17,896 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:17,896 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,898 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:17,898 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:17,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:17,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:17,899 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:17,899 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:49:17,900 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,900 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,901 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:17,901 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:17,901 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C343C8> checked out from pool
2020-03-12 21:49:17,901 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:49:17,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:49:17,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:49:17,902 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:49:17,902 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:49:17,903 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C343C8> being returned to pool
2020-03-12 21:49:17,903 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C343C8> rollback-on-return, via agent
2020-03-12 21:49:17,903 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:49:17,903 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BE1438>, <hospital_test.models.Address object at 0x0000024438BE1320>, <hospital_test.models.Address object at 0x0000024438BE1470>, <hospital_test.models.Address object at 0x0000024438C342E8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C8DA90>]}
2020-03-12 21:49:34,966 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135E80>
2020-03-12 21:49:34,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:34,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,968 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:34,968 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:34,968 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:34,968 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,970 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:34,970 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:34,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:34,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,970 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:34,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:49:34,971 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:34,971 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:34,972 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:34,972 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:34,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135E80> checked out from pool
2020-03-12 21:49:34,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:49:34,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,974 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:34,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:49:34,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:49:34,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,977 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:34,977 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:49:34,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:49:34,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:34,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:49:34,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:49:34,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:49:34,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:49:34,982 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135E80> being returned to pool
2020-03-12 21:49:34,982 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024439135E80> rollback-on-return
2020-03-12 21:49:34,985 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8EF0>
2020-03-12 21:49:34,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:34,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:34,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:34,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:34,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,988 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:34,988 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:34,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:34,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,989 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:34,989 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:49:34,990 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:34,990 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:34,991 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:34,991 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:34,992 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8EF0> checked out from pool
2020-03-12 21:49:34,992 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:49:34,993 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:49:34,993 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8EF0> being returned to pool
2020-03-12 21:49:34,993 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8EF0> rollback-on-return
2020-03-12 21:49:34,997 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98>
2020-03-12 21:49:34,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:34,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:34,999 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:34,999 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:34,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:34,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:35,000 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:35,000 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:35,009 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:35,009 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:35,009 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:35,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:49:35,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:35,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:35,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:35,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:35,012 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98> checked out from pool
2020-03-12 21:49:35,012 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:49:35,013 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:49:35,013 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:49:35,014 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:49:35,014 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:49:35,014 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:49:35,014 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:49:35,014 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:49:35,015 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98> being returned to pool
2020-03-12 21:49:35,015 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6F98> rollback-on-return, via agent
2020-03-12 21:49:35,015 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:49:35,015 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BD8898>, <hospital_test.models.Address object at 0x0000024438BD8EF0>, <hospital_test.models.Address object at 0x0000024438BD8DD8>, <hospital_test.models.Address object at 0x0000024438BD8FD0>]}
2020-03-12 21:49:35,017 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8BE0>
2020-03-12 21:49:35,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:49:35,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:35,019 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:35,019 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:49:35,019 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:49:35,019 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:35,021 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:49:35,021 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:49:35,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:49:35,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:49:35,022 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:49:35,022 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:49:35,023 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:35,023 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:35,023 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:49:35,023 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:49:35,024 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8BE0> checked out from pool
2020-03-12 21:49:35,024 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:49:35,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:49:35,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:49:35,025 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:49:35,025 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:49:35,025 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8BE0> being returned to pool
2020-03-12 21:49:35,025 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8BE0> rollback-on-return, via agent
2020-03-12 21:49:35,025 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:49:35,025 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BD8898>, <hospital_test.models.Address object at 0x0000024438BD8EF0>, <hospital_test.models.Address object at 0x0000024438BD8DD8>, <hospital_test.models.Address object at 0x0000024438BD8FD0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C90E10>]}
2020-03-12 21:52:34,978 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE0B8>
2020-03-12 21:52:34,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:52:34,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:34,981 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:52:34,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:52:34,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:34,983 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:52:34,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:52:34,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,984 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:52:34,984 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:52:34,984 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:34,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:34,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:34,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:34,986 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE0B8> checked out from pool
2020-03-12 21:52:34,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:52:34,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:52:34,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:52:34,988 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:52:34,988 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,990 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:52:34,990 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:52:34,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:52:34,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,991 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:52:34,991 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:52:34,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:52:34,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,993 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:52:34,993 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:52:34,993 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE0B8> being returned to pool
2020-03-12 21:52:34,993 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE0B8> rollback-on-return
2020-03-12 21:52:34,995 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8A90>
2020-03-12 21:52:34,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:52:34,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:34,997 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:34,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:52:34,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:52:34,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,000 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:35,000 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:52:35,000 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:52:35,000 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,001 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:52:35,001 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:52:35,002 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:35,002 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:35,002 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:35,002 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:35,003 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8A90> checked out from pool
2020-03-12 21:52:35,003 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:52:35,004 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:52:35,004 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8A90> being returned to pool
2020-03-12 21:52:35,004 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8A90> rollback-on-return
2020-03-12 21:52:35,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3048>
2020-03-12 21:52:35,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:52:35,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,009 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:35,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:52:35,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:52:35,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,011 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:35,011 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:52:35,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:52:35,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,012 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:52:35,012 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:52:35,013 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:35,013 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:35,014 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:35,014 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:35,015 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3048> checked out from pool
2020-03-12 21:52:35,015 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:52:35,015 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:52:35,015 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:52:35,016 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:52:35,016 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:52:35,017 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:52:35,017 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:52:35,017 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:52:35,017 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3048> being returned to pool
2020-03-12 21:52:35,017 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3048> rollback-on-return, via agent
2020-03-12 21:52:35,017 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:52:35,017 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438DA8A58>, <hospital_test.models.Address object at 0x0000024438DA8A90>, <hospital_test.models.Address object at 0x0000024438DA8898>, <hospital_test.models.Address object at 0x0000024438DA8550>]}
2020-03-12 21:52:35,020 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588>
2020-03-12 21:52:35,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:52:35,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,022 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:35,022 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:52:35,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:52:35,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,023 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:52:35,024 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:52:35,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:52:35,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:52:35,025 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:52:35,025 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:52:35,025 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:35,025 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:35,026 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:52:35,026 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:52:35,026 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588> checked out from pool
2020-03-12 21:52:35,026 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:52:35,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:52:35,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:52:35,027 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:52:35,027 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:52:35,027 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588> being returned to pool
2020-03-12 21:52:35,028 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438FCA588> rollback-on-return, via agent
2020-03-12 21:52:35,028 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:52:35,028 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438DA8A58>, <hospital_test.models.Address object at 0x0000024438DA8A90>, <hospital_test.models.Address object at 0x0000024438DA8898>, <hospital_test.models.Address object at 0x0000024438DA8550>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BD3780>]}
2020-03-12 21:54:46,679 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE8D0>
2020-03-12 21:54:46,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:54:46,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,681 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,681 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:54:46,682 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:54:46,682 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,683 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,683 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:54:46,684 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:54:46,684 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,684 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:54:46,684 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:54:46,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,686 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,687 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,687 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,688 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE8D0> checked out from pool
2020-03-12 21:54:46,689 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:54:46,689 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,690 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:54:46,690 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:54:46,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:54:46,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,692 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:54:46,692 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:54:46,692 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:54:46,692 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,693 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:54:46,694 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:54:46,694 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:54:46,694 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,695 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:54:46,695 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:54:46,695 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE8D0> being returned to pool
2020-03-12 21:54:46,695 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE8D0> rollback-on-return
2020-03-12 21:54:46,697 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34828>
2020-03-12 21:54:46,698 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:54:46,698 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,699 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,700 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:54:46,700 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:54:46,700 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,702 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,702 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:54:46,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:54:46,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,703 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:54:46,703 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:54:46,704 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,705 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,706 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34828> checked out from pool
2020-03-12 21:54:46,706 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:54:46,706 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:54:46,707 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34828> being returned to pool
2020-03-12 21:54:46,707 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34828> rollback-on-return
2020-03-12 21:54:46,709 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C588>
2020-03-12 21:54:46,709 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:54:46,709 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,711 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,711 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:54:46,711 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:54:46,711 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,712 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,713 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:54:46,713 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:54:46,713 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,714 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:54:46,714 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:54:46,715 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,715 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,715 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,715 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,716 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C588> checked out from pool
2020-03-12 21:54:46,716 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:54:46,717 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:54:46,717 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:54:46,718 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:54:46,718 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:54:46,718 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:54:46,718 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:54:46,718 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:54:46,719 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C588> being returned to pool
2020-03-12 21:54:46,719 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C2C588> rollback-on-return, via agent
2020-03-12 21:54:46,719 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:54:46,719 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C2C048>, <hospital_test.models.Address object at 0x0000024438C2C898>, <hospital_test.models.Address object at 0x0000024438C2CA90>, <hospital_test.models.Address object at 0x0000024438C2C8D0>]}
2020-03-12 21:54:46,722 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34710>
2020-03-12 21:54:46,723 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:54:46,723 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,724 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,724 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:54:46,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:54:46,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,726 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:54:46,726 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:54:46,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:54:46,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:54:46,727 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:54:46,727 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:54:46,728 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,728 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,728 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:54:46,729 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:54:46,729 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34710> checked out from pool
2020-03-12 21:54:46,729 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:54:46,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:54:46,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:54:46,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:54:46,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:54:46,730 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34710> being returned to pool
2020-03-12 21:54:46,730 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C34710> rollback-on-return, via agent
2020-03-12 21:54:46,730 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:54:46,730 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C2C048>, <hospital_test.models.Address object at 0x0000024438C2C898>, <hospital_test.models.Address object at 0x0000024438C2CA90>, <hospital_test.models.Address object at 0x0000024438C2C8D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438DA86D8>]}
2020-03-12 21:56:35,200 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7CF8>
2020-03-12 21:56:35,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:56:35,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,202 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,202 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:56:35,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:56:35,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,205 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,205 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:56:35,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:56:35,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,206 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:56:35,207 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:56:35,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,209 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,209 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7CF8> checked out from pool
2020-03-12 21:56:35,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 21:56:35,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,210 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:56:35,210 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:56:35,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 21:56:35,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:56:35,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 21:56:35,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 21:56:35,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:56:35,214 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 21:56:35,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 21:56:35,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 21:56:35,215 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 21:56:35,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7CF8> being returned to pool
2020-03-12 21:56:35,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF7CF8> rollback-on-return
2020-03-12 21:56:35,217 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF24E0>
2020-03-12 21:56:35,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:56:35,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:56:35,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:56:35,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,221 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,222 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:56:35,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:56:35,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,223 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:56:35,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 21:56:35,224 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,224 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,224 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,224 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF24E0> checked out from pool
2020-03-12 21:56:35,225 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 21:56:35,225 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 21:56:35,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF24E0> being returned to pool
2020-03-12 21:56:35,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF24E0> rollback-on-return
2020-03-12 21:56:35,228 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000244391532B0>
2020-03-12 21:56:35,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:56:35,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,230 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:56:35,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:56:35,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:56:35,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:56:35,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:56:35,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:56:35,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,234 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,234 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391532B0> checked out from pool
2020-03-12 21:56:35,234 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:56:35,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 21:56:35,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 21:56:35,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 21:56:35,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 21:56:35,237 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 21:56:35,237 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:56:35,237 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 21:56:35,237 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391532B0> being returned to pool
2020-03-12 21:56:35,237 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244391532B0> rollback-on-return, via agent
2020-03-12 21:56:35,237 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:56:35,237 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C364E0>, <hospital_test.models.Address object at 0x0000024438C36438>, <hospital_test.models.Address object at 0x0000024438C368D0>, <hospital_test.models.Address object at 0x0000024438C36908>]}
2020-03-12 21:56:35,240 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36E10>
2020-03-12 21:56:35,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 21:56:35,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 21:56:35,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 21:56:35,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 21:56:35,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 21:56:35,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 21:56:35,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 21:56:35,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 21:56:35,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 21:56:35,244 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,244 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 21:56:35,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 21:56:35,245 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36E10> checked out from pool
2020-03-12 21:56:35,245 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 21:56:35,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 21:56:35,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 21:56:35,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 21:56:35,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 21:56:35,246 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36E10> being returned to pool
2020-03-12 21:56:35,246 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C36E10> rollback-on-return, via agent
2020-03-12 21:56:35,246 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 21:56:35,246 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C364E0>, <hospital_test.models.Address object at 0x0000024438C36438>, <hospital_test.models.Address object at 0x0000024438C368D0>, <hospital_test.models.Address object at 0x0000024438C36908>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BE6E48>]}
2020-03-12 22:27:50,254 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8FD0>
2020-03-12 22:27:50,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 22:27:50,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 22:27:50,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 22:27:50,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,260 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 22:27:50,261 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 22:27:50,261 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,262 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 22:27:50,262 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 22:27:50,263 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,263 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,264 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,264 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,264 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8FD0> checked out from pool
2020-03-12 22:27:50,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 22:27:50,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 22:27:50,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 22:27:50,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 22:27:50,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,268 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 22:27:50,268 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 22:27:50,269 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 22:27:50,269 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,270 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 22:27:50,270 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 22:27:50,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 22:27:50,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,271 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 22:27:50,271 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 22:27:50,271 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8FD0> being returned to pool
2020-03-12 22:27:50,272 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD8FD0> rollback-on-return
2020-03-12 22:27:50,275 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6AC8>
2020-03-12 22:27:50,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 22:27:50,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,277 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,277 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 22:27:50,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 22:27:50,278 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,279 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,279 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 22:27:50,280 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 22:27:50,280 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,280 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 22:27:50,280 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 22:27:50,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,282 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,282 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,282 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6AC8> checked out from pool
2020-03-12 22:27:50,283 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 22:27:50,283 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 22:27:50,283 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6AC8> being returned to pool
2020-03-12 22:27:50,283 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BE6AC8> rollback-on-return
2020-03-12 22:27:50,286 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29B70>
2020-03-12 22:27:50,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 22:27:50,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,288 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,288 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 22:27:50,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 22:27:50,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,291 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 22:27:50,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 22:27:50,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,292 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 22:27:50,292 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 22:27:50,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,294 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,294 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,294 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29B70> checked out from pool
2020-03-12 22:27:50,294 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 22:27:50,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 22:27:50,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 22:27:50,296 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 22:27:50,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 22:27:50,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 22:27:50,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 22:27:50,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 22:27:50,296 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29B70> being returned to pool
2020-03-12 22:27:50,296 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C29B70> rollback-on-return, via agent
2020-03-12 22:27:50,296 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 22:27:50,297 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BECA58>, <hospital_test.models.Address object at 0x0000024438BEC0B8>, <hospital_test.models.Address object at 0x0000024438BECF28>, <hospital_test.models.Address object at 0x0000024438BECE48>]}
2020-03-12 22:27:50,299 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C294E0>
2020-03-12 22:27:50,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 22:27:50,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,301 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,301 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 22:27:50,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 22:27:50,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 22:27:50,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 22:27:50,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 22:27:50,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 22:27:50,304 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 22:27:50,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 22:27:50,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 22:27:50,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 22:27:50,306 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C294E0> checked out from pool
2020-03-12 22:27:50,306 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 22:27:50,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 22:27:50,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 22:27:50,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 22:27:50,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 22:27:50,307 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C294E0> being returned to pool
2020-03-12 22:27:50,307 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438C294E0> rollback-on-return, via agent
2020-03-12 22:27:50,307 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 22:27:50,307 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BECA58>, <hospital_test.models.Address object at 0x0000024438BEC0B8>, <hospital_test.models.Address object at 0x0000024438BECF28>, <hospital_test.models.Address object at 0x0000024438BECE48>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438C296A0>]}
2020-03-12 22:28:16,986 root:INFO:views:get_hos_properties:MainProcess:6932:is_hos_addr:1
2020-03-12 22:28:16,998 root:INFO:views:get_hos_properties:MainProcess:6932:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 22:28:18,574 root:INFO:views:get_hos_properties:MainProcess:6932:is_hos_addr:2
2020-03-12 22:28:18,575 root:INFO:views:get_hos_properties:MainProcess:6932:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 22:28:21,059 root:INFO:views:get_hos_properties:MainProcess:6932:is_hos_addr:1
2020-03-12 22:28:21,060 root:INFO:views:get_hos_properties:MainProcess:6932:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 22:28:24,231 root:INFO:views:get_hos_properties:MainProcess:6932:is_hos_addr:2
2020-03-12 22:28:24,231 root:INFO:views:get_hos_properties:MainProcess:6932:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-12 23:50:02,085 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000244371BF978>
2020-03-12 23:50:02,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:50:02,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,103 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,103 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:50:02,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:50:02,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,105 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:50:02,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:50:02,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:50:02,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 23:50:02,108 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,108 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,108 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,108 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,108 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244371BF978> checked out from pool
2020-03-12 23:50:02,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 23:50:02,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,111 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:50:02,111 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 23:50:02,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 23:50:02,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,112 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:50:02,112 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 23:50:02,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 23:50:02,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,114 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:50:02,114 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 23:50:02,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 23:50:02,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,115 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:50:02,115 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 23:50:02,115 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244371BF978> being returned to pool
2020-03-12 23:50:02,115 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x00000244371BF978> rollback-on-return
2020-03-12 23:50:02,118 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCBE0>
2020-03-12 23:50:02,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:50:02,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,120 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,120 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:50:02,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:50:02,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,123 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,123 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:50:02,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:50:02,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,124 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:50:02,124 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 23:50:02,125 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,125 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,125 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,126 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,126 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCBE0> checked out from pool
2020-03-12 23:50:02,126 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 23:50:02,127 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 23:50:02,127 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCBE0> being returned to pool
2020-03-12 23:50:02,127 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDCBE0> rollback-on-return
2020-03-12 23:50:02,130 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDEF98>
2020-03-12 23:50:02,130 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:50:02,130 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,132 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,132 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:50:02,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:50:02,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,134 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,134 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:50:02,134 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:50:02,134 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,135 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:50:02,135 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 23:50:02,135 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,135 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,136 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDEF98> checked out from pool
2020-03-12 23:50:02,136 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 23:50:02,137 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 23:50:02,137 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 23:50:02,138 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 23:50:02,138 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 23:50:02,138 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 23:50:02,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 23:50:02,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 23:50:02,139 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDEF98> being returned to pool
2020-03-12 23:50:02,139 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDEF98> rollback-on-return, via agent
2020-03-12 23:50:02,139 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 23:50:02,139 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C558D0>, <hospital_test.models.Address object at 0x0000024438C55CC0>, <hospital_test.models.Address object at 0x0000024438C55550>, <hospital_test.models.Address object at 0x0000024438C550F0>]}
2020-03-12 23:50:02,143 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE160>
2020-03-12 23:50:02,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:50:02,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,145 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,146 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:50:02,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:50:02,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,147 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:50:02,148 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:50:02,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:50:02,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:50:02,149 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:50:02,149 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 23:50:02,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,150 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:50:02,150 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:50:02,150 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE160> checked out from pool
2020-03-12 23:50:02,150 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 23:50:02,151 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 23:50:02,151 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 23:50:02,152 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 23:50:02,152 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 23:50:02,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE160> being returned to pool
2020-03-12 23:50:02,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BDE160> rollback-on-return, via agent
2020-03-12 23:50:02,152 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 23:50:02,153 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438C558D0>, <hospital_test.models.Address object at 0x0000024438C55CC0>, <hospital_test.models.Address object at 0x0000024438C55550>, <hospital_test.models.Address object at 0x0000024438C550F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438F33470>]}
2020-03-12 23:54:26,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEC898>
2020-03-12 23:54:26,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:54:26,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,485 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,485 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:54:26,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:54:26,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,487 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:54:26,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:54:26,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:54:26,489 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 23:54:26,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,491 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEC898> checked out from pool
2020-03-12 23:54:26,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `pres_consignee`
2020-03-12 23:54:26,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,492 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:54:26,492 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 23:54:26,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid _prescriptions`
2020-03-12 23:54:26,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,494 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:54:26,494 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 23:54:26,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `mid_prescription_details`
2020-03-12 23:54:26,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:54:26,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 23:54:26,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:DESCRIBE `custom_addr`
2020-03-12 23:54:26,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:54:26,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 23:54:26,496 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEC898> being returned to pool
2020-03-12 23:54:26,496 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BEC898> rollback-on-return
2020-03-12 23:54:26,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3320>
2020-03-12 23:54:26,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:54:26,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,500 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,500 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:54:26,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:54:26,501 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,502 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,502 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:54:26,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:54:26,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,503 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:54:26,504 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('addr_test',)
2020-03-12 23:54:26,504 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,504 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,505 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,505 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,505 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3320> checked out from pool
2020-03-12 23:54:26,505 root:INFO:models:mysql_connect:MainProcess:6932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 23:54:26,506 root:INFO:models:mysql_connect:MainProcess:6932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 23:54:26,506 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3320> being returned to pool
2020-03-12 23:54:26,506 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3320> rollback-on-return
2020-03-12 23:54:26,509 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C18>
2020-03-12 23:54:26,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:54:26,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,511 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,511 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:54:26,511 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:54:26,511 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,512 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,512 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:54:26,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:54:26,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,513 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:54:26,513 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 23:54:26,514 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,514 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,514 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,514 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,515 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C18> checked out from pool
2020-03-12 23:54:26,515 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 23:54:26,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 23:54:26,516 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'custom_num_1': '5550008088'}
2020-03-12 23:54:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 23:54:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 23:54:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 23:54:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 23:54:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 23:54:26,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C18> being returned to pool
2020-03-12 23:54:26,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BD3C18> rollback-on-return, via agent
2020-03-12 23:54:26,517 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 23:54:26,517 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BDEF60>, <hospital_test.models.Address object at 0x0000024438BDE128>, <hospital_test.models.Address object at 0x0000024438BDEA58>, <hospital_test.models.Address object at 0x0000024438BDE240>]}
2020-03-12 23:54:26,519 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:6932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF21D0>
2020-03-12 23:54:26,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:54:26,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,521 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:54:26,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:54:26,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,523 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('Variable_name', 'Value')
2020-03-12 23:54:26,523 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('lower_case_table_names', '1')
2020-03-12 23:54:26,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT DATABASE()
2020-03-12 23:54:26,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{}
2020-03-12 23:54:26,524 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('DATABASE()',)
2020-03-12 23:54:26,524 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('zhyf_host',)
2020-03-12 23:54:26,525 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,525 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:54:26,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:6932:{}
2020-03-12 23:54:26,526 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF21D0> checked out from pool
2020-03-12 23:54:26,526 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:6932:BEGIN (implicit)
2020-03-12 23:54:26,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 23:54:26,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:6932:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 23:54:26,527 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:6932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 23:54:26,527 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:6932:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 23:54:26,527 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF21D0> being returned to pool
2020-03-12 23:54:26,527 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:6932:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024438BF21D0> rollback-on-return, via agent
2020-03-12 23:54:26,527 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:6932:ROLLBACK
2020-03-12 23:54:26,528 root:INFO:views:entry_addr:MainProcess:6932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024438BDEF60>, <hospital_test.models.Address object at 0x0000024438BDE128>, <hospital_test.models.Address object at 0x0000024438BDEA58>, <hospital_test.models.Address object at 0x0000024438BDE240>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024438BD36A0>]}
2020-03-12 23:55:24,522 asyncio:DEBUG:selector_events:__init__:MainProcess:6932:Using selector: SelectSelector
2020-03-12 23:55:36,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2080>
2020-03-12 23:55:36,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:55:36,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,303 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,303 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:55:36,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:55:36,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,306 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,306 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-12 23:55:36,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-12 23:55:36,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-12 23:55:36,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-12 23:55:36,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,310 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2080> checked out from pool
2020-03-12 23:55:36,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `pres_consignee`
2020-03-12 23:55:36,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:55:36,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 23:55:36,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid _prescriptions`
2020-03-12 23:55:36,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,313 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:55:36,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 23:55:36,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid_prescription_details`
2020-03-12 23:55:36,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,315 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:55:36,315 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 23:55:36,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `custom_addr`
2020-03-12 23:55:36,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,317 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 23:55:36,317 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 23:55:36,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2080> being returned to pool
2020-03-12 23:55:36,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2080> rollback-on-return
2020-03-12 23:55:36,320 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2DA0>
2020-03-12 23:55:36,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:55:36,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:55:36,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:55:36,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-12 23:55:36,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-12 23:55:36,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,326 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-12 23:55:36,326 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_test',)
2020-03-12 23:55:36,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2DA0> checked out from pool
2020-03-12 23:55:36,327 root:INFO:models:mysql_connect:MainProcess:4860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 23:55:36,328 root:INFO:models:mysql_connect:MainProcess:4860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 23:55:36,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2DA0> being returned to pool
2020-03-12 23:55:36,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2DA0> rollback-on-return
2020-03-12 23:55:36,334 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0C7B8>
2020-03-12 23:55:36,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:55:36,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,337 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:55:36,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:55:36,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,339 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,339 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-12 23:55:36,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-12 23:55:36,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-12 23:55:36,340 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-12 23:55:36,340 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,340 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,341 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,341 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,341 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0C7B8> checked out from pool
2020-03-12 23:55:36,341 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-12 23:55:36,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 23:55:36,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'custom_num_1': '5550008088'}
2020-03-12 23:55:36,343 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 23:55:36,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 23:55:36,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 23:55:36,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 23:55:36,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 23:55:36,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0C7B8> being returned to pool
2020-03-12 23:55:36,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0C7B8> rollback-on-return, via agent
2020-03-12 23:55:36,343 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-12 23:55:36,344 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000025561A3A550>, <hospital_test.models.Address object at 0x0000025561A3A5F8>, <hospital_test.models.Address object at 0x0000025561A3A668>, <hospital_test.models.Address object at 0x0000025561A3A6D8>]}
2020-03-12 23:55:36,347 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A3ABA8>
2020-03-12 23:55:36,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 23:55:36,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,348 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 23:55:36,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 23:55:36,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,350 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-12 23:55:36,350 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-12 23:55:36,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-12 23:55:36,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-12 23:55:36,351 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-12 23:55:36,351 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-12 23:55:36,351 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,351 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,352 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 23:55:36,352 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-12 23:55:36,352 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A3ABA8> checked out from pool
2020-03-12 23:55:36,353 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-12 23:55:36,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 23:55:36,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 23:55:36,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 23:55:36,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 23:55:36,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A3ABA8> being returned to pool
2020-03-12 23:55:36,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A3ABA8> rollback-on-return, via agent
2020-03-12 23:55:36,354 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-12 23:55:36,354 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000025561A3A550>, <hospital_test.models.Address object at 0x0000025561A3A5F8>, <hospital_test.models.Address object at 0x0000025561A3A668>, <hospital_test.models.Address object at 0x0000025561A3A6D8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000025561A4E4A8>]}
2020-03-13 00:01:18,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002556178A278>
2020-03-13 00:01:18,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:01:18,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,777 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,777 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:01:18,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:01:18,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,780 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:01:18,781 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:01:18,781 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:01:18,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:01:18,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556178A278> checked out from pool
2020-03-13 00:01:18,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `pres_consignee`
2020-03-13 00:01:18,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,788 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:01:18,788 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:01:18,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid _prescriptions`
2020-03-13 00:01:18,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,790 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:01:18,791 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:01:18,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid_prescription_details`
2020-03-13 00:01:18,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,793 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:01:18,793 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-13 00:01:18,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `custom_addr`
2020-03-13 00:01:18,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:01:18,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-13 00:01:18,795 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556178A278> being returned to pool
2020-03-13 00:01:18,795 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556178A278> rollback-on-return
2020-03-13 00:01:18,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692E10>
2020-03-13 00:01:18,799 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:01:18,799 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:01:18,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:01:18,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,806 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:01:18,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:01:18,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,807 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:01:18,807 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_test',)
2020-03-13 00:01:18,809 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,809 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,810 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,810 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,811 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692E10> checked out from pool
2020-03-13 00:01:18,811 root:INFO:models:mysql_connect:MainProcess:4860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-13 00:01:18,813 root:INFO:models:mysql_connect:MainProcess:4860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-13 00:01:18,814 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692E10> being returned to pool
2020-03-13 00:01:18,814 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692E10> rollback-on-return
2020-03-13 00:01:18,818 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616D2080>
2020-03-13 00:01:18,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:01:18,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,821 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,821 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:01:18,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:01:18,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:01:18,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:01:18,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,825 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:01:18,825 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:01:18,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,827 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,827 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,827 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616D2080> checked out from pool
2020-03-13 00:01:18,828 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:01:18,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-13 00:01:18,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'custom_num_1': '5550008088'}
2020-03-13 00:01:18,831 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-13 00:01:18,831 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-13 00:01:18,831 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-13 00:01:18,831 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:01:18,831 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:01:18,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616D2080> being returned to pool
2020-03-13 00:01:18,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616D2080> rollback-on-return, via agent
2020-03-13 00:01:18,831 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:01:18,832 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000255616C8CF8>, <hospital_test.models.Address object at 0x00000255616C85F8>, <hospital_test.models.Address object at 0x00000255616C8780>, <hospital_test.models.Address object at 0x00000255616C8BA8>]}
2020-03-13 00:01:18,835 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616C8D30>
2020-03-13 00:01:18,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:01:18,835 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,837 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,837 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:01:18,838 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:01:18,838 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,839 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:01:18,839 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:01:18,840 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:01:18,840 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:01:18,840 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:01:18,840 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:01:18,841 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,841 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,842 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:01:18,842 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:01:18,842 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616C8D30> checked out from pool
2020-03-13 00:01:18,842 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:01:18,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-13 00:01:18,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'pres_num_1': 'MZ_201912203096'}
2020-03-13 00:01:18,844 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-13 00:01:18,844 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('MZ_201912203096', 7, None, 0)
2020-03-13 00:01:18,844 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616C8D30> being returned to pool
2020-03-13 00:01:18,845 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616C8D30> rollback-on-return, via agent
2020-03-13 00:01:18,845 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:01:18,845 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000255616C8CF8>, <hospital_test.models.Address object at 0x00000255616C85F8>, <hospital_test.models.Address object at 0x00000255616C8780>, <hospital_test.models.Address object at 0x00000255616C8BA8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000255616D2F98>]}
2020-03-13 00:21:44,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561686AC8>
2020-03-13 00:21:44,961 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:21:44,961 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,962 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:44,963 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:21:44,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:21:44,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,964 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:44,964 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:21:44,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:21:44,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,966 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:21:44,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:21:44,967 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:44,967 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:44,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:44,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:44,968 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561686AC8> checked out from pool
2020-03-13 00:21:44,968 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `pres_consignee`
2020-03-13 00:21:44,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,969 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:21:44,970 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:21:44,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid _prescriptions`
2020-03-13 00:21:44,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,972 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:21:44,972 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:21:44,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid_prescription_details`
2020-03-13 00:21:44,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,974 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:21:44,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-13 00:21:44,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `custom_addr`
2020-03-13 00:21:44,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,975 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:21:44,975 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-13 00:21:44,975 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561686AC8> being returned to pool
2020-03-13 00:21:44,975 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561686AC8> rollback-on-return
2020-03-13 00:21:44,977 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2198>
2020-03-13 00:21:44,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:21:44,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,979 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:44,979 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:21:44,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:21:44,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:44,981 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:21:44,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:21:44,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:21:44,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_test',)
2020-03-13 00:21:44,983 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:44,983 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:44,983 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:44,983 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:44,984 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2198> checked out from pool
2020-03-13 00:21:44,984 root:INFO:models:mysql_connect:MainProcess:4860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-13 00:21:44,984 root:INFO:models:mysql_connect:MainProcess:4860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-13 00:21:44,984 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2198> being returned to pool
2020-03-13 00:21:44,984 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D2198> rollback-on-return
2020-03-13 00:21:44,987 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561689E10>
2020-03-13 00:21:44,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:21:44,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,989 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:44,989 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:21:44,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:21:44,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,991 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:44,991 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:21:44,991 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:21:44,991 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:44,992 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:21:44,992 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:21:44,993 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:44,994 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:44,994 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:44,994 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:44,995 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561689E10> checked out from pool
2020-03-13 00:21:44,995 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:21:44,995 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-13 00:21:44,995 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'custom_num_1': '5550008088'}
2020-03-13 00:21:44,996 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-13 00:21:44,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-13 00:21:44,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-13 00:21:44,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:21:44,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:21:44,997 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561689E10> being returned to pool
2020-03-13 00:21:44,997 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561689E10> rollback-on-return, via agent
2020-03-13 00:21:44,997 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:21:44,997 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000025561689C88>, <hospital_test.models.Address object at 0x0000025561689C50>, <hospital_test.models.Address object at 0x0000025561689A20>, <hospital_test.models.Address object at 0x0000025561730B38>]}
2020-03-13 00:21:44,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A5C320>
2020-03-13 00:21:44,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:21:44,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:45,000 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:45,001 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:21:45,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:21:45,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:45,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:21:45,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:21:45,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:21:45,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:21:45,003 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:21:45,003 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:21:45,004 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:45,004 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:45,004 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:21:45,005 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:21:45,005 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A5C320> checked out from pool
2020-03-13 00:21:45,005 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:21:45,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-13 00:21:45,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'pres_num_1': 'MZ_201912203096'}
2020-03-13 00:21:45,006 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-13 00:21:45,006 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('MZ_201912203096', 7, None, 0)
2020-03-13 00:21:45,006 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A5C320> being returned to pool
2020-03-13 00:21:45,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A5C320> rollback-on-return, via agent
2020-03-13 00:21:45,007 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:21:45,007 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000025561689C88>, <hospital_test.models.Address object at 0x0000025561689C50>, <hospital_test.models.Address object at 0x0000025561689A20>, <hospital_test.models.Address object at 0x0000025561730B38>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000255616895C0>]}
2020-03-13 00:39:29,743 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002556171F860>
2020-03-13 00:39:29,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:39:29,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,745 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:39:29,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:39:29,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:39:29,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:39:29,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,748 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:39:29,748 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:39:29,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,751 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556171F860> checked out from pool
2020-03-13 00:39:29,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `pres_consignee`
2020-03-13 00:39:29,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:39:29,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:39:29,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid _prescriptions`
2020-03-13 00:39:29,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,756 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:39:29,756 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:39:29,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid_prescription_details`
2020-03-13 00:39:29,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:39:29,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-13 00:39:29,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `custom_addr`
2020-03-13 00:39:29,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,758 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:39:29,758 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-13 00:39:29,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556171F860> being returned to pool
2020-03-13 00:39:29,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556171F860> rollback-on-return
2020-03-13 00:39:29,761 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616A78D0>
2020-03-13 00:39:29,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:39:29,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:39:29,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:39:29,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,765 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,765 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:39:29,765 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:39:29,765 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,766 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:39:29,766 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_test',)
2020-03-13 00:39:29,767 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,767 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,767 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,768 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,768 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616A78D0> checked out from pool
2020-03-13 00:39:29,768 root:INFO:models:mysql_connect:MainProcess:4860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-13 00:39:29,769 root:INFO:models:mysql_connect:MainProcess:4860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-13 00:39:29,769 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616A78D0> being returned to pool
2020-03-13 00:39:29,769 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616A78D0> rollback-on-return
2020-03-13 00:39:29,772 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616EAEB8>
2020-03-13 00:39:29,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:39:29,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,773 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,773 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:39:29,774 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:39:29,774 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,775 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,775 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:39:29,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:39:29,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,776 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:39:29,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:39:29,776 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,777 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,777 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,777 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616EAEB8> checked out from pool
2020-03-13 00:39:29,777 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:39:29,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-13 00:39:29,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'custom_num_1': '5550008088'}
2020-03-13 00:39:29,780 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-13 00:39:29,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-13 00:39:29,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-13 00:39:29,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:39:29,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:39:29,780 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616EAEB8> being returned to pool
2020-03-13 00:39:29,780 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616EAEB8> rollback-on-return, via agent
2020-03-13 00:39:29,780 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:39:29,780 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000255616DCEB8>, <hospital_test.models.Address object at 0x00000255616DCF28>, <hospital_test.models.Address object at 0x00000255616DB940>, <hospital_test.models.Address object at 0x00000255616DBB00>]}
2020-03-13 00:39:29,783 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616DBBE0>
2020-03-13 00:39:29,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:39:29,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,785 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,785 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:39:29,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:39:29,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:39:29,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:39:29,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:39:29,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:39:29,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:39:29,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:39:29,787 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:39:29,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:39:29,788 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616DBBE0> checked out from pool
2020-03-13 00:39:29,788 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:39:29,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-13 00:39:29,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'pres_num_1': 'MZ_201912203096'}
2020-03-13 00:39:29,789 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-13 00:39:29,789 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('MZ_201912203096', 7, None, 0)
2020-03-13 00:39:29,790 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616DBBE0> being returned to pool
2020-03-13 00:39:29,790 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616DBBE0> rollback-on-return, via agent
2020-03-13 00:39:29,790 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:39:29,790 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000255616DCEB8>, <hospital_test.models.Address object at 0x00000255616DCF28>, <hospital_test.models.Address object at 0x00000255616DB940>, <hospital_test.models.Address object at 0x00000255616DBB00>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000255617037F0>]}
2020-03-13 00:56:01,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561690710>
2020-03-13 00:56:01,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:56:01,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,525 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,525 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:56:01,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:56:01,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,526 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,526 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:56:01,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:56:01,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,527 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:56:01,527 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:56:01,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,530 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561690710> checked out from pool
2020-03-13 00:56:01,530 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `pres_consignee`
2020-03-13 00:56:01,530 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,531 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:56:01,531 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:56:01,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid _prescriptions`
2020-03-13 00:56:01,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,533 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:56:01,533 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:56:01,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid_prescription_details`
2020-03-13 00:56:01,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,535 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:56:01,535 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-13 00:56:01,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `custom_addr`
2020-03-13 00:56:01,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,536 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:56:01,536 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-13 00:56:01,536 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561690710> being returned to pool
2020-03-13 00:56:01,536 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561690710> rollback-on-return
2020-03-13 00:56:01,538 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561816EF0>
2020-03-13 00:56:01,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:56:01,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,539 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,540 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:56:01,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:56:01,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:56:01,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:56:01,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:56:01,542 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_test',)
2020-03-13 00:56:01,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,543 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,543 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,543 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,543 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561816EF0> checked out from pool
2020-03-13 00:56:01,544 root:INFO:models:mysql_connect:MainProcess:4860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-13 00:56:01,544 root:INFO:models:mysql_connect:MainProcess:4860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-13 00:56:01,544 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561816EF0> being returned to pool
2020-03-13 00:56:01,544 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561816EF0> rollback-on-return
2020-03-13 00:56:01,547 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692400>
2020-03-13 00:56:01,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:56:01,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,548 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,549 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:56:01,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:56:01,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,551 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:56:01,552 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:56:01,552 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,552 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:56:01,552 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:56:01,553 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,553 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,553 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,553 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,554 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692400> checked out from pool
2020-03-13 00:56:01,554 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:56:01,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-13 00:56:01,555 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'custom_num_1': '5550008088'}
2020-03-13 00:56:01,556 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-13 00:56:01,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-13 00:56:01,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-13 00:56:01,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:56:01,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:56:01,556 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692400> being returned to pool
2020-03-13 00:56:01,556 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561692400> rollback-on-return, via agent
2020-03-13 00:56:01,556 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:56:01,556 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000025561B5CD68>, <hospital_test.models.Address object at 0x0000025561B5CD30>, <hospital_test.models.Address object at 0x0000025561B5CB38>, <hospital_test.models.Address object at 0x0000025561B5CB70>]}
2020-03-13 00:56:01,559 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616924E0>
2020-03-13 00:56:01,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:56:01,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,560 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,560 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:56:01,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:56:01,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,562 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:01,562 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:56:01,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:56:01,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:01,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:56:01,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:56:01,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:01,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:01,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616924E0> checked out from pool
2020-03-13 00:56:01,565 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:56:01,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-13 00:56:01,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'pres_num_1': 'MZ_201912203096'}
2020-03-13 00:56:01,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-13 00:56:01,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('MZ_201912203096', 7, None, 0)
2020-03-13 00:56:01,566 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616924E0> being returned to pool
2020-03-13 00:56:01,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616924E0> rollback-on-return, via agent
2020-03-13 00:56:01,567 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:56:01,567 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000025561B5CD68>, <hospital_test.models.Address object at 0x0000025561B5CD30>, <hospital_test.models.Address object at 0x0000025561B5CB38>, <hospital_test.models.Address object at 0x0000025561B5CB70>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000255619D2D30>]}
2020-03-13 00:56:58,406 root:INFO:models:del_custom_addr:MainProcess:4860:删除联系人：==>
2020-03-13 00:56:58,409 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002556167B400>
2020-03-13 00:56:58,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:56:58,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:58,411 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:58,411 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:56:58,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:56:58,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:58,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:56:58,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:56:58,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:56:58,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:56:58,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:56:58,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:56:58,414 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:58,414 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:58,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:56:58,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:56:58,415 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556167B400> checked out from pool
2020-03-13 00:56:58,415 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:56:58,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DELETE FROM custom_addr WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-13 00:56:58,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'addr_id_1': '6'}
2020-03-13 00:56:58,436 root:INFO:models:del_custom_addr:MainProcess:4860:==> Parameters:1
2020-03-13 00:56:58,436 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:4860:COMMIT
2020-03-13 00:56:58,439 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556167B400> being returned to pool
2020-03-13 00:56:58,439 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x000002556167B400> rollback-on-return
2020-03-13 00:56:58,440 root:INFO:models:del_custom_addr:MainProcess:4860:联系人删除成功！
2020-03-13 00:56:58,440 root:INFO:views:del_addr:MainProcess:4860:{'status': 'success'}
2020-03-13 00:57:00,314 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0CEB8>
2020-03-13 00:57:00,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:57:00,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,316 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,316 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:57:00,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:57:00,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:57:00,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:57:00,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,319 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:57:00,319 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:57:00,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0CEB8> checked out from pool
2020-03-13 00:57:00,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `pres_consignee`
2020-03-13 00:57:00,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,323 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:57:00,323 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:57:00,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid _prescriptions`
2020-03-13 00:57:00,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:57:00,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-13 00:57:00,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `mid_prescription_details`
2020-03-13 00:57:00,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:57:00,328 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-13 00:57:00,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:DESCRIBE `custom_addr`
2020-03-13 00:57:00,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-13 00:57:00,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-13 00:57:00,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0CEB8> being returned to pool
2020-03-13 00:57:00,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x0000025561A0CEB8> rollback-on-return
2020-03-13 00:57:00,332 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D24A8>
2020-03-13 00:57:00,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:57:00,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,334 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:57:00,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:57:00,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,336 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,336 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:57:00,336 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:57:00,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,337 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:57:00,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('addr_test',)
2020-03-13 00:57:00,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,339 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D24A8> checked out from pool
2020-03-13 00:57:00,339 root:INFO:models:mysql_connect:MainProcess:4860:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-13 00:57:00,340 root:INFO:models:mysql_connect:MainProcess:4860:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-13 00:57:00,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D24A8> being returned to pool
2020-03-13 00:57:00,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255619D24A8> rollback-on-return
2020-03-13 00:57:00,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B69E8>
2020-03-13 00:57:00,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:57:00,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,345 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,345 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:57:00,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:57:00,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:57:00,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:57:00,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,348 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:57:00,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:57:00,349 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,351 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B69E8> checked out from pool
2020-03-13 00:57:00,351 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:57:00,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-13 00:57:00,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'custom_num_1': '5550008088'}
2020-03-13 00:57:00,353 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-13 00:57:00,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-13 00:57:00,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:57:00,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-13 00:57:00,353 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B69E8> being returned to pool
2020-03-13 00:57:00,353 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B69E8> rollback-on-return, via agent
2020-03-13 00:57:00,354 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:57:00,354 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000255619D26A0>, <hospital_test.models.Address object at 0x00000255619D2F98>, <hospital_test.models.Address object at 0x00000255619D27F0>]}
2020-03-13 00:57:00,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:4860:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B6B38>
2020-03-13 00:57:00,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'sql_mode'
2020-03-13 00:57:00,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-13 00:57:00,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-13 00:57:00,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,360 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('Variable_name', 'Value')
2020-03-13 00:57:00,360 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('lower_case_table_names', '1')
2020-03-13 00:57:00,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT DATABASE()
2020-03-13 00:57:00,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{}
2020-03-13 00:57:00,361 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('DATABASE()',)
2020-03-13 00:57:00,361 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('zhyf_host',)
2020-03-13 00:57:00,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,362 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,362 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-13 00:57:00,362 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:4860:{}
2020-03-13 00:57:00,362 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B6B38> checked out from pool
2020-03-13 00:57:00,362 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:4860:BEGIN (implicit)
2020-03-13 00:57:00,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-13 00:57:00,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:4860:{'pres_num_1': 'MZ_201912203096'}
2020-03-13 00:57:00,364 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:4860:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-13 00:57:00,364 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:4860:Row ('MZ_201912203096', 7, None, 0)
2020-03-13 00:57:00,364 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B6B38> being returned to pool
2020-03-13 00:57:00,364 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:4860:Connection <mysql.connector.connection.MySQLConnection object at 0x00000255616B6B38> rollback-on-return, via agent
2020-03-13 00:57:00,364 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:4860:ROLLBACK
2020-03-13 00:57:00,364 root:INFO:views:entry_addr:MainProcess:4860:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000255619D26A0>, <hospital_test.models.Address object at 0x00000255619D2F98>, <hospital_test.models.Address object at 0x00000255619D27F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000255616E5208>]}
2020-03-13 00:59:25,477 asyncio:DEBUG:selector_events:__init__:MainProcess:4860:Using selector: SelectSelector
